function gD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function yD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UI={exports:{}},ud={},BI={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Symbol.for("react.element"),vD=Symbol.for("react.portal"),_D=Symbol.for("react.fragment"),wD=Symbol.for("react.strict_mode"),ED=Symbol.for("react.profiler"),TD=Symbol.for("react.provider"),ID=Symbol.for("react.context"),SD=Symbol.for("react.forward_ref"),AD=Symbol.for("react.suspense"),PD=Symbol.for("react.memo"),CD=Symbol.for("react.lazy"),J_=Symbol.iterator;function RD(t){return t===null||typeof t!="object"?null:(t=J_&&t[J_]||t["@@iterator"],typeof t=="function"?t:null)}var jI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zI=Object.assign,HI={};function jo(t,e,n){this.props=t,this.context=e,this.refs=HI,this.updater=n||jI}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WI(){}WI.prototype=jo.prototype;function Zg(t,e,n){this.props=t,this.context=e,this.refs=HI,this.updater=n||jI}var ey=Zg.prototype=new WI;ey.constructor=Zg;zI(ey,jo.prototype);ey.isPureReactComponent=!0;var Z_=Array.isArray,KI=Object.prototype.hasOwnProperty,ty={current:null},GI={key:!0,ref:!0,__self:!0,__source:!0};function qI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KI.call(e,r)&&!GI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:tu,type:t,key:s,ref:o,props:i,_owner:ty.current}}function xD(t,e){return{$$typeof:tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ny(t){return typeof t=="object"&&t!==null&&t.$$typeof===tu}function bD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ew=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bD(""+t.key):e.toString(36)}function Cc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tu:case vD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lh(o,0):r,Z_(i)?(n="",t!=null&&(n=t.replace(ew,"$&/")+"/"),Cc(i,e,n,"",function(u){return u})):i!=null&&(ny(i)&&(i=xD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ew,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Z_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Lh(s,a);o+=Cc(s,e,n,l,i)}else if(l=RD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Lh(s,a++),o+=Cc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Rc={transition:null},DD={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:ty};ue.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!ny(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=jo;ue.Fragment=_D;ue.Profiler=ED;ue.PureComponent=Zg;ue.StrictMode=wD;ue.Suspense=AD;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ty.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KI.call(e,l)&&!GI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:tu,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:ID,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TD,_context:t},t.Consumer=t};ue.createElement=qI;ue.createFactory=function(t){var e=qI.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:SD,render:t}};ue.isValidElement=ny;ue.lazy=function(t){return{$$typeof:CD,_payload:{_status:-1,_result:t},_init:kD}};ue.memo=function(t,e){return{$$typeof:PD,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ue.useContext=function(t){return Nt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ue.useId=function(){return Nt.current.useId()};ue.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};ue.useRef=function(t){return Nt.current.useRef(t)};ue.useState=function(t){return Nt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Nt.current.useTransition()};ue.version="18.2.0";BI.exports=ue;var v=BI.exports;const q=yD(v),rf=gD({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD=v,VD=Symbol.for("react.element"),ND=Symbol.for("react.fragment"),MD=Object.prototype.hasOwnProperty,LD=OD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FD={key:!0,ref:!0,__self:!0,__source:!0};function QI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MD.call(e,r)&&!FD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VD,type:t,key:s,ref:o,props:i,_owner:LD.current}}ud.Fragment=ND;ud.jsx=QI;ud.jsxs=QI;UI.exports=ud;var Kp=UI.exports,YI={exports:{}},nn={},XI={exports:{}},JI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,L){var z=F.length;F.push(L);e:for(;0<z;){var X=z-1>>>1,ie=F[X];if(0<i(ie,L))F[X]=L,F[z]=ie,z=X;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],z=F.pop();if(z!==L){F[0]=z;e:for(var X=0,ie=F.length,se=ie>>>1;X<se;){var pn=2*(X+1)-1,At=F[pn],mn=pn+1,Ft=F[mn];if(0>i(At,z))mn<ie&&0>i(Ft,At)?(F[X]=Ft,F[mn]=z,X=mn):(F[X]=At,F[pn]=z,X=pn);else if(mn<ie&&0>i(Ft,z))F[X]=Ft,F[mn]=z,X=mn;else break e}}return L}function i(F,L){var z=F.sortIndex-L.sortIndex;return z!==0?z:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,d=null,h=3,m=!1,y=!1,I=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=F)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function k(F){if(I=!1,E(F),!y)if(n(l)!==null)y=!0,he(O);else{var L=n(u);L!==null&&ee(k,L.startTime-F)}}function O(F,L){y=!1,I&&(I=!1,_(T),T=-1),m=!0;var z=h;try{for(E(L),d=n(l);d!==null&&(!(d.expirationTime>L)||F&&!b());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var ie=X(d.expirationTime<=L);L=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),E(L)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var pn=n(u);pn!==null&&ee(k,pn.startTime-L),se=!1}return se}finally{d=null,h=z,m=!1}}var N=!1,P=null,T=-1,C=5,R=-1;function b(){return!(t.unstable_now()-R<C)}function D(){if(P!==null){var F=t.unstable_now();R=F;var L=!0;try{L=P(!0,F)}finally{L?x():(N=!1,P=null)}}else N=!1}var x;if(typeof w=="function")x=function(){w(D)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ee=re.port2;re.port1.onmessage=D,x=function(){Ee.postMessage(null)}}else x=function(){S(D,0)};function he(F){P=F,N||(N=!0,x())}function ee(F,L){T=S(function(){F(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,he(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return F()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=h;h=F;try{return L()}finally{h=z}},t.unstable_scheduleCallback=function(F,L,z){var X=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,F={id:f++,callback:L,priorityLevel:F,startTime:z,expirationTime:ie,sortIndex:-1},z>X?(F.sortIndex=z,e(u,F),n(l)===null&&F===n(u)&&(I?(_(T),T=-1):I=!0,ee(k,z-X))):(F.sortIndex=ie,e(l,F),y||m||(y=!0,he(O))),F},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(F){var L=h;return function(){var z=h;h=L;try{return F.apply(this,arguments)}finally{h=z}}}})(JI);XI.exports=JI;var $D=XI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZI=v,tn=$D;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eS=new Set,vl={};function Ts(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(vl[t]=e,t=0;t<e.length;t++)eS.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,UD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tw={},nw={};function BD(t){return Gp.call(nw,t)?!0:Gp.call(tw,t)?!1:UD.test(t)?nw[t]=!0:(tw[t]=!0,!1)}function jD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zD(t,e,n,r){if(e===null||typeof e>"u"||jD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function iy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ry,iy);lt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ry,iy);lt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ry,iy);lt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sy(t,e,n,r){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zD(e,n,i,r)&&(n=null),r||i===null?BD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=ZI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),nS=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),rS=Symbol.for("react.offscreen"),rw=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=rw&&t[rw]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Fh;function Va(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var $h=!1;function Uh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Va(t):""}function HD(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Bs:return"Portal";case qp:return"Profiler";case oy:return"StrictMode";case Qp:return"Suspense";case Yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nS:return(t.displayName||"Context")+".Consumer";case tS:return(t._context.displayName||"Context")+".Provider";case ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ly:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function WD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KD(t){var e=iS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=KD(t))}function sS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jp(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oS(t,e){e=e.checked,e!=null&&sy(t,"checked",e,!1)}function Zp(t,e){oS(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Na=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ow(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Na(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function aS(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,uS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GD=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){GD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function cS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function fS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qD=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(qD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function im(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,ao=null,lo=null;function lw(t){if(t=iu(t)){if(typeof om!="function")throw Error(B(280));var e=t.stateNode;e&&(e=pd(e),om(t.stateNode,t.type,e))}}function dS(t){ao?lo?lo.push(t):lo=[t]:ao=t}function hS(){if(ao){var t=ao,e=lo;if(lo=ao=null,lw(t),e)for(t=0;t<e.length;t++)lw(e[t])}}function pS(t,e){return t(e)}function mS(){}var Bh=!1;function gS(t,e,n){if(Bh)return t(e,n);Bh=!0;try{return pS(t,e,n)}finally{Bh=!1,(ao!==null||lo!==null)&&(mS(),hS())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var am=!1;if(mr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){am=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{am=!1}function QD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Qa=!1,of=null,af=!1,lm=null,YD={onError:function(t){Qa=!0,of=t}};function XD(t,e,n,r,i,s,o,a,l){Qa=!1,of=null,QD.apply(YD,arguments)}function JD(t,e,n,r,i,s,o,a,l){if(XD.apply(this,arguments),Qa){if(Qa){var u=of;Qa=!1,of=null}else throw Error(B(198));af||(af=!0,lm=u)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uw(t){if(Is(t)!==t)throw Error(B(188))}function ZD(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return uw(i),t;if(s===r)return uw(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function vS(t){return t=ZD(t),t!==null?_S(t):null}function _S(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_S(t);if(e!==null)return e;t=t.sibling}return null}var wS=tn.unstable_scheduleCallback,cw=tn.unstable_cancelCallback,eO=tn.unstable_shouldYield,tO=tn.unstable_requestPaint,Ue=tn.unstable_now,nO=tn.unstable_getCurrentPriorityLevel,cy=tn.unstable_ImmediatePriority,ES=tn.unstable_UserBlockingPriority,lf=tn.unstable_NormalPriority,rO=tn.unstable_LowPriority,TS=tn.unstable_IdlePriority,cd=null,Fn=null;function iO(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(cd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:aO,sO=Math.log,oO=Math.LN2;function aO(t){return t>>>=0,t===0?32:31-(sO(t)/oO|0)|0}var tc=64,nc=4194304;function Ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ma(a):(s&=o,s!==0&&(r=Ma(s)))}else o=n&~i,o!==0?r=Ma(o):s!==0&&(r=Ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function lO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function um(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function IS(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function cO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function SS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AS,dy,PS,CS,RS,cm=!1,rc=[],Jr=null,Zr=null,ei=null,El=new Map,Tl=new Map,Fr=[],fO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":El.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=iu(e),e!==null&&dy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dO(t,e,n,r,i){switch(e){case"focusin":return Jr=Sa(Jr,t,e,n,r,i),!0;case"dragenter":return Zr=Sa(Zr,t,e,n,r,i),!0;case"mouseover":return ei=Sa(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return El.set(s,Sa(El.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tl.set(s,Sa(Tl.get(s)||null,t,e,n,r,i)),!0}return!1}function xS(t){var e=qi(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=yS(n),e!==null){t.blockedOn=e,RS(t.priority,function(){PS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sm=r,n.target.dispatchEvent(r),sm=null}else return e=iu(n),e!==null&&dy(e),t.blockedOn=n,!1;e.shift()}return!0}function dw(t,e,n){xc(t)&&n.delete(e)}function hO(){cm=!1,Jr!==null&&xc(Jr)&&(Jr=null),Zr!==null&&xc(Zr)&&(Zr=null),ei!==null&&xc(ei)&&(ei=null),El.forEach(dw),Tl.forEach(dw)}function Aa(t,e){t.blockedOn===e&&(t.blockedOn=null,cm||(cm=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,hO)))}function Il(t){function e(i){return Aa(i,t)}if(0<rc.length){Aa(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&Aa(Jr,t),Zr!==null&&Aa(Zr,t),ei!==null&&Aa(ei,t),El.forEach(e),Tl.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)xS(n),n.blockedOn===null&&Fr.shift()}var uo=Cr.ReactCurrentBatchConfig,cf=!0;function pO(t,e,n,r){var i=ge,s=uo.transition;uo.transition=null;try{ge=1,hy(t,e,n,r)}finally{ge=i,uo.transition=s}}function mO(t,e,n,r){var i=ge,s=uo.transition;uo.transition=null;try{ge=4,hy(t,e,n,r)}finally{ge=i,uo.transition=s}}function hy(t,e,n,r){if(cf){var i=fm(t,e,n,r);if(i===null)Jh(t,e,r,ff,n),fw(t,r);else if(dO(i,t,e,n,r))r.stopPropagation();else if(fw(t,r),e&4&&-1<fO.indexOf(t)){for(;i!==null;){var s=iu(i);if(s!==null&&AS(s),s=fm(t,e,n,r),s===null&&Jh(t,e,r,ff,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var ff=null;function fm(t,e,n,r){if(ff=null,t=uy(r),t=qi(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ff=t,null}function bS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nO()){case cy:return 1;case ES:return 4;case lf:case rO:return 16;case TS:return 536870912;default:return 16}default:return 16}}var Kr=null,py=null,bc=null;function kS(){if(bc)return bc;var t,e=py,n=e.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bc=i.slice(t,1<r?1-r:void 0)}function kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ic(){return!0}function hw(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ic:hw,this.isPropagationStopped=hw,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=rn(zo),ru=ke({},zo,{view:0,detail:0}),gO=rn(ru),zh,Hh,Pa,fd=ke({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(zh=t.screenX-Pa.screenX,Hh=t.screenY-Pa.screenY):Hh=zh=0,Pa=t),zh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),pw=rn(fd),yO=ke({},fd,{dataTransfer:0}),vO=rn(yO),_O=ke({},ru,{relatedTarget:0}),Wh=rn(_O),wO=ke({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),EO=rn(wO),TO=ke({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IO=rn(TO),SO=ke({},zo,{data:0}),mw=rn(SO),AO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CO[t])?!!e[t]:!1}function gy(){return RO}var xO=ke({},ru,{key:function(t){if(t.key){var e=AO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(t){return t.type==="keypress"?kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bO=rn(xO),kO=ke({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=rn(kO),DO=ke({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),OO=rn(DO),VO=ke({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NO=rn(VO),MO=ke({},fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LO=rn(MO),FO=[9,13,27,32],yy=mr&&"CompositionEvent"in window,Ya=null;mr&&"documentMode"in document&&(Ya=document.documentMode);var $O=mr&&"TextEvent"in window&&!Ya,DS=mr&&(!yy||Ya&&8<Ya&&11>=Ya),yw=String.fromCharCode(32),vw=!1;function OS(t,e){switch(t){case"keyup":return FO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function UO(t,e){switch(t){case"compositionend":return VS(e);case"keypress":return e.which!==32?null:(vw=!0,yw);case"textInput":return t=e.data,t===yw&&vw?null:t;default:return null}}function BO(t,e){if(zs)return t==="compositionend"||!yy&&OS(t,e)?(t=kS(),bc=py=Kr=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DS&&e.locale!=="ko"?null:e.data;default:return null}}var jO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jO[t.type]:e==="textarea"}function NS(t,e,n,r){dS(r),e=df(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,Sl=null;function zO(t){KS(t,0)}function dd(t){var e=Ks(t);if(sS(e))return t}function HO(t,e){if(t==="change")return e}var MS=!1;if(mr){var Kh;if(mr){var Gh="oninput"in document;if(!Gh){var ww=document.createElement("div");ww.setAttribute("oninput","return;"),Gh=typeof ww.oninput=="function"}Kh=Gh}else Kh=!1;MS=Kh&&(!document.documentMode||9<document.documentMode)}function Ew(){Xa&&(Xa.detachEvent("onpropertychange",LS),Sl=Xa=null)}function LS(t){if(t.propertyName==="value"&&dd(Sl)){var e=[];NS(e,Sl,t,uy(t)),gS(zO,e)}}function WO(t,e,n){t==="focusin"?(Ew(),Xa=e,Sl=n,Xa.attachEvent("onpropertychange",LS)):t==="focusout"&&Ew()}function KO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dd(Sl)}function GO(t,e){if(t==="click")return dd(e)}function qO(t,e){if(t==="input"||t==="change")return dd(e)}function QO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:QO;function Al(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function Tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iw(t,e){var n=Tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tw(n)}}function FS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $S(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YO(t){var e=$S(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FS(n.ownerDocument.documentElement,n)){if(r!==null&&vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Iw(n,s);var o=Iw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XO=mr&&"documentMode"in document&&11>=document.documentMode,Hs=null,dm=null,Ja=null,hm=!1;function Sw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hm||Hs==null||Hs!==sf(r)||(r=Hs,"selectionStart"in r&&vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&Al(Ja,r)||(Ja=r,r=df(dm,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},qh={},US={};mr&&(US=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function hd(t){if(qh[t])return qh[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in US)return qh[t]=e[n];return t}var BS=hd("animationend"),jS=hd("animationiteration"),zS=hd("animationstart"),HS=hd("transitionend"),WS=new Map,Aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){WS.set(t,e),Ts(e,[t])}for(var Qh=0;Qh<Aw.length;Qh++){var Yh=Aw[Qh],JO=Yh.toLowerCase(),ZO=Yh[0].toUpperCase()+Yh.slice(1);Ii(JO,"on"+ZO)}Ii(BS,"onAnimationEnd");Ii(jS,"onAnimationIteration");Ii(zS,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(HS,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Pw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JD(r,e,void 0,t),t.currentTarget=null}function KS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Pw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Pw(i,a,u),s=l}}}if(af)throw t=lm,af=!1,lm=null,t}function Ie(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var r=t+"__bubble";n.has(r)||(GS(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),GS(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[oc]){t[oc]=!0,eS.forEach(function(n){n!=="selectionchange"&&(eV.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Xh("selectionchange",!1,e))}}function GS(t,e,n,r){switch(bS(e)){case 1:var i=pO;break;case 4:i=mO;break;default:i=hy}n=i.bind(null,e,n,t),i=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gS(function(){var u=s,f=uy(n),d=[];e:{var h=WS.get(t);if(h!==void 0){var m=my,y=t;switch(t){case"keypress":if(kc(n)===0)break e;case"keydown":case"keyup":m=bO;break;case"focusin":y="focus",m=Wh;break;case"focusout":y="blur",m=Wh;break;case"beforeblur":case"afterblur":m=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OO;break;case BS:case jS:case zS:m=EO;break;case HS:m=NO;break;case"scroll":m=gO;break;case"wheel":m=LO;break;case"copy":case"cut":case"paste":m=IO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gw}var I=(e&4)!==0,S=!I&&t==="scroll",_=I?h!==null?h+"Capture":null:h;I=[];for(var w=u,E;w!==null;){E=w;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=wl(w,_),k!=null&&I.push(Cl(w,k,E)))),S)break;w=w.return}0<I.length&&(h=new m(h,y,null,n,f),d.push({event:h,listeners:I}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==sm&&(y=n.relatedTarget||n.fromElement)&&(qi(y)||y[gr]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?qi(y):null,y!==null&&(S=Is(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(I=pw,k="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=gw,k="onPointerLeave",_="onPointerEnter",w="pointer"),S=m==null?h:Ks(m),E=y==null?h:Ks(y),h=new I(k,w+"leave",m,n,f),h.target=S,h.relatedTarget=E,k=null,qi(f)===u&&(I=new I(_,w+"enter",y,n,f),I.target=E,I.relatedTarget=S,k=I),S=k,m&&y)t:{for(I=m,_=y,w=0,E=I;E;E=Ms(E))w++;for(E=0,k=_;k;k=Ms(k))E++;for(;0<w-E;)I=Ms(I),w--;for(;0<E-w;)_=Ms(_),E--;for(;w--;){if(I===_||_!==null&&I===_.alternate)break t;I=Ms(I),_=Ms(_)}I=null}else I=null;m!==null&&Cw(d,h,m,I,!1),y!==null&&S!==null&&Cw(d,S,y,I,!0)}}e:{if(h=u?Ks(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var O=HO;else if(_w(h))if(MS)O=qO;else{O=KO;var N=WO}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=GO);if(O&&(O=O(t,u))){NS(d,O,n,f);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&em(h,"number",h.value)}switch(N=u?Ks(u):window,t){case"focusin":(_w(N)||N.contentEditable==="true")&&(Hs=N,dm=u,Ja=null);break;case"focusout":Ja=dm=Hs=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,Sw(d,n,f);break;case"selectionchange":if(XO)break;case"keydown":case"keyup":Sw(d,n,f)}var P;if(yy)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else zs?OS(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(DS&&n.locale!=="ko"&&(zs||T!=="onCompositionStart"?T==="onCompositionEnd"&&zs&&(P=kS()):(Kr=f,py="value"in Kr?Kr.value:Kr.textContent,zs=!0)),N=df(u,T),0<N.length&&(T=new mw(T,t,null,n,f),d.push({event:T,listeners:N}),P?T.data=P:(P=VS(n),P!==null&&(T.data=P)))),(P=$O?UO(t,n):BO(t,n))&&(u=df(u,"onBeforeInput"),0<u.length&&(f=new mw("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=P))}KS(d,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(t,n),s!=null&&r.unshift(Cl(t,s,i)),s=wl(t,e),s!=null&&r.push(Cl(t,s,i))),t=t.return}return r}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=wl(n,s),l!=null&&o.unshift(Cl(n,l,a))):i||(l=wl(n,s),l!=null&&o.push(Cl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tV=/\r\n?/g,nV=/\u0000|\uFFFD/g;function Rw(t){return(typeof t=="string"?t:""+t).replace(tV,`
`).replace(nV,"")}function ac(t,e,n){if(e=Rw(e),Rw(t)!==e&&n)throw Error(B(425))}function hf(){}var pm=null,mm=null;function gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,rV=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,iV=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(t){return xw.resolve(null).then(t).catch(sV)}:ym;function sV(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Il(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ho,Rl="__reactProps$"+Ho,gr="__reactContainer$"+Ho,vm="__reactEvents$"+Ho,oV="__reactListeners$"+Ho,aV="__reactHandles$"+Ho;function qi(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bw(t);t!==null;){if(n=t[Ln])return n;t=bw(t)}return e}t=n,n=t.parentNode}return null}function iu(t){return t=t[Ln]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function pd(t){return t[Rl]||null}var _m=[],Gs=-1;function Si(t){return{current:t}}function Ae(t){0>Gs||(t.current=_m[Gs],_m[Gs]=null,Gs--)}function we(t,e){Gs++,_m[Gs]=t.current,t.current=e}var hi={},It=Si(hi),Wt=Si(!1),ls=hi;function Eo(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function pf(){Ae(Wt),Ae(It)}function kw(t,e,n){if(It.current!==hi)throw Error(B(168));we(It,e),we(Wt,n)}function qS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,WD(t)||"Unknown",i));return ke({},n,r)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,ls=It.current,we(It,t),we(Wt,Wt.current),!0}function Dw(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=qS(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Ae(Wt),Ae(It),we(It,t)):Ae(Wt),we(Wt,n)}var ar=null,md=!1,ep=!1;function QS(t){ar===null?ar=[t]:ar.push(t)}function lV(t){md=!0,QS(t)}function Ai(){if(!ep&&ar!==null){ep=!0;var t=0,e=ge;try{var n=ar;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ar=null,md=!1}catch(i){throw ar!==null&&(ar=ar.slice(t+1)),wS(cy,Ai),i}finally{ge=e,ep=!1}}return null}var qs=[],Qs=0,gf=null,yf=0,an=[],ln=0,us=null,lr=1,ur="";function ji(t,e){qs[Qs++]=yf,qs[Qs++]=gf,gf=t,yf=e}function YS(t,e,n){an[ln++]=lr,an[ln++]=ur,an[ln++]=us,us=t;var r=lr;t=ur;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-Pn(e)+i|n<<i|r,ur=s+t}else lr=1<<s|n<<i|r,ur=t}function _y(t){t.return!==null&&(ji(t,1),YS(t,1,0))}function wy(t){for(;t===gf;)gf=qs[--Qs],qs[Qs]=null,yf=qs[--Qs],qs[Qs]=null;for(;t===us;)us=an[--ln],an[ln]=null,ur=an[--ln],an[ln]=null,lr=an[--ln],an[ln]=null}var Zt=null,Xt=null,Pe=!1,Tn=null;function XS(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ow(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Em(t){if(Pe){var e=Xt;if(e){var n=e;if(!Ow(t,e)){if(wm(t))throw Error(B(418));e=ti(n.nextSibling);var r=Zt;e&&Ow(t,e)?XS(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Zt=t)}}else{if(wm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Pe=!1,Zt=t}}}function Vw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function lc(t){if(t!==Zt)return!1;if(!Pe)return Vw(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gm(t.type,t.memoizedProps)),e&&(e=Xt)){if(wm(t))throw JS(),Error(B(418));for(;e;)XS(t,e),e=ti(e.nextSibling)}if(Vw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?ti(t.stateNode.nextSibling):null;return!0}function JS(){for(var t=Xt;t;)t=ti(t.nextSibling)}function To(){Xt=Zt=null,Pe=!1}function Ey(t){Tn===null?Tn=[t]:Tn.push(t)}var uV=Cr.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vf=Si(null),_f=null,Ys=null,Ty=null;function Iy(){Ty=Ys=_f=null}function Sy(t){var e=vf.current;Ae(vf),t._currentValue=e}function Tm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function co(t,e){_f=t,Ty=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(_f===null)throw Error(B(308));Ys=t,_f.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Qi=null;function Ay(t){Qi===null?Qi=[t]:Qi.push(t)}function ZS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ay(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lr=!1;function Py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ay(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}function Nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wf(t,e,n,r){var i=t.updateQueue;Lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,I=a;switch(h=e,m=n,I.tag){case 1:if(y=I.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=I.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=ke({},d,h);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fs|=o,t.lanes=o,t.memoizedState=d}}function Mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var tA=new ZI.Component().refs;function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=ii(t),s=dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Cn(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=ii(t),s=dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Cn(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=ii(t),i=dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(Cn(e,t,r,n),Dc(e,t,r))}};function Lw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,r)||!Al(i,s):!0}function nA(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Kt(e)?ls:It.current,r=e.contextTypes,s=(r=r!=null)?Eo(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function Sm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=tA,Py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Kt(e)?ls:It.current,i.context=Eo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Im(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),wf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===tA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $w(t){var e=t._init;return e(t._payload)}function rA(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=si(_,w),_.index=0,_.sibling=null,_}function s(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,k){return w===null||w.tag!==6?(w=ap(E,_.mode,k),w.return=_,w):(w=i(w,E),w.return=_,w)}function l(_,w,E,k){var O=E.type;return O===js?f(_,w,E.props.children,k,E.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Mr&&$w(O)===w.type)?(k=i(w,E.props),k.ref=Ca(_,w,E),k.return=_,k):(k=Fc(E.type,E.key,E.props,null,_.mode,k),k.ref=Ca(_,w,E),k.return=_,k)}function u(_,w,E,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=lp(E,_.mode,k),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function f(_,w,E,k,O){return w===null||w.tag!==7?(w=is(E,_.mode,k,O),w.return=_,w):(w=i(w,E),w.return=_,w)}function d(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ap(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ju:return E=Fc(w.type,w.key,w.props,null,_.mode,E),E.ref=Ca(_,null,w),E.return=_,E;case Bs:return w=lp(w,_.mode,E),w.return=_,w;case Mr:var k=w._init;return d(_,k(w._payload),E)}if(Na(w)||Ta(w))return w=is(w,_.mode,E,null),w.return=_,w;uc(_,w)}return null}function h(_,w,E,k){var O=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(_,w,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ju:return E.key===O?l(_,w,E,k):null;case Bs:return E.key===O?u(_,w,E,k):null;case Mr:return O=E._init,h(_,w,O(E._payload),k)}if(Na(E)||Ta(E))return O!==null?null:f(_,w,E,k,null);uc(_,E)}return null}function m(_,w,E,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(w,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:return _=_.get(k.key===null?E:k.key)||null,l(w,_,k,O);case Bs:return _=_.get(k.key===null?E:k.key)||null,u(w,_,k,O);case Mr:var N=k._init;return m(_,w,E,N(k._payload),O)}if(Na(k)||Ta(k))return _=_.get(E)||null,f(w,_,k,O,null);uc(w,k)}return null}function y(_,w,E,k){for(var O=null,N=null,P=w,T=w=0,C=null;P!==null&&T<E.length;T++){P.index>T?(C=P,P=null):C=P.sibling;var R=h(_,P,E[T],k);if(R===null){P===null&&(P=C);break}t&&P&&R.alternate===null&&e(_,P),w=s(R,w,T),N===null?O=R:N.sibling=R,N=R,P=C}if(T===E.length)return n(_,P),Pe&&ji(_,T),O;if(P===null){for(;T<E.length;T++)P=d(_,E[T],k),P!==null&&(w=s(P,w,T),N===null?O=P:N.sibling=P,N=P);return Pe&&ji(_,T),O}for(P=r(_,P);T<E.length;T++)C=m(P,_,T,E[T],k),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?T:C.key),w=s(C,w,T),N===null?O=C:N.sibling=C,N=C);return t&&P.forEach(function(b){return e(_,b)}),Pe&&ji(_,T),O}function I(_,w,E,k){var O=Ta(E);if(typeof O!="function")throw Error(B(150));if(E=O.call(E),E==null)throw Error(B(151));for(var N=O=null,P=w,T=w=0,C=null,R=E.next();P!==null&&!R.done;T++,R=E.next()){P.index>T?(C=P,P=null):C=P.sibling;var b=h(_,P,R.value,k);if(b===null){P===null&&(P=C);break}t&&P&&b.alternate===null&&e(_,P),w=s(b,w,T),N===null?O=b:N.sibling=b,N=b,P=C}if(R.done)return n(_,P),Pe&&ji(_,T),O;if(P===null){for(;!R.done;T++,R=E.next())R=d(_,R.value,k),R!==null&&(w=s(R,w,T),N===null?O=R:N.sibling=R,N=R);return Pe&&ji(_,T),O}for(P=r(_,P);!R.done;T++,R=E.next())R=m(P,_,T,R.value,k),R!==null&&(t&&R.alternate!==null&&P.delete(R.key===null?T:R.key),w=s(R,w,T),N===null?O=R:N.sibling=R,N=R);return t&&P.forEach(function(D){return e(_,D)}),Pe&&ji(_,T),O}function S(_,w,E,k){if(typeof E=="object"&&E!==null&&E.type===js&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ju:e:{for(var O=E.key,N=w;N!==null;){if(N.key===O){if(O=E.type,O===js){if(N.tag===7){n(_,N.sibling),w=i(N,E.props.children),w.return=_,_=w;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Mr&&$w(O)===N.type){n(_,N.sibling),w=i(N,E.props),w.ref=Ca(_,N,E),w.return=_,_=w;break e}n(_,N);break}else e(_,N);N=N.sibling}E.type===js?(w=is(E.props.children,_.mode,k,E.key),w.return=_,_=w):(k=Fc(E.type,E.key,E.props,null,_.mode,k),k.ref=Ca(_,w,E),k.return=_,_=k)}return o(_);case Bs:e:{for(N=E.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=lp(E,_.mode,k),w.return=_,_=w}return o(_);case Mr:return N=E._init,S(_,w,N(E._payload),k)}if(Na(E))return y(_,w,E,k);if(Ta(E))return I(_,w,E,k);uc(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=ap(E,_.mode,k),w.return=_,_=w),o(_)):n(_,w)}return S}var Io=rA(!0),iA=rA(!1),su={},$n=Si(su),xl=Si(su),bl=Si(su);function Yi(t){if(t===su)throw Error(B(174));return t}function Cy(t,e){switch(we(bl,e),we(xl,t),we($n,su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}Ae($n),we($n,e)}function So(){Ae($n),Ae(xl),Ae(bl)}function sA(t){Yi(bl.current);var e=Yi($n.current),n=nm(e,t.type);e!==n&&(we(xl,t),we($n,n))}function Ry(t){xl.current===t&&(Ae($n),Ae(xl))}var Ce=Si(0);function Ef(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tp=[];function xy(){for(var t=0;t<tp.length;t++)tp[t]._workInProgressVersionPrimary=null;tp.length=0}var Oc=Cr.ReactCurrentDispatcher,np=Cr.ReactCurrentBatchConfig,cs=0,be=null,Ge=null,et=null,Tf=!1,Za=!1,kl=0,cV=0;function ht(){throw Error(B(321))}function by(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function ky(t,e,n,r,i,s){if(cs=s,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oc.current=t===null||t.memoizedState===null?pV:mV,t=n(r,i),Za){s=0;do{if(Za=!1,kl=0,25<=s)throw Error(B(301));s+=1,et=Ge=null,e.updateQueue=null,Oc.current=gV,t=n(r,i)}while(Za)}if(Oc.current=If,e=Ge!==null&&Ge.next!==null,cs=0,et=Ge=be=null,Tf=!1,e)throw Error(B(300));return t}function Dy(){var t=kl!==0;return kl=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?be.memoizedState=et=t:et=et.next=t,et}function hn(){if(Ge===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=et===null?be.memoizedState:et.next;if(e!==null)et=e,Ge=t;else{if(t===null)throw Error(B(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},et===null?be.memoizedState=et=t:et=et.next=t}return et}function Dl(t,e){return typeof e=="function"?e(t):e}function rp(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ge,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((cs&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,be.lanes|=f,fs|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Rn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,be.lanes|=s,fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ip(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function oA(){}function aA(t,e){var n=be,r=hn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,Oy(cA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Ol(9,uA.bind(null,n,r,i,e),void 0,null),tt===null)throw Error(B(349));cs&30||lA(n,e,i)}return i}function lA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uA(t,e,n,r){e.value=n,e.getSnapshot=r,fA(e)&&dA(t)}function cA(t,e,n){return n(function(){fA(e)&&dA(t)})}function fA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function dA(t){var e=yr(t,1);e!==null&&Cn(e,t,1,-1)}function Uw(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},e.queue=t,t=t.dispatch=hV.bind(null,be,t),[e.memoizedState,t]}function Ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hA(){return hn().memoizedState}function Vc(t,e,n,r){var i=Nn();be.flags|=t,i.memoizedState=Ol(1|e,n,void 0,r===void 0?null:r)}function yd(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,r!==null&&by(r,o.deps)){i.memoizedState=Ol(e,n,s,r);return}}be.flags|=t,i.memoizedState=Ol(1|e,n,s,r)}function Bw(t,e){return Vc(8390656,8,t,e)}function Oy(t,e){return yd(2048,8,t,e)}function pA(t,e){return yd(4,2,t,e)}function mA(t,e){return yd(4,4,t,e)}function gA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yA(t,e,n){return n=n!=null?n.concat([t]):null,yd(4,4,gA.bind(null,e,t),n)}function Vy(){}function vA(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&by(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _A(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&by(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wA(t,e,n){return cs&21?(Rn(n,e)||(n=IS(),be.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function fV(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=np.transition;np.transition={};try{t(!1),e()}finally{ge=n,np.transition=r}}function EA(){return hn().memoizedState}function dV(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TA(t))IA(e,n);else if(n=ZS(t,e,n,r),n!==null){var i=Dt();Cn(n,t,r,i),SA(n,e,r)}}function hV(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TA(t))IA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ay(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZS(t,e,i,r),n!==null&&(i=Dt(),Cn(n,t,r,i),SA(n,e,r))}}function TA(t){var e=t.alternate;return t===be||e!==null&&e===be}function IA(t,e){Za=Tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fy(t,n)}}var If={readContext:dn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},pV={readContext:dn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Bw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4194308,4,gA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dV.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Uw,useDebugValue:Vy,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Uw(!1),e=t[0];return t=fV.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,i=Nn();if(Pe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),tt===null)throw Error(B(349));cs&30||lA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bw(cA.bind(null,r,s,t),[t]),r.flags|=2048,Ol(9,uA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=tt.identifierPrefix;if(Pe){var n=ur,r=lr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mV={readContext:dn,useCallback:vA,useContext:dn,useEffect:Oy,useImperativeHandle:yA,useInsertionEffect:pA,useLayoutEffect:mA,useMemo:_A,useReducer:rp,useRef:hA,useState:function(){return rp(Dl)},useDebugValue:Vy,useDeferredValue:function(t){var e=hn();return wA(e,Ge.memoizedState,t)},useTransition:function(){var t=rp(Dl)[0],e=hn().memoizedState;return[t,e]},useMutableSource:oA,useSyncExternalStore:aA,useId:EA,unstable_isNewReconciler:!1},gV={readContext:dn,useCallback:vA,useContext:dn,useEffect:Oy,useImperativeHandle:yA,useInsertionEffect:pA,useLayoutEffect:mA,useMemo:_A,useReducer:ip,useRef:hA,useState:function(){return ip(Dl)},useDebugValue:Vy,useDeferredValue:function(t){var e=hn();return Ge===null?e.memoizedState=t:wA(e,Ge.memoizedState,t)},useTransition:function(){var t=ip(Dl)[0],e=hn().memoizedState;return[t,e]},useMutableSource:oA,useSyncExternalStore:aA,useId:EA,unstable_isNewReconciler:!1};function Ao(t,e){try{var n="",r=e;do n+=HD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Am(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yV=typeof WeakMap=="function"?WeakMap:Map;function AA(t,e,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Af||(Af=!0,Nm=r),Am(t,e)},n}function PA(t,e,n){n=dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Am(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Am(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kV.bind(null,t,e,n),e.then(t,t))}function zw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dr(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var vV=Cr.ReactCurrentOwner,zt=!1;function Rt(t,e,n,r){e.child=t===null?iA(e,null,n,r):Io(e,t.child,n,r)}function Ww(t,e,n,r,i){n=n.render;var s=e.ref;return co(e,i),r=ky(t,e,n,r,s,i),n=Dy(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Pe&&n&&_y(e),e.flags|=1,Rt(t,e,r,i),e.child)}function Kw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!jy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CA(t,e,s,r,i)):(t=Fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function CA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Al(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return Pm(t,e,n,r,i)}function RA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Js,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Js,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(Js,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(Js,Yt),Yt|=r;return Rt(t,e,i,n),e.child}function xA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,i){var s=Kt(n)?ls:It.current;return s=Eo(e,s),co(e,i),n=ky(t,e,n,r,s,i),r=Dy(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Pe&&r&&_y(e),e.flags|=1,Rt(t,e,n,i),e.child)}function Gw(t,e,n,r,i){if(Kt(n)){var s=!0;mf(e)}else s=!1;if(co(e,i),e.stateNode===null)Nc(t,e),nA(e,n,r),Sm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Kt(n)?ls:It.current,u=Eo(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Fw(e,o,r,u),Lr=!1;var h=e.memoizedState;o.state=h,wf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Wt.current||Lr?(typeof f=="function"&&(Im(e,n,f,r),l=e.memoizedState),(a=Lr||Lw(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Kt(n)?ls:It.current,l=Eo(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Fw(e,o,r,l),Lr=!1,h=e.memoizedState,o.state=h,wf(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||Wt.current||Lr?(typeof m=="function"&&(Im(e,n,m,r),y=e.memoizedState),(u=Lr||Lw(e,n,u,r,h,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Cm(t,e,n,r,s,i)}function Cm(t,e,n,r,i,s){xA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dw(e,n,!1),vr(t,e,s);r=e.stateNode,vV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Io(e,t.child,null,s),e.child=Io(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=r.state,i&&Dw(e,n,!0),e.child}function bA(t){var e=t.stateNode;e.pendingContext?kw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kw(t,e.context,!1),Cy(t,e.containerInfo)}function qw(t,e,n,r,i){return To(),Ey(i),e.flags|=256,Rt(t,e,n,r),e.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function xm(t){return{baseLanes:t,cachePool:null,transitions:null}}function kA(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Ce,i&1),t===null)return Em(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wd(o,r,0,null),t=is(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xm(n),e.memoizedState=Rm,t):Ny(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _V(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=is(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?xm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Rm,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ny(t,e){return e=wd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&Ey(r),Io(e,t.child,null,n),t=Ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _V(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=sp(Error(B(422))),cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wd({mode:"visible",children:r.children},i,0,null),s=is(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Io(e,t.child,null,o),e.child.memoizedState=xm(o),e.memoizedState=Rm,s);if(!(e.mode&1))return cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=sp(s,r,void 0),cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),Cn(r,t,i,-1))}return By(),r=sp(Error(B(421))),cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=DV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=ti(i.nextSibling),Zt=e,Pe=!0,Tn=null,t!==null&&(an[ln++]=lr,an[ln++]=ur,an[ln++]=us,lr=t.id,ur=t.overflow,us=e),e=Ny(e,r.children),e.flags|=4096,e)}function Qw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tm(t.return,e,n)}function op(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qw(t,n,e);else if(t.tag===19)Qw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ef(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),op(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ef(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}op(e,!0,n,null,s);break;case"together":op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wV(t,e,n){switch(e.tag){case 3:bA(e),To();break;case 5:sA(e);break;case 1:Kt(e.type)&&mf(e);break;case 4:Cy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(vf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?kA(t,e,n):(we(Ce,Ce.current&1),t=vr(t,e,n),t!==null?t.sibling:null);we(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,RA(t,e,n)}return vr(t,e,n)}var OA,bm,VA,NA;OA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bm=function(){};VA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yi($n.current);var s=null;switch(n){case"input":i=Jp(t,i),r=Jp(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=tm(t,i),r=tm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hf)}rm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EV(t,e,n){var r=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Kt(e.type)&&pf(),pt(e),null;case 3:return r=e.stateNode,So(),Ae(Wt),Ae(It),xy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Fm(Tn),Tn=null))),bm(t,e),pt(e),null;case 5:Ry(e);var i=Yi(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)VA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return pt(e),null}if(t=Yi($n.current),lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[Rl]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Ie(La[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":iw(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":ow(r,s),Ie("invalid",r)}rm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Zu(r),sw(r,s,!0);break;case"textarea":Zu(r),aw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Rl]=r,OA(t,e,!1,!1),e.stateNode=t;e:{switch(o=im(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Ie(La[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":iw(t,r),i=Jp(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":ow(t,r),i=tm(t,r),Ie("invalid",t);break;default:i=r}rm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_l(t,l):typeof l=="number"&&_l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&sy(t,s,l,o))}switch(n){case"input":Zu(t),sw(t,r,!1);break;case"textarea":Zu(t),aw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)NA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Yi(bl.current),Yi($n.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return pt(e),null;case 13:if(Ae(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Xt!==null&&e.mode&1&&!(e.flags&128))JS(),To(),e.flags|=98560,s=!1;else if(s=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Ln]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else Tn!==null&&(Fm(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?qe===0&&(qe=3):By())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return So(),bm(t,e),t===null&&Pl(e.stateNode.containerInfo),pt(e),null;case 10:return Sy(e.type._context),pt(e),null;case 17:return Kt(e.type)&&pf(),pt(e),null;case 19:if(Ae(Ce),s=e.memoizedState,s===null)return pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ef(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>Po&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ef(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return pt(e),null}else 2*Ue()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Ce.current,we(Ce,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Uy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function TV(t,e){switch(wy(e),e.tag){case 1:return Kt(e.type)&&pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),Ae(Wt),Ae(It),xy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ry(e),null;case 13:if(Ae(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Ce),null;case 4:return So(),null;case 10:return Sy(e.type._context),null;case 22:case 23:return Uy(),null;case 24:return null;default:return null}}var fc=!1,vt=!1,IV=typeof WeakSet=="function"?WeakSet:Set,K=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function km(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Yw=!1;function SV(t,e){if(pm=cf,t=$S(),vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++f===r&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:t,selectionRange:n},cf=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var I=y.memoizedProps,S=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:wn(e.type,I),S);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){Ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return y=Yw,Yw=!1,y}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&km(e,n,s)}i=i.next}while(i!==r)}}function vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MA(t){var e=t.alternate;e!==null&&(t.alternate=null,MA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Rl],delete e[vm],delete e[oV],delete e[aV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LA(t){return t.tag===5||t.tag===3||t.tag===4}function Xw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hf));else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}var rt=null,En=!1;function Dr(t,e,n){for(n=n.child;n!==null;)FA(t,e,n),n=n.sibling}function FA(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(cd,n)}catch{}switch(n.tag){case 5:vt||Xs(n,e);case 6:var r=rt,i=En;rt=null,Dr(t,e,n),rt=r,En=i,rt!==null&&(En?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(En?(t=rt,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),Il(t)):Zh(rt,n.stateNode));break;case 4:r=rt,i=En,rt=n.stateNode.containerInfo,En=!0,Dr(t,e,n),rt=r,En=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&km(n,e,o),i=i.next}while(i!==r)}Dr(t,e,n);break;case 1:if(!vt&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Dr(t,e,n),vt=r):Dr(t,e,n);break;default:Dr(t,e,n)}}function Jw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IV),e.forEach(function(r){var i=OV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,En=!1;break e;case 3:rt=a.stateNode.containerInfo,En=!0;break e;case 4:rt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(rt===null)throw Error(B(160));FA(s,o,i),rt=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$A(e,t),e=e.sibling}function $A(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Vn(t),r&4){try{el(3,t,t.return),vd(3,t)}catch(I){Ne(t,t.return,I)}try{el(5,t,t.return)}catch(I){Ne(t,t.return,I)}}break;case 1:yn(e,t),Vn(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(yn(e,t),Vn(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(I){Ne(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oS(i,s),im(a,o);var u=im(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?fS(i,d):f==="dangerouslySetInnerHTML"?uS(i,d):f==="children"?_l(i,d):sy(i,f,d,u)}switch(a){case"input":Zp(i,s);break;case"textarea":aS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?oo(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rl]=s}catch(I){Ne(t,t.return,I)}}break;case 6:if(yn(e,t),Vn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Ne(t,t.return,I)}}break;case 3:if(yn(e,t),Vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(I){Ne(t,t.return,I)}break;case 4:yn(e,t),Vn(t);break;case 13:yn(e,t),Vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fy=Ue())),r&4&&Jw(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(u=vt)||f,yn(e,t),vt=u):yn(e,t),Vn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(K=t,f=t.child;f!==null;){for(d=K=f;K!==null;){switch(h=K,m=h.child,h.tag){case 0:case 11:case 14:case 15:el(4,h,h.return);break;case 1:Xs(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(I){Ne(r,n,I)}}break;case 5:Xs(h,h.return);break;case 22:if(h.memoizedState!==null){eE(d);continue}}m!==null?(m.return=h,K=m):eE(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cS("display",o))}catch(I){Ne(t,t.return,I)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(I){Ne(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yn(e,t),Vn(t),r&4&&Jw(t);break;case 21:break;default:yn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LA(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=Xw(t);Vm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Xw(t);Om(t,a,o);break;default:throw Error(B(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AV(t,e,n){K=t,UA(t)}function UA(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=fc;var u=vt;if(fc=o,(vt=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?tE(i):l!==null?(l.return=o,K=l):tE(i);for(;s!==null;)K=s,UA(s),s=s.sibling;K=i,fc=a,vt=u}Zw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Zw(t)}}function Zw(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Il(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}vt||e.flags&512&&Dm(e)}catch(h){Ne(e,e.return,h)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function eE(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function tE(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vd(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{Dm(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{Dm(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var PV=Math.ceil,Sf=Cr.ReactCurrentDispatcher,My=Cr.ReactCurrentOwner,fn=Cr.ReactCurrentBatchConfig,fe=0,tt=null,He=null,at=0,Yt=0,Js=Si(0),qe=0,Vl=null,fs=0,_d=0,Ly=0,tl=null,Ut=null,Fy=0,Po=1/0,or=null,Af=!1,Nm=null,ri=null,dc=!1,Gr=null,Pf=0,nl=0,Mm=null,Mc=-1,Lc=0;function Dt(){return fe&6?Ue():Mc!==-1?Mc:Mc=Ue()}function ii(t){return t.mode&1?fe&2&&at!==0?at&-at:uV.transition!==null?(Lc===0&&(Lc=IS()),Lc):(t=ge,t!==0||(t=window.event,t=t===void 0?16:bS(t.type)),t):1}function Cn(t,e,n,r){if(50<nl)throw nl=0,Mm=null,Error(B(185));nu(t,n,r),(!(fe&2)||t!==tt)&&(t===tt&&(!(fe&2)&&(_d|=n),qe===4&&$r(t,at)),Gt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Po=Ue()+500,md&&Ai()))}function Gt(t,e){var n=t.callbackNode;uO(t,e);var r=uf(t,t===tt?at:0);if(r===0)n!==null&&cw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cw(n),e===1)t.tag===0?lV(nE.bind(null,t)):QS(nE.bind(null,t)),iV(function(){!(fe&6)&&Ai()}),n=null;else{switch(SS(r)){case 1:n=cy;break;case 4:n=ES;break;case 16:n=lf;break;case 536870912:n=TS;break;default:n=lf}n=qA(n,BA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BA(t,e){if(Mc=-1,Lc=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=uf(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=fe;fe|=2;var s=zA();(tt!==t||at!==e)&&(or=null,Po=Ue()+500,rs(t,e));do try{xV();break}catch(a){jA(t,a)}while(1);Iy(),Sf.current=s,fe=i,He!==null?e=0:(tt=null,at=0,e=qe)}if(e!==0){if(e===2&&(i=um(t),i!==0&&(r=i,e=Lm(t,i))),e===1)throw n=Vl,rs(t,0),$r(t,r),Gt(t,Ue()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!CV(i)&&(e=Cf(t,r),e===2&&(s=um(t),s!==0&&(r=s,e=Lm(t,s))),e===1))throw n=Vl,rs(t,0),$r(t,r),Gt(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:zi(t,Ut,or);break;case 3:if($r(t,r),(r&130023424)===r&&(e=Fy+500-Ue(),10<e)){if(uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ym(zi.bind(null,t,Ut,or),e);break}zi(t,Ut,or);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PV(r/1960))-r,10<r){t.timeoutHandle=ym(zi.bind(null,t,Ut,or),r);break}zi(t,Ut,or);break;case 5:zi(t,Ut,or);break;default:throw Error(B(329))}}}return Gt(t,Ue()),t.callbackNode===n?BA.bind(null,t):null}function Lm(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Fm(e)),t}function Fm(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function CV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Ly,e&=~_d,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function nE(t){if(fe&6)throw Error(B(327));fo();var e=uf(t,0);if(!(e&1))return Gt(t,Ue()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=um(t);r!==0&&(e=r,n=Lm(t,r))}if(n===1)throw n=Vl,rs(t,0),$r(t,e),Gt(t,Ue()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Ut,or),Gt(t,Ue()),null}function $y(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Po=Ue()+500,md&&Ai())}}function ds(t){Gr!==null&&Gr.tag===0&&!(fe&6)&&fo();var e=fe;fe|=1;var n=fn.transition,r=ge;try{if(fn.transition=null,ge=1,t)return t()}finally{ge=r,fn.transition=n,fe=e,!(fe&6)&&Ai()}}function Uy(){Yt=Js.current,Ae(Js)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rV(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(wy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:So(),Ae(Wt),Ae(It),xy();break;case 5:Ry(r);break;case 4:So();break;case 13:Ae(Ce);break;case 19:Ae(Ce);break;case 10:Sy(r.type._context);break;case 22:case 23:Uy()}n=n.return}if(tt=t,He=t=si(t.current,null),at=Yt=e,qe=0,Vl=null,Ly=_d=fs=0,Ut=tl=null,Qi!==null){for(e=0;e<Qi.length;e++)if(n=Qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qi=null}return t}function jA(t,e){do{var n=He;try{if(Iy(),Oc.current=If,Tf){for(var r=be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tf=!1}if(cs=0,et=Ge=be=null,Za=!1,kl=0,My.current=null,n===null||n.return===null){qe=1,Vl=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=zw(o);if(m!==null){m.flags&=-257,Hw(m,o,a,s,e),m.mode&1&&jw(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var I=new Set;I.add(l),e.updateQueue=I}else y.add(l);break e}else{if(!(e&1)){jw(s,u,e),By();break e}l=Error(B(426))}}else if(Pe&&a.mode&1){var S=zw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Hw(S,o,a,s,e),Ey(Ao(l,a));break e}}s=l=Ao(l,a),qe!==4&&(qe=2),tl===null?tl=[s]:tl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=AA(s,l,e);Nw(s,_);break e;case 1:a=l;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ri===null||!ri.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=PA(s,a,e);Nw(s,k);break e}}s=s.return}while(s!==null)}WA(n)}catch(O){e=O,He===n&&n!==null&&(He=n=n.return);continue}break}while(1)}function zA(){var t=Sf.current;return Sf.current=If,t===null?If:t}function By(){(qe===0||qe===3||qe===2)&&(qe=4),tt===null||!(fs&268435455)&&!(_d&268435455)||$r(tt,at)}function Cf(t,e){var n=fe;fe|=2;var r=zA();(tt!==t||at!==e)&&(or=null,rs(t,e));do try{RV();break}catch(i){jA(t,i)}while(1);if(Iy(),fe=n,Sf.current=r,He!==null)throw Error(B(261));return tt=null,at=0,qe}function RV(){for(;He!==null;)HA(He)}function xV(){for(;He!==null&&!eO();)HA(He)}function HA(t){var e=GA(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?WA(t):He=e,My.current=null}function WA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TV(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,He=null;return}}else if(n=EV(n,e,Yt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);qe===0&&(qe=5)}function zi(t,e,n){var r=ge,i=fn.transition;try{fn.transition=null,ge=1,bV(t,e,n,r)}finally{fn.transition=i,ge=r}return null}function bV(t,e,n,r){do fo();while(Gr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cO(t,s),t===tt&&(He=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,qA(lf,function(){return fo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fn.transition,fn.transition=null;var o=ge;ge=1;var a=fe;fe|=4,My.current=null,SV(t,n),$A(n,t),YO(mm),cf=!!pm,mm=pm=null,t.current=n,AV(n),tO(),fe=a,ge=o,fn.transition=s}else t.current=n;if(dc&&(dc=!1,Gr=t,Pf=i),s=t.pendingLanes,s===0&&(ri=null),iO(n.stateNode),Gt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Af)throw Af=!1,t=Nm,Nm=null,t;return Pf&1&&t.tag!==0&&fo(),s=t.pendingLanes,s&1?t===Mm?nl++:(nl=0,Mm=t):nl=0,Ai(),null}function fo(){if(Gr!==null){var t=SS(Pf),e=fn.transition,n=ge;try{if(fn.transition=null,ge=16>t?16:t,Gr===null)var r=!1;else{if(t=Gr,Gr=null,Pf=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var f=K;switch(f.tag){case 0:case 11:case 15:el(8,f,s)}var d=f.child;if(d!==null)d.return=f,K=d;else for(;K!==null;){f=K;var h=f.sibling,m=f.return;if(MA(f),f===u){K=null;break}if(h!==null){h.return=m,K=h;break}K=m}}}var y=s.alternate;if(y!==null){var I=y.child;if(I!==null){y.child=null;do{var S=I.sibling;I.sibling=null,I=S}while(I!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:el(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var w=t.current;for(K=w;K!==null;){o=K;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,K=E;else e:for(o=w;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vd(9,a)}}catch(O){Ne(a,a.return,O)}if(a===o){K=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,K=k;break e}K=a.return}}if(fe=i,Ai(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(cd,t)}catch{}r=!0}return r}finally{ge=n,fn.transition=e}}return!1}function rE(t,e,n){e=Ao(n,e),e=AA(t,e,1),t=ni(t,e,1),e=Dt(),t!==null&&(nu(t,1,e),Gt(t,e))}function Ne(t,e,n){if(t.tag===3)rE(t,t,n);else for(;e!==null;){if(e.tag===3){rE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=Ao(n,t),t=PA(e,t,1),e=ni(e,t,1),t=Dt(),e!==null&&(nu(e,1,t),Gt(e,t));break}}e=e.return}}function kV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(qe===4||qe===3&&(at&130023424)===at&&500>Ue()-Fy?rs(t,0):Ly|=n),Gt(t,e)}function KA(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=Dt();t=yr(t,e),t!==null&&(nu(t,e,n),Gt(t,n))}function DV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KA(t,n)}function OV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),KA(t,n)}var GA;GA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,wV(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Pe&&e.flags&1048576&&YS(e,yf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var i=Eo(e,It.current);co(e,n),i=ky(null,e,r,t,i,n);var s=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,mf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Py(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,Sm(e,r,t,n),e=Cm(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&_y(e),Rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NV(r),t=wn(r,t),i){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=Gw(null,e,r,t,n);break e;case 11:e=Ww(null,e,r,t,n);break e;case 14:e=Kw(null,e,r,wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Gw(t,e,r,i,n);case 3:e:{if(bA(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eA(t,e),wf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ao(Error(B(423)),e),e=qw(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error(B(424)),e),e=qw(t,e,r,n,i);break e}else for(Xt=ti(e.stateNode.containerInfo.firstChild),Zt=e,Pe=!0,Tn=null,n=iA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=vr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return sA(e),t===null&&Em(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gm(r,i)?o=null:s!==null&&gm(r,s)&&(e.flags|=32),xA(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Em(e),null;case 13:return kA(t,e,n);case 4:return Cy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ww(t,e,r,i,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(vf,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Wt.current){e=vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,co(e,n),i=dn(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Kw(t,e,r,i,n);case 15:return CA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Nc(t,e),e.tag=1,Kt(r)?(t=!0,mf(e)):t=!1,co(e,n),nA(e,r,i),Sm(e,r,i,n),Cm(null,e,r,!0,t,n);case 19:return DA(t,e,n);case 22:return RA(t,e,n)}throw Error(B(156,e.tag))};function qA(t,e){return wS(t,e)}function VV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new VV(t,e,n,r)}function jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NV(t){if(typeof t=="function")return jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ay)return 11;if(t===ly)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")jy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return is(n.children,i,s,e);case oy:o=8,i|=8;break;case qp:return t=cn(12,n,e,i|2),t.elementType=qp,t.lanes=s,t;case Qp:return t=cn(13,n,e,i),t.elementType=Qp,t.lanes=s,t;case Yp:return t=cn(19,n,e,i),t.elementType=Yp,t.lanes=s,t;case rS:return wd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tS:o=10;break e;case nS:o=9;break e;case ay:o=11;break e;case ly:o=14;break e;case Mr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function is(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function wd(t,e,n,r){return t=cn(22,t,r,e),t.elementType=rS,t.lanes=n,t.stateNode={isHidden:!1},t}function ap(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function lp(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,i,s,o,a,l){return t=new MV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Py(s),t}function LV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QA(t){if(!t)return hi;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Kt(n))return qS(t,n,e)}return e}function YA(t,e,n,r,i,s,o,a,l){return t=zy(n,r,!0,t,i,s,o,a,l),t.context=QA(null),n=t.current,r=Dt(),i=ii(n),s=dr(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,nu(t,i,r),Gt(t,r),t}function Ed(t,e,n,r){var i=e.current,s=Dt(),o=ii(i);return n=QA(n),e.context===null?e.context=n:e.pendingContext=n,e=dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(Cn(t,i,o,s),Dc(t,i,o)),o}function Rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){iE(t,e),(t=t.alternate)&&iE(t,e)}function FV(){return null}var XA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wy(t){this._internalRoot=t}Td.prototype.render=Wy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Ed(t,e,null,null)};Td.prototype.unmount=Wy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){Ed(null,t,null,null)}),e[gr]=null}};function Td(t){this._internalRoot=t}Td.prototype.unstable_scheduleHydration=function(t){if(t){var e=CS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&xS(t)}};function Ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sE(){}function $V(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rf(o);s.call(u)}}var o=YA(e,r,t,0,null,!1,!1,"",sE);return t._reactRootContainer=o,t[gr]=o.current,Pl(t.nodeType===8?t.parentNode:t),ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rf(l);a.call(u)}}var l=zy(t,0,!1,null,null,!1,!1,"",sE);return t._reactRootContainer=l,t[gr]=l.current,Pl(t.nodeType===8?t.parentNode:t),ds(function(){Ed(e,l,n,r)}),l}function Sd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rf(o);a.call(l)}}Ed(e,o,t,i)}else o=$V(n,e,t,i,r);return Rf(o)}AS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ma(e.pendingLanes);n!==0&&(fy(e,n|1),Gt(e,Ue()),!(fe&6)&&(Po=Ue()+500,Ai()))}break;case 13:ds(function(){var r=yr(t,1);if(r!==null){var i=Dt();Cn(r,t,1,i)}}),Hy(t,1)}};dy=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=Dt();Cn(e,t,134217728,n)}Hy(t,134217728)}};PS=function(t){if(t.tag===13){var e=ii(t),n=yr(t,e);if(n!==null){var r=Dt();Cn(n,t,e,r)}Hy(t,e)}};CS=function(){return ge};RS=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};om=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pd(r);if(!i)throw Error(B(90));sS(r),Zp(r,i)}}}break;case"textarea":aS(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};pS=$y;mS=ds;var UV={usingClientEntryPoint:!1,Events:[iu,Ks,pd,dS,hS,$y]},xa={findFiberByHostInstance:qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BV={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vS(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||FV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{cd=hc.inject(BV),Fn=hc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UV;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(e))throw Error(B(200));return LV(t,e,null,n)};nn.createRoot=function(t,e){if(!Ky(t))throw Error(B(299));var n=!1,r="",i=XA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new Wy(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=vS(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return ds(t)};nn.hydrate=function(t,e,n){if(!Id(e))throw Error(B(200));return Sd(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!Ky(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YA(e,null,t,1,n??null,i,!1,s,o),t[gr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Td(e)};nn.render=function(t,e,n){if(!Id(e))throw Error(B(200));return Sd(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Id(t))throw Error(B(40));return t._reactRootContainer?(ds(function(){Sd(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};nn.unstable_batchedUpdates=$y;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Id(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Sd(t,e,n,!1,r)};nn.version="18.2.0-next-9e3b772b8-20220608";function JA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JA)}catch(t){console.error(t)}}JA(),YI.exports=nn;var _r=YI.exports,jV,oE=_r;jV=oE.createRoot,oE.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}var qr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qr||(qr={}));const aE="popstate";function zV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $m("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xf(i)}return WV(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HV(){return Math.random().toString(36).substr(2,8)}function lE(t,e){return{usr:t.state,key:t.key,idx:e}}function $m(t,e,n,r){return n===void 0&&(n=null),Nl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wo(e):e,{state:n,key:e&&e.key||r||HV()})}function xf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qr.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Nl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=qr.Pop;let S=f(),_=S==null?null:S-u;u=S,l&&l({action:a,location:I.location,delta:_})}function h(S,_){a=qr.Push;let w=$m(I.location,S,_);n&&n(w,S),u=f()+1;let E=lE(w,u),k=I.createHref(w);try{o.pushState(E,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}s&&l&&l({action:a,location:I.location,delta:1})}function m(S,_){a=qr.Replace;let w=$m(I.location,S,_);n&&n(w,S),u=f();let E=lE(w,u),k=I.createHref(w);o.replaceState(E,"",k),s&&l&&l({action:a,location:I.location,delta:0})}function y(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof S=="string"?S:xf(S);return w=w.replace(/ $/,"%20"),Be(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let I={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aE,d),l=S,()=>{i.removeEventListener(aE,d),l=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let _=y(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(S){return o.go(S)}};return I}var uE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uE||(uE={}));function KV(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wo(e):e,i=Gy(r.pathname||"/",n);if(i==null)return null;let s=eP(t);GV(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=sN(i);o=nN(s[a],l)}return o}function eP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=oi([r,l.relativePath]),f=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eP(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:eN(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of tP(s.path))i(s,o,l)}),e}function tP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qV=/^:[\w-]+$/,QV=3,YV=2,XV=1,JV=10,ZV=-2,cE=t=>t==="*";function eN(t,e){let n=t.split("/"),r=n.length;return n.some(cE)&&(r+=ZV),e&&(r+=YV),n.filter(i=>!cE(i)).reduce((i,s)=>i+(qV.test(s)?QV:s===""?XV:JV),r)}function tN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=rN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let d=a.route;s.push({params:r,pathname:oi([i,f.pathname]),pathnameBase:uN(oi([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=oi([i,f.pathnameBase]))}return s}function rN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let I=a[d]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function iN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wo(t):t;return{pathname:n?n.startsWith("/")?n:aN(n,e):e,search:cN(r),hash:fN(i)}}function aN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function up(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qy(t,e){let n=lN(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wo(t):(i=Nl({},t),Be(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=oN(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),uN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nP=["post","put","patch","delete"];new Set(nP);const hN=["get",...nP];new Set(hN);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}const Yy=v.createContext(null),pN=v.createContext(null),Pi=v.createContext(null),Ad=v.createContext(null),Ci=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rP=v.createContext(null);function mN(t,e){let{relative:n}=e===void 0?{}:e;Ko()||Be(!1);let{basename:r,navigator:i}=v.useContext(Pi),{hash:s,pathname:o,search:a}=oP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ko(){return v.useContext(Ad)!=null}function ou(){return Ko()||Be(!1),v.useContext(Ad).location}function iP(t){v.useContext(Pi).static||v.useLayoutEffect(t)}function sP(){let{isDataRoute:t}=v.useContext(Ci);return t?RN():gN()}function gN(){Ko()||Be(!1);let t=v.useContext(Yy),{basename:e,future:n,navigator:r}=v.useContext(Pi),{matches:i}=v.useContext(Ci),{pathname:s}=ou(),o=JSON.stringify(qy(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return iP(()=>{a.current=!0}),v.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Qy(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oi([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,o,s,t])}function oP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Pi),{matches:i}=v.useContext(Ci),{pathname:s}=ou(),o=JSON.stringify(qy(i,r.v7_relativeSplatPath));return v.useMemo(()=>Qy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function yN(t,e){return vN(t,e)}function vN(t,e,n,r){Ko()||Be(!1);let{navigator:i}=v.useContext(Pi),{matches:s}=v.useContext(Ci),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=ou(),f;if(e){var d;let S=typeof e=="string"?Wo(e):e;l==="/"||(d=S.pathname)!=null&&d.startsWith(l)||Be(!1),f=S}else f=u;let h=f.pathname||"/",m=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=KV(t,{pathname:m}),I=IN(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:oi([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:oi([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&I?v.createElement(Ad.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qr.Pop}},I):I}function _N(){let t=CN(),e=dN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const wN=v.createElement(_N,null);class EN extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ci.Provider,{value:this.props.routeContext},v.createElement(rP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TN(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(Yy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ci.Provider,{value:e},r)}function IN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));f>=0||Be(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:m}=n,y=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let m,y=!1,I=null,S=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,I=d.route.errorElement||wN,l&&(u<0&&h===0?(xN("route-fallback",!1),y=!0,S=null):u===h&&(y=!0,S=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),w=()=>{let E;return m?E=I:y?E=S:d.route.Component?E=v.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=f,v.createElement(TN,{match:d,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(EN,{location:n.location,revalidation:n.revalidation,component:I,error:m,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var aP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aP||{}),bf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bf||{});function SN(t){let e=v.useContext(Yy);return e||Be(!1),e}function AN(t){let e=v.useContext(pN);return e||Be(!1),e}function PN(t){let e=v.useContext(Ci);return e||Be(!1),e}function lP(t){let e=PN(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function CN(){var t;let e=v.useContext(rP),n=AN(bf.UseRouteError),r=lP(bf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RN(){let{router:t}=SN(aP.UseNavigateStable),e=lP(bf.UseNavigateStable),n=v.useRef(!1);return iP(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ml({fromRouteId:e},s)))},[t,e])}const fE={};function xN(t,e,n){!e&&!fE[t]&&(fE[t]=!0)}function f8(t){let{to:e,replace:n,state:r,relative:i}=t;Ko()||Be(!1);let{future:s,static:o}=v.useContext(Pi),{matches:a}=v.useContext(Ci),{pathname:l}=ou(),u=sP(),f=Qy(e,qy(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(f);return v.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function bN(t){Be(!1)}function kN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qr.Pop,navigator:s,static:o=!1,future:a}=t;Ko()&&Be(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Ml({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Wo(r));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:y="default"}=r,I=v.useMemo(()=>{let S=Gy(f,l);return S==null?null:{location:{pathname:S,search:d,hash:h,state:m,key:y},navigationType:i}},[l,f,d,h,m,y,i]);return I==null?null:v.createElement(Pi.Provider,{value:u},v.createElement(Ad.Provider,{children:n,value:I}))}function d8(t){let{children:e,location:n}=t;return yN(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,Um(r.props.children,s));return}r.type!==bN&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function DN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ON(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VN(t,e){return t.button===0&&(!e||e==="_self")&&!ON(t)}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],MN="6";try{window.__reactRouterVersion=MN}catch{}const LN="startTransition",dE=rf[LN];function h8(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=zV({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=v.useCallback(d=>{u&&dE?dE(()=>l(d)):l(d)},[l,u]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.createElement(kN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p8=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f,unstable_viewTransition:d}=e,h=DN(e,NN),{basename:m}=v.useContext(Pi),y,I=!1;if(typeof u=="string"&&$N.test(u)&&(y=u,FN))try{let E=new URL(window.location.href),k=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=Gy(k.pathname,m);k.origin===E.origin&&O!=null?u=O+k.search+k.hash:I=!0}catch{}let S=mN(u,{relative:i}),_=UN(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:d});function w(E){r&&r(E),E.defaultPrevented||_(E)}return v.createElement("a",Bm({},h,{href:y||S,onClick:I||s?r:w,ref:n,target:l}))});var hE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hE||(hE={}));var pE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pE||(pE={}));function UN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=sP(),u=ou(),f=oP(t,{relative:o});return v.useCallback(d=>{if(VN(d,n)){d.preventDefault();let h=r!==void 0?r:xf(u)===xf(f);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,f,r,i,n,t,s,o,a])}let BN={data:""},jN=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||BN,zN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,HN=/\/\*[^]*?\*\/|  +/g,mE=/\n+/g,Ur=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ur(o,s):s+"{"+Ur(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ur(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ur.p?Ur.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ir={},uP=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+uP(t[n]);return e}return t},WN=(t,e,n,r,i)=>{let s=uP(t),o=ir[s]||(ir[s]=(l=>{let u=0,f=11;for(;u<l.length;)f=101*f+l.charCodeAt(u++)>>>0;return"go"+f})(s));if(!ir[o]){let l=s!==t?t:(u=>{let f,d,h=[{}];for(;f=zN.exec(u.replace(HN,""));)f[4]?h.shift():f[3]?(d=f[3].replace(mE," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][f[1]]=f[2].replace(mE," ").trim();return h[0]})(t);ir[o]=Ur(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&ir.g?ir.g:null;return n&&(ir.g=ir[o]),((l,u,f,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=f?l+u.data:u.data+l)})(ir[o],e,r,a),o},KN=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ur(a,""):a===!1?"":a}return r+i+(o??"")},"");function Pd(t){let e=this||{},n=t.call?t(e.p):t;return WN(n.unshift?n.raw?KN(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,jN(e.target),e.g,e.o,e.k)}let cP,jm,zm;Pd.bind({g:1});let wr=Pd.bind({k:1});function GN(t,e,n,r){Ur.p=e,cP=t,jm=n,zm=r}function Ri(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:jm&&jm()},a),n.o=/ *go\d+/.test(l),a.className=Pd.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),zm&&u[0]&&zm(a),cP(u,a)}return e?e(i):i}}var qN=t=>typeof t=="function",kf=(t,e)=>qN(t)?t(e):t,QN=(()=>{let t=0;return()=>(++t).toString()})(),fP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),YN=20,dP=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,YN)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return dP(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},$c=[],Xi={toasts:[],pausedAt:void 0},Ss=t=>{Xi=dP(Xi,t),$c.forEach(e=>{e(Xi)})},XN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},JN=(t={})=>{let[e,n]=v.useState(Xi),r=v.useRef(Xi);v.useEffect(()=>(r.current!==Xi&&n(Xi),$c.push(n),()=>{let s=$c.indexOf(n);s>-1&&$c.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||XN[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},ZN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||QN()}),au=t=>(e,n)=>{let r=ZN(e,t,n);return Ss({type:2,toast:r}),r.id},Bt=(t,e)=>au("blank")(t,e);Bt.error=au("error");Bt.success=au("success");Bt.loading=au("loading");Bt.custom=au("custom");Bt.dismiss=t=>{Ss({type:3,toastId:t})};Bt.remove=t=>Ss({type:4,toastId:t});Bt.promise=(t,e,n)=>{let r=Bt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?kf(e.success,i):void 0;return s?Bt.success(s,{id:r,...n,...n==null?void 0:n.success}):Bt.dismiss(r),i}).catch(i=>{let s=e.error?kf(e.error,i):void 0;s?Bt.error(s,{id:r,...n,...n==null?void 0:n.error}):Bt.dismiss(r)}),t};var eM=(t,e)=>{Ss({type:1,toast:{id:t,height:e}})},tM=()=>{Ss({type:5,time:Date.now()})},rl=new Map,nM=1e3,rM=(t,e=nM)=>{if(rl.has(t))return;let n=setTimeout(()=>{rl.delete(t),Ss({type:4,toastId:t})},e);rl.set(t,n)},iM=t=>{let{toasts:e,pausedAt:n}=JN(t);v.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Bt.dismiss(a.id);return}return setTimeout(()=>Bt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=v.useCallback(()=>{n&&Ss({type:6,time:Date.now()})},[n]),i=v.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},f=e.filter(m=>(m.position||u)===(s.position||u)&&m.height),d=f.findIndex(m=>m.id===s.id),h=f.filter((m,y)=>y<d&&m.visible).length;return f.filter(m=>m.visible).slice(...a?[h+1]:[0,h]).reduce((m,y)=>m+(y.height||0)+l,0)},[e]);return v.useEffect(()=>{e.forEach(s=>{if(s.dismissed)rM(s.id,s.removeDelay);else{let o=rl.get(s.id);o&&(clearTimeout(o),rl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:eM,startPause:tM,endPause:r,calculateOffset:i}}},sM=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oM=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aM=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lM=Ri("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uM=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cM=Ri("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${uM} 1s linear infinite;
`,fM=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dM=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hM=Ri("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pM=Ri("div")`
  position: absolute;
`,mM=Ri("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gM=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yM=Ri("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vM=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?v.createElement(yM,null,e):e:n==="blank"?null:v.createElement(mM,null,v.createElement(cM,{...r}),n!=="loading"&&v.createElement(pM,null,n==="error"?v.createElement(lM,{...r}):v.createElement(hM,{...r})))},_M=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wM=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,EM="0%{opacity:0;} 100%{opacity:1;}",TM="0%{opacity:1;} 100%{opacity:0;}",IM=Ri("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SM=Ri("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AM=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=fP()?[EM,TM]:[_M(n),wM(n)];return{animation:e?`${wr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PM=v.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?AM(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(vM,{toast:t}),o=v.createElement(SM,{...t.ariaProps},kf(t.message,t));return v.createElement(IM,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):v.createElement(v.Fragment,null,s,o))});GN(v.createElement);var CM=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=v.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return v.createElement("div",{ref:s,className:e,style:n},i)},RM=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},xM=Pd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pc=16,m8=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=iM(n);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:pc,left:pc,right:pc,bottom:pc,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let f=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=RM(f,d);return v.createElement(CM,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?xM:"",style:h},u.type==="custom"?kf(u.message,u):i?i(u):v.createElement(PM,{toast:u,position:f}))}))};const hP=v.createContext({});function Cd(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xy=typeof window<"u",Jy=Xy?v.useLayoutEffect:v.useEffect,Zy=v.createContext(null);function ev(t,e){t.indexOf(e)===-1&&t.push(e)}function tv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yn=(t,e,n)=>n>e?e:n<t?t:n;let bM=()=>{},nv=()=>{};const Er={},pP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mP(t){return typeof t=="object"&&t!==null}const gP=t=>/^0[^.\s]+$/u.test(t);function rv(t){let e;return()=>(e===void 0&&(e=t()),e)}const qt=t=>t,kM=(t,e)=>n=>e(t(n)),lu=(...t)=>t.reduce(kM),Co=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class iv{constructor(){this.subscriptions=[]}add(e){return ev(this.subscriptions,e),()=>tv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Un=t=>t*1e3,Bn=t=>t/1e3;function sv(t,e){return e?t*(1e3/e):0}const yP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DM=1e-7,OM=12;function VM(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=yP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>DM&&++a<OM);return o}function uu(t,e,n,r){if(t===e&&n===r)return qt;const i=s=>VM(s,0,1,t,n);return s=>s===0||s===1?s:yP(i(s),e,r)}const vP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_P=t=>e=>1-t(1-e),wP=uu(.33,1.53,.69,.99),ov=_P(wP),EP=vP(ov),TP=t=>(t*=2)<1?.5*ov(t):.5*(2-Math.pow(2,-10*(t-1))),av=t=>1-Math.sin(Math.acos(t)),IP=_P(av),SP=vP(av),NM=uu(.42,0,1,1),MM=uu(0,0,.58,1),AP=uu(.42,0,.58,1),LM=t=>Array.isArray(t)&&typeof t[0]!="number",PP=t=>Array.isArray(t)&&typeof t[0]=="number",FM={linear:qt,easeIn:NM,easeInOut:AP,easeOut:MM,circIn:av,circInOut:SP,circOut:IP,backIn:ov,backInOut:EP,backOut:wP,anticipate:TP},$M=t=>typeof t=="string",gE=t=>{if(PP(t)){nv(t.length===4);const[e,n,r,i]=t;return uu(e,n,r,i)}else if($M(t))return FM[t];return t},mc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yE={value:null,addProjectionMetrics:null};function UM(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(f.schedule(d),t()),l++,d(a)}const f={schedule:(d,h=!1,m=!1)=>{const I=m&&i?n:r;return h&&o.add(d),I.has(d)||I.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&yE.value&&yE.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,f.process(d))}};return f}const BM=40;function CP(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=mc.reduce((E,k)=>(E[k]=UM(s,e?k:void 0),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:f,update:d,preRender:h,render:m,postRender:y}=o,I=()=>{const E=Er.useManualTiming?i.timestamp:performance.now();n=!1,Er.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,BM),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),f.process(i),d.process(i),h.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},S=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:mc.reduce((E,k)=>{const O=o[k];return E[k]=(N,P=!1,T=!1)=>(n||S(),O.schedule(N,P,T)),E},{}),cancel:E=>{for(let k=0;k<mc.length;k++)o[mc[k]].cancel(E)},state:i,steps:o}}const{schedule:me,cancel:xn,state:Xe,steps:cp}=CP(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0);let Uc;function jM(){Uc=void 0}const Ht={now:()=>(Uc===void 0&&Ht.set(Xe.isProcessing||Er.useManualTiming?Xe.timestamp:performance.now()),Uc),set:t=>{Uc=t,queueMicrotask(jM)}},RP=t=>e=>typeof e=="string"&&e.startsWith(t),lv=RP("--"),zM=RP("var(--"),uv=t=>zM(t)?HM.test(t.split("/*")[0].trim()):!1,HM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ll={...Go,transform:t=>Yn(0,1,t)},gc={...Go,default:1},il=t=>Math.round(t*1e5)/1e5,cv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WM(t){return t==null}const KM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(t,e)=>n=>!!(typeof n=="string"&&KM.test(n)&&n.startsWith(t)||e&&!WM(n)&&Object.prototype.hasOwnProperty.call(n,e)),xP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(cv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},GM=t=>Yn(0,255,t),fp={...Go,transform:t=>Math.round(GM(t))},Ji={test:fv("rgb","red"),parse:xP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fp.transform(t)+", "+fp.transform(e)+", "+fp.transform(n)+", "+il(Ll.transform(r))+")"};function qM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hm={test:fv("#"),parse:qM,transform:Ji.transform},cu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vr=cu("deg"),jn=cu("%"),J=cu("px"),QM=cu("vh"),YM=cu("vw"),vE=(()=>({...jn,parse:t=>jn.parse(t)/100,transform:t=>jn.transform(t*100)}))(),Zs={test:fv("hsl","hue"),parse:xP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jn.transform(il(e))+", "+jn.transform(il(n))+", "+il(Ll.transform(r))+")"},gt={test:t=>Ji.test(t)||Hm.test(t)||Zs.test(t),parse:t=>Ji.test(t)?Ji.parse(t):Zs.test(t)?Zs.parse(t):Hm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ji.transform(t):Zs.transform(t)},XM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cv))==null?void 0:e.length)||0)+(((n=t.match(XM))==null?void 0:n.length)||0)>0}const bP="number",kP="color",ZM="var",eL="var(",_E="${}",tL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(tL,l=>(gt.test(l)?(r.color.push(s),i.push(kP),n.push(gt.parse(l))):l.startsWith(eL)?(r.var.push(s),i.push(ZM),n.push(l)):(r.number.push(s),i.push(bP),n.push(parseFloat(l))),++s,_E)).split(_E);return{values:n,split:a,indexes:r,types:i}}function DP(t){return Fl(t).values}function OP(t){const{split:e,types:n}=Fl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===bP?s+=il(i[o]):a===kP?s+=gt.transform(i[o]):s+=i[o]}return s}}const nL=t=>typeof t=="number"?0:t;function rL(t){const e=DP(t);return OP(t)(e.map(nL))}const pi={test:JM,parse:DP,createTransformer:OP,getAnimatableNone:rL};function dp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=dp(l,a,t+1/3),s=dp(l,a,t),o=dp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Df(t,e){return n=>n>0?e:t}const Re=(t,e,n)=>t+(e-t)*n,hp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},sL=[Hm,Ji,Zs],oL=t=>sL.find(e=>e.test(t));function wE(t){const e=oL(t);if(!e)return!1;let n=e.parse(t);return e===Zs&&(n=iL(n)),n}const EE=(t,e)=>{const n=wE(t),r=wE(e);if(!n||!r)return Df(t,e);const i={...n};return s=>(i.red=hp(n.red,r.red,s),i.green=hp(n.green,r.green,s),i.blue=hp(n.blue,r.blue,s),i.alpha=Re(n.alpha,r.alpha,s),Ji.transform(i))},Wm=new Set(["none","hidden"]);function aL(t,e){return Wm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function lL(t,e){return n=>Re(t,e,n)}function dv(t){return typeof t=="number"?lL:typeof t=="string"?uv(t)?Df:gt.test(t)?EE:fL:Array.isArray(t)?VP:typeof t=="object"?gt.test(t)?EE:uL:Df}function VP(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>dv(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function uL(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dv(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cL(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const fL=(t,e)=>{const n=pi.createTransformer(e),r=Fl(t),i=Fl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Wm.has(t)&&!i.values.length||Wm.has(e)&&!r.values.length?aL(t,e):lu(VP(cL(r,i),i.values),n):Df(t,e)};function NP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Re(t,e,n):dv(t)(t,e)}const dL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>me.update(e,n),stop:()=>xn(e),now:()=>Xe.isProcessing?Xe.timestamp:Ht.now()}},MP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Of=2e4;function hv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Of;)e+=n,r=t.next(e);return e>=Of?1/0:e}function hL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(hv(r),Of);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Bn(i)}}const pL=5;function LP(t,e,n){const r=Math.max(e-pL,0);return sv(n-t(r),e-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pp=.001;function mL({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let i,s,o=1-e;o=Yn(Ve.minDamping,Ve.maxDamping,o),t=Yn(Ve.minDuration,Ve.maxDuration,Bn(t)),o<1?(i=u=>{const f=u*o,d=f*t,h=f-n,m=Km(u,o),y=Math.exp(-d);return pp-h/m*y},s=u=>{const d=u*o*t,h=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),I=Km(Math.pow(u,2),o);return(-i(u)+pp>0?-1:1)*((h-m)*y)/I}):(i=u=>{const f=Math.exp(-u*t),d=(u-n)*t+1;return-pp+f*d},s=u=>{const f=Math.exp(-u*t),d=(n-u)*(t*t);return f*d});const a=5/t,l=yL(i,s,a);if(t=Un(t),isNaN(l))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const gL=12;function yL(t,e,n){let r=n;for(let i=1;i<gL;i++)r=r-t(r)/e(r);return r}function Km(t,e){return t*Math.sqrt(1-e*e)}const vL=["duration","bounce"],_L=["stiffness","damping","mass"];function TE(t,e){return e.some(n=>t[n]!==void 0)}function wL(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!TE(t,_L)&&TE(t,vL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Yn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ve.mass,stiffness:i,damping:s}}else{const n=mL(t);e={...e,...n,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function Vf(t=Ve.visualDuration,e=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:d,velocity:h,isResolvedFromDuration:m}=wL({...n,velocity:-Bn(n.velocity||0)}),y=h||0,I=u/(2*Math.sqrt(l*f)),S=o-s,_=Bn(Math.sqrt(l/f)),w=Math.abs(S)<5;r||(r=w?Ve.restSpeed.granular:Ve.restSpeed.default),i||(i=w?Ve.restDelta.granular:Ve.restDelta.default);let E;if(I<1){const O=Km(_,I);E=N=>{const P=Math.exp(-I*_*N);return o-P*((y+I*_*S)/O*Math.sin(O*N)+S*Math.cos(O*N))}}else if(I===1)E=O=>o-Math.exp(-_*O)*(S+(y+_*S)*O);else{const O=_*Math.sqrt(I*I-1);E=N=>{const P=Math.exp(-I*_*N),T=Math.min(O*N,300);return o-P*((y+I*_*S)*Math.sinh(T)+O*S*Math.cosh(T))/O}}const k={calculatedDuration:m&&d||null,next:O=>{const N=E(O);if(m)a.done=O>=d;else{let P=O===0?y:0;I<1&&(P=O===0?Un(y):LP(E,O,N));const T=Math.abs(P)<=r,C=Math.abs(o-N)<=i;a.done=T&&C}return a.value=a.done?o:N,a},toString:()=>{const O=Math.min(hv(k),Of),N=MP(P=>k.next(O*P).value,O,30);return O+"ms "+N},toTransition:()=>{}};return k}Vf.applyToOptions=t=>{const e=hL(t,100,Vf);return t.ease=e.ease,t.duration=Un(e.duration),t.type="keyframes",t};function Gm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const d=t[0],h={done:!1,value:d},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let I=n*e;const S=d+I,_=o===void 0?S:o(S);_!==S&&(I=_-d);const w=T=>-I*Math.exp(-T/r),E=T=>_+w(T),k=T=>{const C=w(T),R=E(T);h.done=Math.abs(C)<=u,h.value=h.done?_:R};let O,N;const P=T=>{m(h.value)&&(O=T,N=Vf({keyframes:[h.value,y(h.value)],velocity:LP(E,T,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return P(0),{calculatedDuration:null,next:T=>{let C=!1;return!N&&O===void 0&&(C=!0,k(T),P(T)),O!==void 0&&T>=O?N.next(T-O):(!C&&k(T),h)}}}function EL(t,e,n){const r=[],i=n||Er.mix||NP,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||qt:e;a=lu(l,a)}r.push(a)}return r}function pv(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(nv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=EL(e,r,i),l=a.length,u=f=>{if(o&&f<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(f<t[d+1]);d++);const h=Co(t[d],t[d+1],f);return a[d](h)};return n?f=>u(Yn(t[0],t[s-1],f)):u}function TL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Co(0,e,r);t.push(Re(n,1,i))}}function FP(t){const e=[0];return TL(e,t.length-1),e}function IL(t,e){return t.map(n=>n*e)}function SL(t,e){return t.map(()=>e||AP).splice(0,t.length-1)}function sl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=LM(r)?r.map(gE):gE(r),s={done:!1,value:e[0]},o=IL(n&&n.length===e.length?n:FP(e),t),a=pv(o,e,{ease:Array.isArray(i)?i:SL(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const AL=t=>t!==null;function mv(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(AL),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const PL={decay:Gm,inertia:Gm,tween:sl,keyframes:sl,spring:Vf};function $P(t){typeof t.type=="string"&&(t.type=PL[t.type])}class gv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CL=t=>t/100;class yv extends gv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,i;if(n){const{motionValue:s}=this.options;s&&s.updatedAt!==Ht.now()&&this.tick(Ht.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$P(e);const{type:n=sl,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||sl;l!==sl&&typeof a[0]!="number"&&(this.mixKeyframes=lu(CL,NP(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hv(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:f,repeat:d,repeatType:h,repeatDelay:m,type:y,onUpdate:I,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,k=r;if(d){const T=Math.min(this.currentTime,i)/a;let C=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&C--,C=Math.min(C,d+1),!!(C%2)&&(h==="reverse"?(R=1-R,m&&(R-=m/a)):h==="mirror"&&(k=o)),E=Yn(0,1,R)*a}const O=w?{done:!1,value:f[0]}:k.next(E);s&&(O.value=s(O.value));let{done:N}=O;!w&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&y!==Gm&&(O.value=mv(f,this.options,S,this.speed)),I&&I(O.value),P&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return Bn(this.calculatedDuration)}get time(){return Bn(this.currentTime)}set time(e){var n;e=Un(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ht.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Bn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=dL,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function RL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zi=t=>t*180/Math.PI,qm=t=>{const e=Zi(Math.atan2(t[1],t[0]));return Qm(e)},xL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qm,rotateZ:qm,skewX:t=>Zi(Math.atan(t[1])),skewY:t=>Zi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qm=t=>(t=t%360,t<0&&(t+=360),t),IE=qm,SE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),AE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SE,scaleY:AE,scale:t=>(SE(t)+AE(t))/2,rotateX:t=>Qm(Zi(Math.atan2(t[6],t[5]))),rotateY:t=>Qm(Zi(Math.atan2(-t[2],t[0]))),rotateZ:IE,rotate:IE,skewX:t=>Zi(Math.atan(t[4])),skewY:t=>Zi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ym(t){return t.includes("scale")?1:0}function Xm(t,e){if(!t||t==="none")return Ym(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=bL,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xL,i=a}if(!i)return Ym(e);const s=r[e],o=i[1].split(",").map(DL);return typeof s=="function"?s(o):o[s]}const kL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xm(n,e)};function DL(t){return parseFloat(t.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=(()=>new Set(qo))(),PE=t=>t===Go||t===J,OL=new Set(["x","y","z"]),VL=qo.filter(t=>!OL.has(t));function NL(t){const e=[];return VL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ss={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xm(e,"x"),y:(t,{transform:e})=>Xm(e,"y")};ss.translateX=ss.x;ss.translateY=ss.y;const os=new Set;let Jm=!1,Zm=!1,eg=!1;function UP(){if(Zm){const t=Array.from(os).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=NL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zm=!1,Jm=!1,os.forEach(t=>t.complete(eg)),os.clear()}function BP(){os.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zm=!0)})}function ML(){eg=!0,BP(),UP(),eg=!1}class vv{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(os.add(this),Jm||(Jm=!0,me.read(BP),me.resolveKeyframes(UP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}RL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),os.delete(this)}cancel(){this.state==="scheduled"&&(os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LL=t=>t.startsWith("--");function FL(t,e,n){LL(e)?t.style.setProperty(e,n):t.style[e]=n}const jP=rv(()=>window.ScrollTimeline!==void 0),$L={};function UL(t,e){const n=rv(t);return()=>$L[e]??n()}const zP=UL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,CE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fa([0,.65,.55,1]),circOut:Fa([.55,0,1,.45]),backIn:Fa([.31,.01,.66,-.59]),backOut:Fa([.33,1.53,.69,.99])};function HP(t,e){if(t)return typeof t=="function"?zP()?MP(t,e):"ease-out":PP(t)?Fa(t):Array.isArray(t)?t.map(n=>HP(n,e)||CE.easeOut):CE[t]}function BL(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const f={[e]:n};l&&(f.offset=l);const d=HP(a,i);Array.isArray(d)&&(f.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(f,h)}function WP(t){return typeof t=="function"&&"applyToOptions"in t}function jL({type:t,...e}){return WP(t)&&zP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zL extends gv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,nv(typeof e.type!="string");const u=jL(e);this.animation=BL(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=mv(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):FL(n,r,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Bn(Number(e))}get time(){return Bn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Un(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&jP()?(this.animation.timeline=e,qt):n(this)}}const KP={anticipate:TP,backInOut:EP,circInOut:SP};function HL(t){return t in KP}function WL(t){typeof t.ease=="string"&&HL(t.ease)&&(t.ease=KP[t.ease])}const RE=10;class KL extends zL{constructor(e){WL(e),$P(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new yv({...o,autoplay:!1}),l=Un(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-RE).value,a.sample(l).value,RE),a.stop()}}const xE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pi.test(t)||t==="0")&&!t.startsWith("url("));function GL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=xE(i,e),a=xE(s,e);return!o||!a?!1:GL(t)||(n==="spring"||WP(n))&&r}function _v(t){return mP(t)&&"offsetHeight"in t}const QL=new Set(["opacity","clipPath","filter","transform"]),YL=rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function XL(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!_v((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return YL()&&n&&QL.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const JL=40;class ZL extends gv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:f,...d}){var y;super(),this.stop=()=>{var I,S;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ht.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:f,...d},m=(f==null?void 0:f.KeyframeResolver)||vv;this.keyframeResolver=new m(a,(I,S,_)=>this.onKeyframesResolved(I,S,h,!_),l,u,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:f}=r;this.resolvedAt=Ht.now(),qL(e,s,o,a)||((Er.instantAnimations||!l)&&(f==null||f(mv(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>JL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&XL(h)?new KL({...h,element:h.motionValue.owner.current}):new yv(h);m.finished.then(()=>this.notifyFinished()).catch(qt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ML()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const e2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t2(t){const e=e2.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function GP(t,e,n=1){const[r,i]=t2(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return pP(o)?parseFloat(o):o}return uv(i)?GP(i,e,n+1):i}function wv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qP=new Set(["width","height","top","left","right","bottom",...qo]),n2={test:t=>t==="auto",parse:t=>t},QP=t=>e=>e.test(t),YP=[Go,J,jn,Vr,YM,QM,n2],bE=t=>YP.find(QP(t));function r2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gP(t):!0}const i2=new Set(["brightness","contrast","saturate","opacity"]);function s2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cv)||[];if(!r)return t;const i=n.replace(r,"");let s=i2.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const o2=/\b([a-z-]*)\(.*?\)/gu,tg={...pi,getAnimatableNone:t=>{const e=t.match(o2);return e?e.map(s2).join(" "):t}},kE={...Go,transform:Math.round},a2={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:gc,scaleX:gc,scaleY:gc,scaleZ:gc,skew:Vr,skewX:Vr,skewY:Vr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:Ll,originX:vE,originY:vE,originZ:J},Ev={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...a2,zIndex:kE,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:kE},l2={...Ev,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:tg,WebkitFilter:tg},XP=t=>l2[t];function JP(t,e){let n=XP(t);return n!==tg&&(n=pi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u2=new Set(["auto","none","0"]);function c2(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!u2.has(s)&&Fl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=JP(n,i)}class f2 extends vv{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),uv(u))){const f=GP(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qP.has(r)||e.length!==2)return;const[i,s]=e,o=bE(i),a=bE(s);if(o!==a)if(PE(o)&&PE(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||r2(e[i]))&&r.push(i);r.length&&c2(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ss[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ss[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function ZP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const DE=30,d2=t=>!isNaN(parseFloat(t)),ol={current:void 0};class h2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,a;const s=Ht.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const r=this.events[e].add(n);return e==="change"?()=>{r(),me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ol.current&&ol.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DE);return sv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sn(t,e){return new h2(t,e)}const eC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Tv,cancel:g8}=CP(queueMicrotask,!1),_n={x:!1,y:!1};function tC(){return _n.x||_n.y}function p2(t){return t==="x"||t==="y"?_n[t]?null:(_n[t]=!0,()=>{_n[t]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}function nC(t,e){const n=ZP(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function OE(t){return!(t.pointerType==="touch"||tC())}function m2(t,e,n={}){const[r,i,s]=nC(t,n),o=a=>{if(!OE(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const f=d=>{OE(d)&&(u(d),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const rC=(t,e)=>e?t===e?!0:rC(t,e.parentElement):!1,Iv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,g2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y2(t){return g2.has(t.tagName)||t.tabIndex!==-1}const Bc=new WeakSet;function VE(t){return e=>{e.key==="Enter"&&t(e)}}function mp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const v2=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=VE(()=>{if(Bc.has(n))return;mp(n,"down");const i=VE(()=>{mp(n,"up")}),s=()=>mp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function NE(t){return Iv(t)&&!tC()}function _2(t,e,n={}){const[r,i,s]=nC(t,n),o=a=>{const l=a.currentTarget;if(!NE(a))return;Bc.add(l);const u=e(l,a),f=(m,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Bc.has(l)&&Bc.delete(l),NE(m)&&typeof u=="function"&&u(m,{success:y})},d=m=>{f(m,l===window||l===document||n.useGlobalTarget||rC(l,m.target))},h=m=>{f(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),_v(a)&&(a.addEventListener("focus",u=>v2(u,i)),!y2(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function iC(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return me.preUpdate(r,!0),()=>xn(r)}function Sv(t){return mP(t)&&"ownerSVGElement"in t}function w2(t){return Sv(t)&&t.tagName==="svg"}function E2(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=pv(i,s,o);return e?a(r):a}const Et=t=>!!(t&&t.getVelocity),T2=[...YP,gt,pi],I2=t=>T2.find(QP(t)),Av=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function S2(t=!0){const e=v.useContext(Zy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=v.useId();v.useEffect(()=>{if(t)return i(s)},[t]);const o=v.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const sC=v.createContext({strict:!1}),ME={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const t in ME)Ro[t]={isEnabled:e=>ME[t].some(n=>!!e[n])};function A2(t){for(const e in t)Ro[e]={...Ro[e],...t[e]}}const P2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||P2.has(t)}let oC=t=>!Nf(t);function C2(t){t&&(oC=e=>e.startsWith("on")?!Nf(e):t(e))}try{C2(require("@emotion/is-prop-valid").default)}catch{}function R2(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(oC(i)||n===!0&&Nf(i)||!e&&!Nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function x2(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Rd=v.createContext({});function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cv=["initial",...Pv];function bd(t){return xd(t.animate)||Cv.some(e=>$l(t[e]))}function aC(t){return!!(bd(t)||t.variants)}function b2(t,e){if(bd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function k2(t){const{initial:e,animate:n}=b2(t,v.useContext(Rd));return v.useMemo(()=>({initial:e,animate:n}),[LE(e),LE(n)])}function LE(t){return Array.isArray(t)?t.join(" "):t}const D2=Symbol.for("motionComponentSymbol");function eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O2(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):eo(n)&&(n.current=r))},[e])}const Rv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V2="framerAppearId",lC="data-"+Rv(V2),uC=v.createContext({});function N2(t,e,n,r,i){var I,S;const{visualElement:s}=v.useContext(Rd),o=v.useContext(sC),a=v.useContext(Zy),l=v.useContext(Av).reducedMotion,u=v.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,d=v.useContext(uC);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&M2(u.current,n,i,d);const h=v.useRef(!1);v.useInsertionEffect(()=>{f&&h.current&&f.update(n,a)});const m=n[lC],y=v.useRef(!!m&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return Jy(()=>{f&&(h.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Tv.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,m)}),y.current=!1))}),f}function M2(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&eo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:u})}function cC(t){if(t)return t.options.allowProjection!==!1?t.projection:cC(t.parent)}function L2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&A2(t);function s(a,l){let u;const f={...v.useContext(Av),...a,layoutId:F2(a)},{isStatic:d}=f,h=k2(a),m=r(a,d);if(!d&&Xy){$2();const y=U2(f);u=y.MeasureLayout,h.visualElement=N2(i,m,f,e,y.ProjectionNode)}return Kp.jsxs(Rd.Provider,{value:h,children:[u&&h.visualElement?Kp.jsx(u,{visualElement:h.visualElement,...f}):null,n(i,a,O2(m,h.visualElement,l),m,d,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=v.forwardRef(s);return o[D2]=i,o}function F2({layoutId:t}){const e=v.useContext(hP).id;return e&&t!==void 0?e+"-"+t:t}function $2(t,e){v.useContext(sC).strict}function U2(t){const{drag:e,layout:n}=Ro;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ul={};function B2(t){for(const e in t)Ul[e]=t[e],lv(e)&&(Ul[e].isCSSVariable=!0)}function fC(t,{layout:e,layoutId:n}){return Qo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ul[t]||t==="opacity")}const j2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z2=qo.length;function H2(t,e,n){let r="",i=!0;for(let s=0;s<z2;s++){const o=qo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=eC(a,Ev[o]);if(!l){i=!1;const f=j2[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function xv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Qo.has(l)){o=!0;continue}else if(lv(l)){i[l]=u;continue}else{const f=eC(u,Ev[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=H2(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dC(t,e,n){for(const r in e)!Et(e[r])&&!fC(r,n)&&(t[r]=e[r])}function W2({transformTemplate:t},e){return v.useMemo(()=>{const n=bv();return xv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K2(t,e){const n=t.style||{},r={};return dC(r,n,t),Object.assign(r,W2(t,e)),r}function G2(t,e){const n={},r=K2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const q2={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q2={offset:"strokeDashoffset",array:"strokeDasharray"};function Y2(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?q2:Q2;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function hC(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,f){if(xv(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Y2(d,i,s,o,!1)}const pC=()=>({...bv(),attrs:{}}),mC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X2(t,e,n,r){const i=v.useMemo(()=>{const s=pC();return hC(s,e,mC(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};dC(s,t.style,t),i.style={...s,...i.style}}return i}const J2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kv(t){return typeof t!="string"||t.includes("-")?!1:!!(J2.indexOf(t)>-1||/[A-Z]/u.test(t))}function Z2(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(kv(n)?X2:G2)(r,s,o,n),u=R2(r,typeof n=="string",t),f=n!==v.Fragment?{...u,...l,ref:i}:{},{children:d}=r,h=v.useMemo(()=>Et(d)?d.get():d,[d]);return v.createElement(n,{...f,children:h})}}function FE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dv(t,e,n,r){if(typeof e=="function"){const[i,s]=FE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=FE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function jc(t){return Et(t)?t.get():t}function eF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:tF(n,r,i,t),renderState:e()}}const gC=t=>(e,n)=>{const r=v.useContext(Rd),i=v.useContext(Zy),s=()=>eF(t,e,r,i);return n?s():Cd(s)};function tF(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=jc(s[h]);let{initial:o,animate:a}=t;const l=bd(t),u=aC(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;if(d&&typeof d!="boolean"&&!xd(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const y=Dv(t,h[m]);if(y){const{transitionEnd:I,transition:S,..._}=y;for(const w in _){let E=_[w];if(Array.isArray(E)){const k=f?E.length-1:0;E=E[k]}E!==null&&(i[w]=E)}for(const w in I)i[w]=I[w]}}}return i}function Ov(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Et(r[o])||e.style&&Et(e.style[o])||fC(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const nF={useVisualState:gC({scrapeMotionValuesFromProps:Ov,createRenderState:bv})};function yC(t,e,n){const r=Ov(t,e,n);for(const i in t)if(Et(t[i])||Et(e[i])){const s=qo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const rF={useVisualState:gC({scrapeMotionValuesFromProps:yC,createRenderState:pC})};function iF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...kv(r)?rF:nF,preloadedFeatures:t,useRender:Z2(i),createVisualElement:e,Component:r};return L2(o)}}function Bl(t,e,n){const r=t.getProps();return Dv(r,e,n!==void 0?n:r.custom,t)}const ng=t=>Array.isArray(t);function sF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sn(n))}function oF(t){return ng(t)?t[t.length-1]||0:t}function aF(t,e){const n=Bl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=oF(s[o]);sF(t,o,a)}}function lF(t){return!!(Et(t)&&t.add)}function rg(t,e){const n=t.getValue("willChange");if(lF(n))return n.add(e);if(!n&&Er.WillChange){const r=new Er.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vC(t){return t.props[lC]}const uF=t=>t!==null;function cF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(uF),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const fF={type:"spring",stiffness:500,damping:25,restSpeed:10},dF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hF={type:"keyframes",duration:.8},pF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mF=(t,{keyframes:e})=>e.length>2?hF:Qo.has(t)?t.startsWith("scale")?dF(e[1]):fF:pF;function gF({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const Vv=(t,e,n,r={},i,s)=>o=>{const a=wv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Un(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};gF(a)||Object.assign(f,mF(t,f)),f.duration&&(f.duration=Un(f.duration)),f.repeatDelay&&(f.repeatDelay=Un(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),(Er.instantAnimations||Er.skipAnimations)&&(d=!0,f.duration=0,f.delay=0),f.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const h=cF(f.keyframes,a);if(h!==void 0){me.update(()=>{f.onUpdate(h),f.onComplete()});return}}return a.isSync?new yv(f):new ZL(f)};function yF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _C(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const d=t.getValue(f,t.latestValues[f]??null),h=a[f];if(h===void 0||u&&yF(u,f))continue;const m={delay:n,...wv(s||{},f)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===y&&!m.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const _=vC(t);if(_){const w=window.MotionHandoffAnimation(_,f,me);w!==null&&(m.startTime=w,I=!0)}}rg(t,f),d.start(Vv(f,d,h,t.shouldReduceMotion&&qP.has(f)?{type:!1}:m,t,I));const S=d.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{me.update(()=>{o&&aF(t,o)})}),l}function ig(t,e,n={}){var l;const r=Bl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(_C(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:h}=i;return vF(t,e,f+u,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,f]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function vF(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(_F).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(ig(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function _F(t,e){return t.sortNodePosition(e)}function wF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ig(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ig(t,e,n);else{const i=typeof e=="function"?Bl(t,e,n.custom):e;r=Promise.all(_C(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const EF=Cv.length;function EC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EF;n++){const r=Cv[n],i=t.props[r];($l(i)||i===!1)&&(e[r]=i)}return e}const TF=[...Pv].reverse(),IF=Pv.length;function SF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wF(t,n,r)))}function AF(t){let e=SF(t),n=$E(),r=!0;const i=l=>(u,f)=>{var h;const d=Bl(t,f,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:m,transitionEnd:y,...I}=d;u={...u,...I,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,f=EC(t.parent)||{},d=[],h=new Set;let m={},y=1/0;for(let S=0;S<IF;S++){const _=TF[S],w=n[_],E=u[_]!==void 0?u[_]:f[_],k=$l(E),O=_===l?w.isActive:null;O===!1&&(y=S);let N=E===f[_]&&E!==u[_]&&k;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&O===null||!E&&!w.prevProp||xd(E)||typeof E=="boolean")continue;const P=PF(w.prevProp,E);let T=P||_===l&&w.isActive&&!N&&k||S>y&&k,C=!1;const R=Array.isArray(E)?E:[E];let b=R.reduce(i(_),{});O===!1&&(b={});const{prevResolvedValues:D={}}=w,x={...D,...b},re=ee=>{T=!0,h.has(ee)&&(C=!0,h.delete(ee)),w.needsAnimating[ee]=!0;const F=t.getValue(ee);F&&(F.liveStyle=!1)};for(const ee in x){const F=b[ee],L=D[ee];if(m.hasOwnProperty(ee))continue;let z=!1;ng(F)&&ng(L)?z=!wC(F,L):z=F!==L,z?F!=null?re(ee):h.add(ee):F!==void 0&&h.has(ee)?re(ee):w.protectedKeys[ee]=!0}w.prevProp=E,w.prevResolvedValues=b,w.isActive&&(m={...m,...b}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(N&&P)||C)&&d.push(...R.map(ee=>({animation:ee,options:{type:_}})))}if(h.size){const S={};if(typeof u.initial!="boolean"){const _=Bl(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(S.transition=_.transition)}h.forEach(_=>{const w=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),S[_]=w??null}),d.push({animation:S})}let I=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=$E(),r=!0}}}function PF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wC(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $E(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CF extends xi{constructor(e){super(e),e.animationState||(e.animationState=AF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RF=0;class xF extends xi{constructor(){super(...arguments),this.id=RF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bF={animation:{Feature:CF},exit:{Feature:xF}};function jl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fu(t){return{point:{x:t.pageX,y:t.pageY}}}const kF=t=>e=>Iv(e)&&t(e,fu(e));function al(t,e,n,r){return jl(t,e,kF(n),r)}function TC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function DF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const IC=1e-4,VF=1-IC,NF=1+IC,SC=.01,MF=0-SC,LF=0+SC;function xt(t){return t.max-t.min}function FF(t,e,n){return Math.abs(t-e)<=n}function UE(t,e,n,r=.5){t.origin=r,t.originPoint=Re(e.min,e.max,t.origin),t.scale=xt(n)/xt(e),t.translate=Re(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VF&&t.scale<=NF||isNaN(t.scale))&&(t.scale=1),(t.translate>=MF&&t.translate<=LF||isNaN(t.translate))&&(t.translate=0)}function ll(t,e,n,r){UE(t.x,e.x,n.x,r?r.originX:void 0),UE(t.y,e.y,n.y,r?r.originY:void 0)}function BE(t,e,n){t.min=n.min+e.min,t.max=t.min+xt(e)}function $F(t,e,n){BE(t.x,e.x,n.x),BE(t.y,e.y,n.y)}function jE(t,e,n){t.min=e.min-n.min,t.max=t.min+xt(e)}function ul(t,e,n){jE(t.x,e.x,n.x),jE(t.y,e.y,n.y)}const zE=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:zE(),y:zE()}),HE=()=>({min:0,max:0}),Le=()=>({x:HE(),y:HE()});function on(t){return[t("x"),t("y")]}function gp(t){return t===void 0||t===1}function sg({scale:t,scaleX:e,scaleY:n}){return!gp(t)||!gp(e)||!gp(n)}function Hi(t){return sg(t)||AC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AC(t){return WE(t.x)||WE(t.y)}function WE(t){return t&&t!=="0%"}function Mf(t,e,n){const r=t-n,i=e*r;return n+i}function KE(t,e,n,r,i){return i!==void 0&&(t=Mf(t,i,r)),Mf(t,n,r)+e}function og(t,e=0,n=1,r,i){t.min=KE(t.min,e,n,r,i),t.max=KE(t.max,e,n,r,i)}function PC(t,{x:e,y:n}){og(t.x,e.translate,e.scale,e.originPoint),og(t.y,n.translate,n.scale,n.originPoint)}const GE=.999999999999,qE=1.0000000000001;function UF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ro(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,PC(t,o)),r&&Hi(s.latestValues)&&ro(t,s.latestValues))}e.x<qE&&e.x>GE&&(e.x=1),e.y<qE&&e.y>GE&&(e.y=1)}function no(t,e){t.min=t.min+e,t.max=t.max+e}function QE(t,e,n,r,i=.5){const s=Re(t.min,t.max,i);og(t,e,n,s,r)}function ro(t,e){QE(t.x,e.x,e.scaleX,e.scale,e.originX),QE(t.y,e.y,e.scaleY,e.scale,e.originY)}function CC(t,e){return TC(OF(t.getBoundingClientRect(),e))}function BF(t,e,n){const r=CC(t,n),{scroll:i}=e;return i&&(no(r.x,i.offset.x),no(r.y,i.offset.y)),r}const RC=({current:t})=>t?t.ownerDocument.defaultView:null,YE=(t,e)=>Math.abs(t-e);function jF(t,e){const n=YE(t.x,e.x),r=YE(t.y,e.y);return Math.sqrt(n**2+r**2)}class xC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=vp(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=jF(d.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=d,{timestamp:I}=Xe;this.history.push({...y,timestamp:I});const{onStart:S,onMove:_}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=yp(h,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vp(d.type==="pointercancel"?this.lastMoveEventInfo:yp(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,S),y&&y(d,S)},!Iv(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=fu(e),a=yp(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Xe;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,vp(a,this.history)),this.removeListeners=lu(al(this.contextWindow,"pointermove",this.handlePointerMove),al(this.contextWindow,"pointerup",this.handlePointerUp),al(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xn(this.updatePoint)}}function yp(t,e){return e?{point:e(t.point)}:t}function XE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vp({point:t},e){return{point:t,delta:XE(t,bC(e)),offset:XE(t,zF(e)),velocity:HF(e,.1)}}function zF(t){return t[0]}function bC(t){return t[t.length-1]}function HF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=bC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Un(e)));)n--;if(!r)return{x:0,y:0};const s=Bn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function WF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Re(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Re(n,t,r.max):Math.min(t,n)),t}function JE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function KF(t,{top:e,left:n,bottom:r,right:i}){return{x:JE(t.x,n,i),y:JE(t.y,e,r)}}function ZE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function GF(t,e){return{x:ZE(t.x,e.x),y:ZE(t.y,e.y)}}function qF(t,e){let n=.5;const r=xt(t),i=xt(e);return i>r?n=Co(e.min,e.max-r,t.min):r>i&&(n=Co(t.min,t.max-i,e.min)),Yn(0,1,n)}function QF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ag=.35;function YF(t=ag){return t===!1?t=0:t===!0&&(t=ag),{x:eT(t,"left","right"),y:eT(t,"top","bottom")}}function eT(t,e,n){return{min:tT(t,e),max:tT(t,n)}}function tT(t,e){return typeof t=="number"?t:t[e]||0}const XF=new WeakMap;class JF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fu(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p2(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),on(S=>{let _=this.getAxisMotionValue(S).get()||0;if(jn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[S];E&&(_=xt(E)*(parseFloat(_)/100))}}this.originPoint[S]=_}),y&&me.postRender(()=>y(f,d)),rg(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:I}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:S}=d;if(m&&this.currentDirection===null){this.currentDirection=ZF(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),I&&I(f,d)},a=(f,d)=>this.stop(f,d),l=()=>on(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:RC(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&me.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=WF(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=KF(r.layoutBox,e):this.constraints=!1,this.elastic=YF(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&on(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=QF(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!eo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=BF(r,i.root,this.visualElement.getTransformPagePoint());let o=GF(i.layout.layoutBox,s);if(n){const a=n(DF(o));this.hasMutatedConstraints=!!a,a&&(o=TC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=on(f=>{if(!yc(f,n,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rg(this.visualElement,e),r.start(Vv(e,r,0,n,this.visualElement,!1))}stopAnimation(){on(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){on(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){on(n=>{const{drag:r}=this.getProps();if(!yc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};on(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=qF({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),on(o=>{if(!yc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Re(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;XF.set(this.visualElement,this);const e=this.visualElement.current,n=al(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),me.read(r);const o=jl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(on(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ag,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class e$ extends xi{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new JF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const nT=t=>(e,n)=>{t&&me.postRender(()=>t(e,n))};class t$ extends xi{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new xC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nT(e),onStart:nT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&me.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ba={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=rT(t,e.target.x),r=rT(t,e.target.y);return`${n}% ${r}%`}},n$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=pi.parse(t);if(i.length>5)return r;const s=pi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Re(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class r$ extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;B2(i$),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||me.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kC(t){const[e,n]=S2(),r=v.useContext(hP);return Kp.jsx(r$,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(uC),isPresent:e,safeToRemove:n})}const i$={borderRadius:{...ba,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ba,borderTopRightRadius:ba,borderBottomLeftRadius:ba,borderBottomRightRadius:ba,boxShadow:n$};function s$(t,e,n){const r=Et(t)?t:Sn(t);return r.start(Vv("",r,e,n)),r.animation}const o$=(t,e)=>t.depth-e.depth;class a${constructor(){this.children=[],this.isDirty=!1}add(e){ev(this.children,e),this.isDirty=!0}remove(e){tv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(o$),this.isDirty=!1,this.children.forEach(e)}}function l$(t,e){const n=Ht.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xn(r),t(s-e))};return me.setup(r,!0),()=>xn(r)}const DC=["TopLeft","TopRight","BottomLeft","BottomRight"],u$=DC.length,iT=t=>typeof t=="string"?parseFloat(t):t,sT=t=>typeof t=="number"||J.test(t);function c$(t,e,n,r,i,s){i?(t.opacity=Re(0,n.opacity??1,f$(r)),t.opacityExit=Re(e.opacity??1,0,d$(r))):s&&(t.opacity=Re(e.opacity??1,n.opacity??1,r));for(let o=0;o<u$;o++){const a=`border${DC[o]}Radius`;let l=oT(e,a),u=oT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||sT(l)===sT(u)?(t[a]=Math.max(Re(iT(l),iT(u),r),0),(jn.test(u)||jn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Re(e.rotate||0,n.rotate||0,r))}function oT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const f$=OC(0,.5,IP),d$=OC(.5,.95,qt);function OC(t,e,n){return r=>r<t?0:r>e?1:n(Co(t,e,r))}function aT(t,e){t.min=e.min,t.max=e.max}function sn(t,e){aT(t.x,e.x),aT(t.y,e.y)}function lT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uT(t,e,n,r,i){return t-=e,t=Mf(t,1/n,r),i!==void 0&&(t=Mf(t,1/i,r)),t}function h$(t,e=0,n=1,r=.5,i,s=t,o=t){if(jn.test(e)&&(e=parseFloat(e),e=Re(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Re(s.min,s.max,r);t===s&&(a-=e),t.min=uT(t.min,e,n,a,i),t.max=uT(t.max,e,n,a,i)}function cT(t,e,[n,r,i],s,o){h$(t,e[n],e[r],e[i],e.scale,s,o)}const p$=["x","scaleX","originX"],m$=["y","scaleY","originY"];function fT(t,e,n,r){cT(t.x,e,p$,n?n.x:void 0,r?r.x:void 0),cT(t.y,e,m$,n?n.y:void 0,r?r.y:void 0)}function dT(t){return t.translate===0&&t.scale===1}function VC(t){return dT(t.x)&&dT(t.y)}function hT(t,e){return t.min===e.min&&t.max===e.max}function g$(t,e){return hT(t.x,e.x)&&hT(t.y,e.y)}function pT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function NC(t,e){return pT(t.x,e.x)&&pT(t.y,e.y)}function mT(t){return xt(t.x)/xt(t.y)}function gT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class y${constructor(){this.members=[]}add(e){ev(this.members,e),e.scheduleRender()}remove(e){if(tv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:h,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const _p=["","X","Y","Z"],_$={visibility:"hidden"},w$=1e3;let E$=0;function wp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function MC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",me,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&MC(r)}function LC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=E$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(S$),this.nodes.forEach(x$),this.nodes.forEach(b$),this.nodes.forEach(A$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new a$)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new iv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Sv(o)&&!w2(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=l$(d,250),zc.hasAnimatedSinceResize&&(zc.hasAnimatedSinceResize=!1,this.nodes.forEach(vT))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||N$,{onLayoutAnimationStart:I,onLayoutAnimationComplete:S}=u.getProps(),_=!this.targetLayout||!NC(this.targetLayout,m),w=!d&&h;if(this.options.layoutRoot||this.resumeFrom||w||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const E={...wv(y,"layout"),onPlay:I,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else d||vT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k$),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yT);return}this.isUpdating||this.nodes.forEach(C$),this.isUpdating=!1,this.nodes.forEach(R$),this.nodes.forEach(T$),this.nodes.forEach(I$),this.clearAllSnapshots();const a=Ht.now();Xe.delta=Yn(0,1e3/60,a-Xe.timestamp),Xe.timestamp=a,Xe.isProcessing=!0,cp.update.process(Xe),cp.preRender.process(Xe),cp.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P$),this.sharedNodes.forEach(D$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xt(this.snapshot.measuredBox.x)&&!xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!VC(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Hi(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),M$(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Le();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(L$))){const{scroll:f}=this.root;f&&(no(a.x,f.offset.x),no(a.y,f.offset.y))}return a}removeElementScroll(o){var l;const a=Le();if(sn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:h}=f;f!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&sn(a,o),no(a.x,d.offset.x),no(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Le();sn(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ro(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Hi(f.latestValues)&&ro(l,f.latestValues)}return Hi(this.latestValues)&&ro(l,this.latestValues),l}removeTransform(o){const a=Le();sn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Hi(u.latestValues))continue;sg(u.latestValues)&&u.updateSnapshot();const f=Le(),d=u.measurePageBox();sn(f,d),fT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Hi(this.latestValues)&&fT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ul(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$F(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sn(this.target,this.layout.layoutBox),PC(this.target,this.targetDelta)):sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ul(this.relativeTargetOrigin,this.target,m.target),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sg(this.parent.latestValues)||AC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;sn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;UF(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Le());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lT(this.prevProjectionDelta.x,this.projectionDelta.x),lT(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!gT(this.projectionDelta.x,this.prevProjectionDelta.x)||!gT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Le(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,I=m!==y,S=this.getStack(),_=!S||S.members.length<=1,w=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(V$));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const O=k/1e3;_T(d.x,o.x,O),_T(d.y,o.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O$(this.relativeTarget,this.relativeTargetOrigin,h,O),E&&g$(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Le()),sn(E,this.relativeTarget)),I&&(this.animationValues=f,c$(f,u,this.latestValues,O,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(xn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{zc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sn(0)),this.currentAnimation=s$(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w$),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&FC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Le();const d=xt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=xt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}sn(a,l),ro(a,f),ll(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new y$),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&wp("z",o,u,this.animationValues);for(let f=0;f<_p.length;f++)wp(`rotate${_p[f]}`,o,u,this.animationValues),wp(`skew${_p[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _$;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=jc(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=jc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=v$(this.projectionDeltaWithTransform,this.treeScale,f),l&&(a.transform=l(f,a.transform));const{x:d,y:h}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in Ul){if(f[m]===void 0)continue;const{correct:y,applyTo:I,isCSSVariable:S}=Ul[m],_=a.transform==="none"?f[m]:y(f[m],u);if(I){const w=I.length;for(let E=0;E<w;E++)a[I[E]]=_}else S?this.options.visualElement.renderState.vars[m]=_:a[m]=_}return this.options.layoutId&&(a.pointerEvents=u===this?jc(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(yT),this.root.sharedNodes.clear()}}}function T$(t){t.updateLayout()}function I$(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?on(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],m=xt(h);h.min=r[d].min,h.max=h.min+m}):FC(s,e.layoutBox,r)&&on(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],m=xt(r[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=to();ll(a,r,e.layoutBox);const l=to();o?ll(l,t.applyTransform(i,!0),e.measuredBox):ll(l,r,e.layoutBox);const u=!VC(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const y=Le();ul(y,e.layoutBox,h.layoutBox);const I=Le();ul(I,r,m.layoutBox),NC(y,I)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function S$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function A$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function P$(t){t.clearSnapshot()}function yT(t){t.clearMeasurements()}function C$(t){t.isLayoutDirty=!1}function R$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function x$(t){t.resolveTargetDelta()}function b$(t){t.calcProjection()}function k$(t){t.resetSkewAndRotation()}function D$(t){t.removeLeadSnapshot()}function _T(t,e,n){t.translate=Re(e.translate,0,n),t.scale=Re(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wT(t,e,n,r){t.min=Re(e.min,n.min,r),t.max=Re(e.max,n.max,r)}function O$(t,e,n,r){wT(t.x,e.x,n.x,r),wT(t.y,e.y,n.y,r)}function V$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const N$={duration:.45,ease:[.4,0,.1,1]},ET=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TT=ET("applewebkit/")&&!ET("chrome/")?Math.round:qt;function IT(t){t.min=TT(t.min),t.max=TT(t.max)}function M$(t){IT(t.x),IT(t.y)}function FC(t,e,n){return t==="position"||t==="preserve-aspect"&&!FF(mT(e),mT(n),.2)}function L$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const F$=LC({attachResizeListener:(t,e)=>jl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},$C=LC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ep.current){const t=new F$({});t.mount(window),t.setOptions({layoutScroll:!0}),Ep.current=t}return Ep.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$$={pan:{Feature:t$},drag:{Feature:e$,ProjectionNode:$C,MeasureLayout:kC}};function ST(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&me.postRender(()=>s(e,fu(e)))}class U$ extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=m2(e,(n,r)=>(ST(this.node,r,"Start"),i=>ST(this.node,i,"End"))))}unmount(){}}class B$ extends xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lu(jl(this.node.current,"focus",()=>this.onFocus()),jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&me.postRender(()=>s(e,fu(e)))}class j$ extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=_2(e,(n,r)=>(AT(this.node,r,"Start"),(i,{success:s})=>AT(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lg=new WeakMap,Tp=new WeakMap,z$=t=>{const e=lg.get(t.target);e&&e(t)},H$=t=>{t.forEach(z$)};function W$({root:t,...e}){const n=t||document;Tp.has(n)||Tp.set(n,{});const r=Tp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(H$,{root:t,...e})),r[i]}function K$(t,e,n){const r=W$(e);return lg.set(t,n),r.observe(t),()=>{lg.delete(t),r.unobserve(t)}}const G$={some:0,all:1};class q$ extends xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:G$[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),h=u?f:d;h&&h(l)};return K$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Q$(e,n))&&this.startObserver()}unmount(){}}function Q$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Y$={inView:{Feature:q$},tap:{Feature:j$},focus:{Feature:B$},hover:{Feature:U$}},X$={layout:{ProjectionNode:$C,MeasureLayout:kC}},ug={current:null},UC={current:!1};function J$(){if(UC.current=!0,!!Xy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ug.current=t.matches;t.addListener(e),e()}else ug.current=!1}const Z$=new WeakMap;function e4(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Et(i))t.addValue(r,i);else if(Et(s))t.addValue(r,Sn(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Sn(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const PT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ht.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,me.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=bd(n),this.isVariantNode=aC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const m=d[h];l[h]!==void 0&&Et(m)&&m.set(l[h],!1)}}mount(e){this.current=e,Z$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UC.current||J$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ug.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xn(this.notifyUpdate),xn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Qo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ro){const n=Ro[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PT.length;r++){const i=PT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=e4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Sn(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(pP(r)||gP(r))?r=parseFloat(r):!I2(r)&&pi.test(n)&&(r=JP(e,n)),this.setBaseTarget(e,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Dv(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Et(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class BC extends t4{constructor(){super(...arguments),this.KeyframeResolver=f2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}function n4(t){return window.getComputedStyle(t)}class r4 extends BC{constructor(){super(...arguments),this.type="html",this.renderInstance=jC}readValueFromInstance(e,n){var r;if(Qo.has(n))return(r=this.projection)!=null&&r.isProjecting?Ym(n):kL(e,n);{const i=n4(e),s=(lv(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CC(e,n)}build(e,n,r){xv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ov(e,n,r)}}const zC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i4(t,e,n,r){jC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zC.has(i)?i:Rv(i),e.attrs[i])}class s4 extends BC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qo.has(n)){const r=XP(n);return r&&r.default||0}return n=zC.has(n)?n:Rv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yC(e,n,r)}build(e,n,r){hC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){i4(e,n,r,i)}mount(e){this.isSVGTag=mC(e.tagName),super.mount(e)}}const o4=(t,e)=>kv(t)?new s4(e):new r4(e,{allowProjection:t!==v.Fragment}),a4=iF({...bF,...Y$,...$$,...X$},o4),v8=x2(a4),Hc=new WeakMap;let Nr;function l4(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return Sv(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function u4({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Hc.get(t))==null||r.forEach(i=>{i({target:t,contentSize:e,get size(){return l4(t,n)}})})}function c4(t){t.forEach(u4)}function f4(){typeof ResizeObserver>"u"||(Nr=new ResizeObserver(c4))}function d4(t,e){Nr||f4();const n=ZP(t);return n.forEach(r=>{let i=Hc.get(r);i||(i=new Set,Hc.set(r,i)),i.add(e),Nr==null||Nr.observe(r)}),()=>{n.forEach(r=>{const i=Hc.get(r);i==null||i.delete(e),i!=null&&i.size||Nr==null||Nr.unobserve(r)})}}const Wc=new Set;let cl;function h4(){cl=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Wc.forEach(n=>n(e))},window.addEventListener("resize",cl)}function p4(t){return Wc.add(t),cl||h4(),()=>{Wc.delete(t),!Wc.size&&cl&&(cl=void 0)}}function m4(t,e){return typeof t=="function"?p4(t):d4(t,e)}const g4=50,CT=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),y4=()=>({time:0,x:CT(),y:CT()}),v4={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function RT(t,e,n,r){const i=n[e],{length:s,position:o}=v4[e],a=i.current,l=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Co(0,i.scrollLength,i.current);const u=r-l;i.velocity=u>g4?0:sv(i.current-a,u)}function _4(t,e,n){RT(t,"x",e,n),RT(t,"y",e,n),e.time=n}function w4(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(_v(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const cg={start:0,center:.5,end:1};function xT(t,e,n=0){let r=0;if(t in cg&&(t=cg[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const E4=[0,0];function T4(t,e,n,r){let i=Array.isArray(t)?t:E4,s=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,cg[t]?t:"0"]),s=xT(i[0],n,r),o=xT(i[1],e),s-o}const I4={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},S4={x:0,y:0};function A4(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function P4(t,e,n){const{offset:r=I4.All}=n,{target:i=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==t?w4(i,t):S4,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:A4(i),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let f=!e[s].interpolate;const d=r.length;for(let h=0;h<d;h++){const m=T4(r[h],u[o],l[o],a[s]);!f&&m!==e[s].interpolatorOffsets[h]&&(f=!0),e[s].offset[h]=m}f&&(e[s].interpolate=pv(e[s].offset,FP(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Yn(0,1,e[s].interpolate(e[s].current))}function C4(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function R4(t,e,n,r={}){return{measure:()=>C4(t,r.target,n),update:i=>{_4(t,n,i),(r.offset||r.target)&&P4(t,n,r)},notify:()=>e(n)}}const ka=new WeakMap,bT=new WeakMap,Ip=new WeakMap,kT=t=>t===document.scrollingElement?window:t;function HC(t,{container:e=document.scrollingElement,...n}={}){if(!e)return qt;let r=Ip.get(e);r||(r=new Set,Ip.set(e,r));const i=y4(),s=R4(e,t,i,n);if(r.add(s),!ka.has(e)){const a=()=>{for(const h of r)h.measure()},l=()=>{for(const h of r)h.update(Xe.timestamp)},u=()=>{for(const h of r)h.notify()},f=()=>{me.read(a),me.read(l),me.preUpdate(u)};ka.set(e,f);const d=kT(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&bT.set(e,m4(e,f)),d.addEventListener("scroll",f,{passive:!0}),f()}const o=ka.get(e);return me.read(o,!1,!0),()=>{var u;xn(o);const a=Ip.get(e);if(!a||(a.delete(s),a.size))return;const l=ka.get(e);ka.delete(e),l&&(kT(e).removeEventListener("scroll",l),(u=bT.get(e))==null||u(),window.removeEventListener("resize",l))}}const DT=new Map;function x4(t){const e={value:0},n=HC(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function WC({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=DT.get(e)??new Map;DT.set(e,i);const s=n.target??"self",o=i.get(s)??{},a=r+(n.offset??[]).join(",");return o[a]||(o[a]=!n.target&&jP()?new ScrollTimeline({source:e,axis:r}):x4({container:e,...n})),o[a]}function b4(t,e){const n=WC(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),iC(i=>{r.time=r.duration*i},n))})}function k4(t){return t.length===2}function D4(t,e){return k4(t)?HC(n=>{t(n[e.axis].progress,n)},e):iC(t,WC(e))}function O4(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return qt;const i={axis:e,container:n,...r};return typeof t=="function"?D4(t,i):b4(t,i)}function OT(t,e){bM(!!(!e||e.current))}const V4=()=>({scrollX:Sn(0),scrollY:Sn(0),scrollXProgress:Sn(0),scrollYProgress:Sn(0)});function _8({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=Cd(V4);return(n?Jy:v.useEffect)(()=>(OT("target",e),OT("container",t),O4((o,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}function N4(t){const e=Cd(()=>Sn(t)),{isStatic:n}=v.useContext(Av);if(n){const[,r]=v.useState(t);v.useEffect(()=>e.on("change",r),[])}return e}function KC(t,e){const n=N4(e()),r=()=>n.set(e());return r(),Jy(()=>{const i=()=>me.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),xn(r)}}),n}function M4(t){ol.current=[],t();const e=KC(ol.current,t);return ol.current=void 0,e}function w8(t,e,n,r){if(typeof t=="function")return M4(t);const i=typeof e=="function"?e:E2(e,n,r);return Array.isArray(t)?VT(t,i):VT([t],([s])=>i(s))}function VT(t,e){const n=Cd(()=>[]);return KC(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const L4=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[f],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new $4;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(t){const e=GC(t);return qC.encodeByteArray(e,!0)},Lf=function(t){return U4(t).replace(/\./g,"")},QC=function(t){try{return qC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=()=>B4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QC(t[1]);return e&&JSON.parse(e)},kd=()=>{try{return L4()||j4()||z4()||H4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YC=t=>{var e,n;return(n=(e=kd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},W4=t=>{const e=YC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XC=()=>{var t;return(t=kd())===null||t===void 0?void 0:t.config},JC=t=>{var e;return(e=kd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Lf(JSON.stringify(n)),Lf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Q4(){var t;const e=(t=kd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function J4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z4(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eU(){return!Q4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tU(){try{return typeof indexedDB=="object"}catch{return!1}}function nU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rU,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function iU(t,e){return t.replace(sU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sU=/\{\$([^}]+)}/g;function oU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(NT(s)&&NT(o)){if(!Tr(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function NT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aU(t,e){const n=new lU(t,e);return n.subscribe.bind(n)}class lU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sp),i.error===void 0&&(i.error=Sp),i.complete===void 0&&(i.complete=Sp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dU(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fU(t){return t===Wi?void 0:t}function dU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const pU={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},mU=ae.INFO,gU={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},yU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nv{constructor(e){this.name=e,this._logLevel=mU,this._logHandler=yU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const vU=(t,e)=>e.some(n=>t instanceof n);let MT,LT;function _U(){return MT||(MT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wU(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,fg=new WeakMap,eR=new WeakMap,Ap=new WeakMap,Mv=new WeakMap;function EU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),Mv.set(e,t),e}function TU(t){if(fg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}let dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IU(t){dg=t(dg)}function SU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pp(this),e,...n);return eR.set(r,e.sort?e.sort():[e]),ai(r)}:wU().includes(t)?function(...e){return t.apply(Pp(this),e),ai(ZC.get(this))}:function(...e){return ai(t.apply(Pp(this),e))}}function AU(t){return typeof t=="function"?SU(t):(t instanceof IDBTransaction&&TU(t),vU(t,_U())?new Proxy(t,dg):t)}function ai(t){if(t instanceof IDBRequest)return EU(t);if(Ap.has(t))return Ap.get(t);const e=AU(t);return e!==t&&(Ap.set(t,e),Mv.set(e,t)),e}const Pp=t=>Mv.get(t);function PU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const CU=["get","getKey","getAll","getAllKeys","count"],RU=["put","add","delete","clear"],Cp=new Map;function FT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cp.set(e,s),s}IU(t=>({...t,get:(e,n,r)=>FT(e,n)||t.get(e,n,r),has:(e,n)=>!!FT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",$T="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Nv("@firebase/app"),kU="@firebase/app-compat",DU="@firebase/analytics-compat",OU="@firebase/analytics",VU="@firebase/app-check-compat",NU="@firebase/app-check",MU="@firebase/auth",LU="@firebase/auth-compat",FU="@firebase/database",$U="@firebase/data-connect",UU="@firebase/database-compat",BU="@firebase/functions",jU="@firebase/functions-compat",zU="@firebase/installations",HU="@firebase/installations-compat",WU="@firebase/messaging",KU="@firebase/messaging-compat",GU="@firebase/performance",qU="@firebase/performance-compat",QU="@firebase/remote-config",YU="@firebase/remote-config-compat",XU="@firebase/storage",JU="@firebase/storage-compat",ZU="@firebase/firestore",e3="@firebase/vertexai",t3="@firebase/firestore-compat",n3="firebase",r3="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",i3={[hg]:"fire-core",[kU]:"fire-core-compat",[OU]:"fire-analytics",[DU]:"fire-analytics-compat",[NU]:"fire-app-check",[VU]:"fire-app-check-compat",[MU]:"fire-auth",[LU]:"fire-auth-compat",[FU]:"fire-rtdb",[$U]:"fire-data-connect",[UU]:"fire-rtdb-compat",[BU]:"fire-fn",[jU]:"fire-fn-compat",[zU]:"fire-iid",[HU]:"fire-iid-compat",[WU]:"fire-fcm",[KU]:"fire-fcm-compat",[GU]:"fire-perf",[qU]:"fire-perf-compat",[QU]:"fire-rc",[YU]:"fire-rc-compat",[XU]:"fire-gcs",[JU]:"fire-gcs-compat",[ZU]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new Map,s3=new Map,mg=new Map;function UT(t,e){try{t.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xo(t){const e=t.name;if(mg.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,t);for(const n of Ff.values())UT(n,t);for(const n of s3.values())UT(n,t);return!0}function Lv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},li=new du("app","Firebase",o3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=r3;function l3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=XC()),!n)throw li.create("no-options");const s=Ff.get(i);if(s){if(Tr(n,s.options)&&Tr(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new hU(i);for(const l of mg.values())o.addComponent(l);const a=new a3(n,r,o);return Ff.set(i,a),a}function tR(t=pg){const e=Ff.get(t);if(!e&&t===pg&&XC())return l3();if(!e)throw li.create("no-app",{appName:t});return e}function ui(t,e,n){var r;let i=(r=i3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(a.join(" "));return}xo(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebase-heartbeat-database",c3=1,zl="firebase-heartbeat-store";let Rp=null;function nR(){return Rp||(Rp=PU(u3,c3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function f3(t){try{const n=(await nR()).transaction(zl),r=await n.objectStore(zl).get(rR(t));return await n.done,r}catch(e){if(e instanceof Rr)Ir.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function BT(t,e){try{const r=(await nR()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,rR(t)),await r.done}catch(n){if(n instanceof Rr)Ir.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(r.message)}}}function rR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=1024,h3=30;class p3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>h3){const o=y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ir.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jT(),{heartbeatsToSend:r,unsentEntries:i}=m3(this._heartbeatsCache.heartbeats),s=Lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ir.warn(n),""}}}function jT(){return new Date().toISOString().substring(0,10)}function m3(t,e=d3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tU()?nU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zT(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}function y3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){xo(new hs("platform-logger",e=>new xU(e),"PRIVATE")),xo(new hs("heartbeat",e=>new p3(e),"PRIVATE")),ui(hg,$T,t),ui(hg,$T,"esm2017"),ui("fire-js","")}v3("");function Fv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iR(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _3=iR,sR=new du("auth","Firebase",iR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Nv("@firebase/auth");function w3(t,...e){$f.logLevel<=ae.WARN&&$f.warn(`Auth (${Yo}): ${t}`,...e)}function Kc(t,...e){$f.logLevel<=ae.ERROR&&$f.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw $v(t,...e)}function zn(t,...e){return $v(t,...e)}function oR(t,e,n){const r=Object.assign(Object.assign({},_3()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return oR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sR.create(t,...e)}function Q(t,e,...n){if(!t)throw $v(e,...n)}function cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function Sr(t,e){t||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function E3(){return HT()==="http:"||HT()==="https:"}function HT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E3()||X4()||"connection"in navigator)?navigator.onLine:!0}function I3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=q4()||J4()}get(){return T3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P3=new pu(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return lR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return Y4()||(u.referrerPolicy="no-referrer"),aR.fetch()(await uR(t,t.config.apiHost,n,a),u)})}async function lR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S3),e);try{const i=new R3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vc(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oR(t,f,u);bn(t,f)}}catch(i){if(i instanceof Rr)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function mu(t,e,n,r,i={}){const s=await ki(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function uR(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Uv(t.config,i):`${t.config.apiScheme}://${i}`;return A3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function C3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),P3.get())})}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}function WT(t){return t!==void 0&&t.enterprise!==void 0}class x3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b3(t,e){return ki(t,"GET","/v2/recaptchaConfig",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D3(t,e=!1){const n=je(t),r=await n.getIdToken(e),i=Bv(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fl(xp(i.auth_time)),issuedAtTime:fl(xp(i.iat)),expirationTime:fl(xp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xp(t){return Number(t)*1e3}function Bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=QC(n);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KT(t){const e=Bv(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&O3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hl(t,Uf(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cR(s.providerUserInfo):[],a=M3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function N3(t){const e=je(t);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cR(t){return t.map(e=>{var{providerId:n}=e,r=Fv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){const n=await lR(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await uR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F3(t,e){return ki(t,"POST","/v2/accounts:revokeToken",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=KT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await L3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ho;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class An{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D3(this,e)}reload(){return N3(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new An(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Hl(this,k3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:k,isAnonymous:O,providerData:N,stsTokenManager:P}=n;Q(E&&P,e,"internal-error");const T=ho.fromJSON(this.name,P);Q(typeof E=="string",e,"internal-error"),Or(d,e.name),Or(h,e.name),Q(typeof k=="boolean",e,"internal-error"),Q(typeof O=="boolean",e,"internal-error"),Or(m,e.name),Or(y,e.name),Or(I,e.name),Or(S,e.name),Or(_,e.name),Or(w,e.name);const C=new An({uid:E,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:T,createdAt:_,lastLoginAt:w});return N&&Array.isArray(N)&&(C.providerData=N.map(R=>Object.assign({},R))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const s=new An({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Q(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?cR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ho;a.updateFromIdToken(r);const l=new An({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=new Map;function fr(t){Sr(t instanceof Function,"Expected a class definition");let e=GT.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fR.type="NONE";const qT=fR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?An._fromGetAccountInfoResponse(this.auth,n,e):null}return An._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(fr(qT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||fr(qT);const o=Gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let d;if(typeof f=="string"){const h=await Uf(e,{idToken:f}).catch(()=>{});if(!h)break;d=await An._fromGetAccountInfoResponse(e,h,f)}else d=An._fromJSON(e,f);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yR(e))return"Blackberry";if(vR(e))return"Webos";if(hR(e))return"Safari";if((e.includes("chrome/")||pR(e))&&!e.includes("edge/"))return"Chrome";if(gR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dR(t=St()){return/firefox\//i.test(t)}function hR(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pR(t=St()){return/crios\//i.test(t)}function mR(t=St()){return/iemobile/i.test(t)}function gR(t=St()){return/android/i.test(t)}function yR(t=St()){return/blackberry/i.test(t)}function vR(t=St()){return/webos/i.test(t)}function jv(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $3(t=St()){var e;return jv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U3(){return Z4()&&document.documentMode===10}function _R(t=St()){return jv(t)||gR(t)||vR(t)||yR(t)||/windows phone/i.test(t)||mR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e=[]){let n;switch(t){case"Browser":n=QT(St());break;case"Worker":n=`${QT(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e={}){return ki(t,"GET","/v2/passwordPolicy",bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=6;class H3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:z3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YT(this),this.idTokenSubscription=new YT(this),this.beforeStateQueue=new B3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),r=await An._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(hr(this));const n=e?je(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j3(this),n=new H3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&w3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function As(t){return je(t)}class YT{constructor(e){this.auth=e,this.observer=null,this.addObserver=aU(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K3(t){Dd=t}function ER(t){return Dd.loadJS(t)}function G3(){return Dd.recaptchaEnterpriseScript}function q3(){return Dd.gapiScript}function Q3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Y3{constructor(){this.enterprise=new X3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J3="recaptcha-enterprise",TR="NO_RECAPTCHA";class Z3{constructor(e){this.type=J3,this.auth=As(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{b3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new x3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;WT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(TR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&WT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G3();l.length!==0&&(l+=a),ER(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Da(t,e,n,r=!1,i=!1){const s=new Z3(t);let o;if(i)o=TR;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vg(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Da(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Da(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await Da(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=await Da(t,e,n,!1,!0);return r(t,f)}return Promise.reject(l)})}else{const a=await Da(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){const n=Lv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Tr(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function t5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n5(t,e,n){const r=As(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=IR(e),{host:o,port:a}=r5(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Tr(u,r.config.emulator)&&Tr(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,i||i5()}function IR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r5(t){const e=IR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:XT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:XT(o)}}}function XT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function s5(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){return mu(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function l5(t,e){return mu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends zv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,n,"signInWithPassword",o5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a5(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vg(e,r,"signUpPassword",s5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l5(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return mu(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="http://localhost";class ps extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:u5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f5(t){const e=$a(Ua(t)).link,n=e?$a(Ua(e)).deep_link_id:null,r=$a(Ua(t)).deep_link_id;return(r?$a(Ua(r)).link:null)||r||n||e||t}class Hv{constructor(e){var n,r,i,s,o,a;const l=$a(Ua(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,d=c5((i=l.mode)!==null&&i!==void 0?i:null);Q(u&&f&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=f5(e);try{return new Hv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hv.parseLink(n);return Q(r,"argument-error"),Wl._fromEmailAndCode(e,r.code,r.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends SR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends gu{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends gu{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends gu{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return mu(t,"POST","/v1/accounts:signUp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await An._fromIdTokenResponse(e,r,i),o=JT(r);return new ms({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=JT(r);return new ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function JT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jf(e,n,r,i)}}function AR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(t,s,e,r):s})}async function h5(t,e,n=!1){const r=await Hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t,e,n=!1){const{auth:r}=t;if(un(r.app))return Promise.reject(hr(r));const i="reauthenticate";try{const s=await Hl(t,AR(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=Bv(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),ms._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(t,e,n=!1){if(un(t.app))return Promise.reject(hr(t));const r="signIn",i=await AR(t,r,e),s=await ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function m5(t,e){return PR(As(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t){const e=As(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E8(t,e,n){if(un(t.app))return Promise.reject(hr(t));const r=As(t),o=await vg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d5,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CR(t),l}),a=await ms._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function T8(t,e,n){return un(t.app)?Promise.reject(hr(t)):m5(je(t),Xo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CR(t),r})}function g5(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function y5(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function v5(t,e,n,r){return je(t).onAuthStateChanged(e,n,r)}function I8(t){return je(t).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1e3,w5=10;class xR extends RR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);U3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,w5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xR.type="LOCAL";const E5=xR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends RR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bR.type="SESSION";const kR=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await T5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Wv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function S5(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function A5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C5(){return DR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebaseLocalStorageDb",R5=1,Hf="firebaseLocalStorage",VR="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function x5(){const t=indexedDB.deleteDatabase(OR);return new yu(t).toPromise()}function _g(){const t=indexedDB.open(OR,R5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hf,{keyPath:VR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hf)?e(r):(r.close(),await x5(),e(await _g()))})})}async function ZT(t,e,n){const r=Vd(t,!0).put({[VR]:e,value:n});return new yu(r).toPromise()}async function b5(t,e){const n=Vd(t,!1).get(e),r=await new yu(n).toPromise();return r===void 0?null:r.value}function e1(t,e){const n=Vd(t,!0).delete(e);return new yu(n).toPromise()}const k5=800,D5=3;class NR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(C5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await A5(),!this.activeServiceWorker)return;this.sender=new I5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _g();return await ZT(e,zf,"1"),await e1(e,zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new yu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NR.type="LOCAL";const O5=NR;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){return e?fr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N5(t){return PR(t.auth,new Kv(t),t.bypassAuthState)}function M5(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),p5(n,new Kv(t),t.bypassAuthState)}async function L5(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),h5(n,new Kv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N5;case"linkViaPopup":case"linkViaRedirect":return L5;case"reauthViaPopup":case"reauthViaRedirect":return M5;default:bn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new pu(2e3,1e4);class io extends MR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F5.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="pendingRedirect",qc=new Map;class U5 extends MR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const r=await B5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B5(t,e){const n=H5(e),r=z5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function j5(t,e){qc.set(t._key(),e)}function z5(t){return fr(t._redirectPersistence)}function H5(t){return Gc($5,t.config.apiKey,t.name)}async function W5(t,e,n=!1){if(un(t.app))return Promise.reject(hr(t));const r=As(t),i=V5(r,e),o=await new U5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=10*60*1e3;class G5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t1(e))}saveEventToCache(e){this.cachedEventUids.add(t1(e)),this.lastProcessedEventTime=Date.now()}}function t1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X5=/^https?/;async function J5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q5(t);for(const n of e)try{if(Z5(n))return}catch{}bn(t,"unauthorized-domain")}function Z5(t){const e=gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!X5.test(n))return!1;if(Y5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new pu(3e4,6e4);function n1(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tB(t){return new Promise((e,n)=>{var r,i,s;function o(){n1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n1(),n(zn(t,"network-request-failed"))},timeout:eB.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const a=Q3("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},ER(`${q3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function nB(t){return Qc=Qc||tB(t),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=new pu(5e3,15e3),iB="__/auth/iframe",sB="emulator/auth/iframe",oB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lB(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uv(e,sB):`https://${t.config.authDomain}/${iB}`,r={apiKey:e.apiKey,appName:t.name,v:Yo},i=aB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function uB(t){const e=await nB(t),n=Hn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:lB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},rB.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fB=500,dB=600,hB="_blank",pB="http://localhost";class r1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mB(t,e,n,r=fB,i=dB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=St().toLowerCase();n&&(a=pR(u)?hB:n),dR(u)&&(e=e||pB,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if($3(u)&&a!=="_self")return gB(e||"",a),new r1(null);const d=window.open(e||"",a,f);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new r1(d)}function gB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB="__/auth/handler",vB="emulator/auth/handler",_B=encodeURIComponent("fac");async function i1(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:i};if(e instanceof SR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries(s||{}))o[f]=d}if(e instanceof gu){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${_B}=${encodeURIComponent(l)}`:"";return`${wB(t)}?${hu(a).slice(1)}${u}`}function wB({config:t}){return t.emulator?Uv(t,vB):`https://${t.authDomain}/${yB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class EB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kR,this._completeRedirectFn=W5,this._overrideRedirectResult=j5}async _openPopup(e,n,r,i){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await i1(e,n,r,gg(),i);return mB(e,o,Wv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await i1(e,n,r,gg(),i);return S5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uB(e),r=new G5(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bp];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _R()||hR()||jv()}}const TB=EB;var s1="@firebase/auth",o1="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AB(t){xo(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(t)},u=new W3(r,i,s,l);return t5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xo(new hs("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(r=>new IB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(s1,o1,SB(t)),ui(s1,o1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=5*60,CB=JC("authIdTokenMaxAge")||PB;let a1=null;const RB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CB)return;const i=n==null?void 0:n.token;a1!==i&&(a1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S8(t=tR()){const e=Lv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e5(t,{popupRedirectResolver:TB,persistence:[O5,E5,kR]}),r=JC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=RB(s.toString());y5(n,o,()=>o(n.currentUser)),g5(n,a=>o(a))}}const i=YC("auth");return i&&n5(n,`http://${i}`),n}function xB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}K3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AB("Browser");var bB="firebase",kB="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(bB,kB,"app");var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,FR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function C(){}C.prototype=T.prototype,P.D=T.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(R,b,D){for(var x=Array(arguments.length-2),re=2;re<arguments.length;re++)x[re-2]=arguments[re];return T.prototype[b].apply(R,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,C){C||(C=0);var R=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)R[b]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(b=0;16>b;++b)R[b]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=P.g[0],C=P.g[1],b=P.g[2];var D=P.g[3],x=T+(D^C&(b^D))+R[0]+3614090360&4294967295;T=C+(x<<7&4294967295|x>>>25),x=D+(b^T&(C^b))+R[1]+3905402710&4294967295,D=T+(x<<12&4294967295|x>>>20),x=b+(C^D&(T^C))+R[2]+606105819&4294967295,b=D+(x<<17&4294967295|x>>>15),x=C+(T^b&(D^T))+R[3]+3250441966&4294967295,C=b+(x<<22&4294967295|x>>>10),x=T+(D^C&(b^D))+R[4]+4118548399&4294967295,T=C+(x<<7&4294967295|x>>>25),x=D+(b^T&(C^b))+R[5]+1200080426&4294967295,D=T+(x<<12&4294967295|x>>>20),x=b+(C^D&(T^C))+R[6]+2821735955&4294967295,b=D+(x<<17&4294967295|x>>>15),x=C+(T^b&(D^T))+R[7]+4249261313&4294967295,C=b+(x<<22&4294967295|x>>>10),x=T+(D^C&(b^D))+R[8]+1770035416&4294967295,T=C+(x<<7&4294967295|x>>>25),x=D+(b^T&(C^b))+R[9]+2336552879&4294967295,D=T+(x<<12&4294967295|x>>>20),x=b+(C^D&(T^C))+R[10]+4294925233&4294967295,b=D+(x<<17&4294967295|x>>>15),x=C+(T^b&(D^T))+R[11]+2304563134&4294967295,C=b+(x<<22&4294967295|x>>>10),x=T+(D^C&(b^D))+R[12]+1804603682&4294967295,T=C+(x<<7&4294967295|x>>>25),x=D+(b^T&(C^b))+R[13]+4254626195&4294967295,D=T+(x<<12&4294967295|x>>>20),x=b+(C^D&(T^C))+R[14]+2792965006&4294967295,b=D+(x<<17&4294967295|x>>>15),x=C+(T^b&(D^T))+R[15]+1236535329&4294967295,C=b+(x<<22&4294967295|x>>>10),x=T+(b^D&(C^b))+R[1]+4129170786&4294967295,T=C+(x<<5&4294967295|x>>>27),x=D+(C^b&(T^C))+R[6]+3225465664&4294967295,D=T+(x<<9&4294967295|x>>>23),x=b+(T^C&(D^T))+R[11]+643717713&4294967295,b=D+(x<<14&4294967295|x>>>18),x=C+(D^T&(b^D))+R[0]+3921069994&4294967295,C=b+(x<<20&4294967295|x>>>12),x=T+(b^D&(C^b))+R[5]+3593408605&4294967295,T=C+(x<<5&4294967295|x>>>27),x=D+(C^b&(T^C))+R[10]+38016083&4294967295,D=T+(x<<9&4294967295|x>>>23),x=b+(T^C&(D^T))+R[15]+3634488961&4294967295,b=D+(x<<14&4294967295|x>>>18),x=C+(D^T&(b^D))+R[4]+3889429448&4294967295,C=b+(x<<20&4294967295|x>>>12),x=T+(b^D&(C^b))+R[9]+568446438&4294967295,T=C+(x<<5&4294967295|x>>>27),x=D+(C^b&(T^C))+R[14]+3275163606&4294967295,D=T+(x<<9&4294967295|x>>>23),x=b+(T^C&(D^T))+R[3]+4107603335&4294967295,b=D+(x<<14&4294967295|x>>>18),x=C+(D^T&(b^D))+R[8]+1163531501&4294967295,C=b+(x<<20&4294967295|x>>>12),x=T+(b^D&(C^b))+R[13]+2850285829&4294967295,T=C+(x<<5&4294967295|x>>>27),x=D+(C^b&(T^C))+R[2]+4243563512&4294967295,D=T+(x<<9&4294967295|x>>>23),x=b+(T^C&(D^T))+R[7]+1735328473&4294967295,b=D+(x<<14&4294967295|x>>>18),x=C+(D^T&(b^D))+R[12]+2368359562&4294967295,C=b+(x<<20&4294967295|x>>>12),x=T+(C^b^D)+R[5]+4294588738&4294967295,T=C+(x<<4&4294967295|x>>>28),x=D+(T^C^b)+R[8]+2272392833&4294967295,D=T+(x<<11&4294967295|x>>>21),x=b+(D^T^C)+R[11]+1839030562&4294967295,b=D+(x<<16&4294967295|x>>>16),x=C+(b^D^T)+R[14]+4259657740&4294967295,C=b+(x<<23&4294967295|x>>>9),x=T+(C^b^D)+R[1]+2763975236&4294967295,T=C+(x<<4&4294967295|x>>>28),x=D+(T^C^b)+R[4]+1272893353&4294967295,D=T+(x<<11&4294967295|x>>>21),x=b+(D^T^C)+R[7]+4139469664&4294967295,b=D+(x<<16&4294967295|x>>>16),x=C+(b^D^T)+R[10]+3200236656&4294967295,C=b+(x<<23&4294967295|x>>>9),x=T+(C^b^D)+R[13]+681279174&4294967295,T=C+(x<<4&4294967295|x>>>28),x=D+(T^C^b)+R[0]+3936430074&4294967295,D=T+(x<<11&4294967295|x>>>21),x=b+(D^T^C)+R[3]+3572445317&4294967295,b=D+(x<<16&4294967295|x>>>16),x=C+(b^D^T)+R[6]+76029189&4294967295,C=b+(x<<23&4294967295|x>>>9),x=T+(C^b^D)+R[9]+3654602809&4294967295,T=C+(x<<4&4294967295|x>>>28),x=D+(T^C^b)+R[12]+3873151461&4294967295,D=T+(x<<11&4294967295|x>>>21),x=b+(D^T^C)+R[15]+530742520&4294967295,b=D+(x<<16&4294967295|x>>>16),x=C+(b^D^T)+R[2]+3299628645&4294967295,C=b+(x<<23&4294967295|x>>>9),x=T+(b^(C|~D))+R[0]+4096336452&4294967295,T=C+(x<<6&4294967295|x>>>26),x=D+(C^(T|~b))+R[7]+1126891415&4294967295,D=T+(x<<10&4294967295|x>>>22),x=b+(T^(D|~C))+R[14]+2878612391&4294967295,b=D+(x<<15&4294967295|x>>>17),x=C+(D^(b|~T))+R[5]+4237533241&4294967295,C=b+(x<<21&4294967295|x>>>11),x=T+(b^(C|~D))+R[12]+1700485571&4294967295,T=C+(x<<6&4294967295|x>>>26),x=D+(C^(T|~b))+R[3]+2399980690&4294967295,D=T+(x<<10&4294967295|x>>>22),x=b+(T^(D|~C))+R[10]+4293915773&4294967295,b=D+(x<<15&4294967295|x>>>17),x=C+(D^(b|~T))+R[1]+2240044497&4294967295,C=b+(x<<21&4294967295|x>>>11),x=T+(b^(C|~D))+R[8]+1873313359&4294967295,T=C+(x<<6&4294967295|x>>>26),x=D+(C^(T|~b))+R[15]+4264355552&4294967295,D=T+(x<<10&4294967295|x>>>22),x=b+(T^(D|~C))+R[6]+2734768916&4294967295,b=D+(x<<15&4294967295|x>>>17),x=C+(D^(b|~T))+R[13]+1309151649&4294967295,C=b+(x<<21&4294967295|x>>>11),x=T+(b^(C|~D))+R[4]+4149444226&4294967295,T=C+(x<<6&4294967295|x>>>26),x=D+(C^(T|~b))+R[11]+3174756917&4294967295,D=T+(x<<10&4294967295|x>>>22),x=b+(T^(D|~C))+R[2]+718787259&4294967295,b=D+(x<<15&4294967295|x>>>17),x=C+(D^(b|~T))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(b+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+b&4294967295,P.g[3]=P.g[3]+D&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var C=T-this.blockSize,R=this.B,b=this.h,D=0;D<T;){if(b==0)for(;D<=C;)i(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<T;)if(R[b++]=P.charCodeAt(D++),b==this.blockSize){i(this,R),b=0;break}}else for(;D<T;)if(R[b++]=P[D++],b==this.blockSize){i(this,R),b=0;break}}this.h=b,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var C=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=C&255,C/=256;for(this.u(P),P=Array(16),T=C=0;4>T;++T)for(var R=0;32>R;R+=8)P[C++]=this.g[T]>>>R&255;return P};function s(P,T){var C=a;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=T(P)}function o(P,T){this.h=T;for(var C=[],R=!0,b=P.length-1;0<=b;b--){var D=P[b]|0;R&&D==T||(C[b]=D,R=!1)}this.g=C}var a={};function l(P){return-128<=P&&128>P?s(P,function(T){return new o([T|0],0>T?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return S(u(-P));for(var T=[],C=1,R=0;P>=C;R++)T[R]=P/C|0,C*=4294967296;return new o(T,0)}function f(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return S(f(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(T,8)),R=d,b=0;b<P.length;b+=8){var D=Math.min(8,P.length-b),x=parseInt(P.substring(b,b+D),T);8>D?(D=u(Math.pow(T,D)),R=R.j(D).add(u(x))):(R=R.j(C),R=R.add(u(x)))}return R}var d=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-S(this).m();for(var P=0,T=1,C=0;C<this.g.length;C++){var R=this.i(C);P+=(0<=R?R:4294967296+R)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(I(this))return"-"+S(this).toString(P);for(var T=u(Math.pow(P,6)),C=this,R="";;){var b=k(C,T).g;C=_(C,b.j(T));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=b,y(C))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function I(P){return P.h==-1}t.l=function(P){return P=_(this,P),I(P)?-1:y(P)?0:1};function S(P){for(var T=P.g.length,C=[],R=0;R<T;R++)C[R]=~P.g[R];return new o(C,~P.h).add(h)}t.abs=function(){return I(this)?S(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0,b=0;b<=T;b++){var D=R+(this.i(b)&65535)+(P.i(b)&65535),x=(D>>>16)+(this.i(b)>>>16)+(P.i(b)>>>16);R=x>>>16,D&=65535,x&=65535,C[b]=x<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(P,T){return P.add(S(T))}t.j=function(P){if(y(this)||y(P))return d;if(I(this))return I(P)?S(this).j(S(P)):S(S(this).j(P));if(I(P))return S(this.j(S(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var T=this.g.length+P.g.length,C=[],R=0;R<2*T;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<P.g.length;b++){var D=this.i(R)>>>16,x=this.i(R)&65535,re=P.i(b)>>>16,Ee=P.i(b)&65535;C[2*R+2*b]+=x*Ee,w(C,2*R+2*b),C[2*R+2*b+1]+=D*Ee,w(C,2*R+2*b+1),C[2*R+2*b+1]+=x*re,w(C,2*R+2*b+1),C[2*R+2*b+2]+=D*re,w(C,2*R+2*b+2)}for(R=0;R<T;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=T;R<2*T;R++)C[R]=0;return new o(C,0)};function w(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function E(P,T){this.g=P,this.h=T}function k(P,T){if(y(T))throw Error("division by zero");if(y(P))return new E(d,d);if(I(P))return T=k(S(P),T),new E(S(T.g),S(T.h));if(I(T))return T=k(P,S(T)),new E(S(T.g),T.h);if(30<P.g.length){if(I(P)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=T;0>=R.l(P);)C=O(C),R=O(R);var b=N(C,1),D=N(R,1);for(R=N(R,2),C=N(C,2);!y(R);){var x=D.add(R);0>=x.l(P)&&(b=b.add(C),D=x),R=N(R,1),C=N(C,1)}return T=_(P,b.j(T)),new E(b,T)}for(b=d;0<=P.l(T);){for(C=Math.max(1,Math.floor(P.m()/T.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(C),x=D.j(T);I(x)||0<x.l(P);)C-=R,D=u(C),x=D.j(T);y(D)&&(D=h),b=b.add(D),P=_(P,x)}return new E(b,P)}t.A=function(P){return k(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)&P.i(R);return new o(C,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)|P.i(R);return new o(C,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],R=0;R<T;R++)C[R]=this.i(R)^P.i(R);return new o(C,this.h^P.h)};function O(P){for(var T=P.g.length+1,C=[],R=0;R<T;R++)C[R]=P.i(R)<<1|P.i(R-1)>>>31;return new o(C,P.h)}function N(P,T){var C=T>>5;T%=32;for(var R=P.g.length-C,b=[],D=0;D<R;D++)b[D]=0<T?P.i(D+C)>>>T|P.i(D+C+1)<<32-T:P.i(D+C);return new o(b,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,ci=o}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $R,Ba,UR,Yc,wg,BR,jR,zR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,g){return c==Array.prototype||c==Object.prototype||(c[p]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in g))break e;g=g[V]}c=c[c.length-1],A=g[c],p=p(A),p!=A&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var g=0,A=!1,V={next:function(){if(!A&&g<c.length){var M=g++;return{value:p(M,c[M]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function f(c,p,g){return c.call.apply(c.bind,arguments)}function d(c,p,g){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),c.apply(p,V)}}return function(){return c.apply(p,arguments)}}function h(c,p,g){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,h.apply(null,arguments)}function m(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function y(c,p){function g(){}g.prototype=p.prototype,c.aa=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(A,V,M){for(var j=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)j[ye-2]=arguments[ye];return p.prototype[V].apply(A,j)}}function I(c){const p=c.length;if(0<p){const g=Array(p);for(let A=0;A<p;A++)g[A]=c[A];return g}return[]}function S(c,p){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(l(A)){const V=c.length||0,M=A.length||0;c.length=V+M;for(let j=0;j<M;j++)c[V+j]=A[j]}else c.push(A)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function N(c,p,g){for(const A in c)p.call(g,c[A],A,c)}function P(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function T(c){const p={};for(const g in c)p[g]=c[g];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let g,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(g in A)c[g]=A[g];for(let M=0;M<C.length;M++)g=C[M],Object.prototype.hasOwnProperty.call(A,g)&&(c[g]=A[g])}}function b(c){var p=1;c=c.split(":");const g=[];for(;0<p&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function D(c){a.setTimeout(()=>{throw c},0)}function x(){var c=L;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class re{constructor(){this.h=this.g=null}add(p,g){const A=Ee.get();A.set(p,g),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new _(()=>new he,c=>c.reset());class he{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,F=!1,L=new re,z=()=>{const c=a.Promise.resolve(void 0);ee=()=>{c.then(X)}};var X=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(g){D(g)}var p=Ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}F=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return c}();function At(c,p){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{k(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}y(At,se);var mn={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ft="closure_listenable_"+(1e6*Math.random()|0),ks=0;function Mi(c,p,g,A,V){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!A,this.ha=V,this.key=++ks,this.da=this.fa=!1}function Ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vu(c){this.src=c,this.g={},this.h=0}Vu.prototype.add=function(c,p,g,A,V){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var j=ph(c,p,A,V);return-1<j?(p=c[j],g||(p.fa=!1)):(p=new Mi(p,this.src,M,!!A,V),p.fa=g,c.push(p)),p};function hh(c,p){var g=p.type;if(g in c.g){var A=c.g[g],V=Array.prototype.indexOf.call(A,p,void 0),M;(M=0<=V)&&Array.prototype.splice.call(A,V,1),M&&(Ou(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function ph(c,p,g,A){for(var V=0;V<c.length;++V){var M=c[V];if(!M.da&&M.listener==p&&M.capture==!!g&&M.ha==A)return V}return-1}var mh="closure_lm_"+(1e6*Math.random()|0),gh={};function J0(c,p,g,A,V){if(A&&A.once)return e_(c,p,g,A,V);if(Array.isArray(p)){for(var M=0;M<p.length;M++)J0(c,p[M],g,A,V);return null}return g=wh(g),c&&c[Ft]?c.K(p,g,u(A)?!!A.capture:!!A,V):Z0(c,p,g,!1,A,V)}function Z0(c,p,g,A,V,M){if(!p)throw Error("Invalid event type");var j=u(V)?!!V.capture:!!V,ye=vh(c);if(ye||(c[mh]=ye=new Vu(c)),g=ye.add(p,g,A,j,M),g.proxy)return g;if(A=jk(),g.proxy=A,A.src=c,A.listener=g,c.addEventListener)pn||(V=j),V===void 0&&(V=!1),c.addEventListener(p.toString(),A,V);else if(c.attachEvent)c.attachEvent(n_(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function jk(){function c(g){return p.call(c.src,c.listener,g)}const p=zk;return c}function e_(c,p,g,A,V){if(Array.isArray(p)){for(var M=0;M<p.length;M++)e_(c,p[M],g,A,V);return null}return g=wh(g),c&&c[Ft]?c.L(p,g,u(A)?!!A.capture:!!A,V):Z0(c,p,g,!0,A,V)}function t_(c,p,g,A,V){if(Array.isArray(p))for(var M=0;M<p.length;M++)t_(c,p[M],g,A,V);else A=u(A)?!!A.capture:!!A,g=wh(g),c&&c[Ft]?(c=c.i,p=String(p).toString(),p in c.g&&(M=c.g[p],g=ph(M,g,A,V),-1<g&&(Ou(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete c.g[p],c.h--)))):c&&(c=vh(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ph(p,g,A,V)),(g=-1<c?p[c]:null)&&yh(g))}function yh(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ft])hh(p.i,c);else{var g=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(g,A,c.capture):p.detachEvent?p.detachEvent(n_(g),A):p.addListener&&p.removeListener&&p.removeListener(A),(g=vh(p))?(hh(g,c),g.h==0&&(g.src=null,p[mh]=null)):Ou(c)}}}function n_(c){return c in gh?gh[c]:gh[c]="on"+c}function zk(c,p){if(c.da)c=!0;else{p=new At(p,this);var g=c.listener,A=c.ha||c.src;c.fa&&yh(c),c=g.call(A,p)}return c}function vh(c){return c=c[mh],c instanceof Vu?c:null}var _h="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(c){return typeof c=="function"?c:(c[_h]||(c[_h]=function(p){return c.handleEvent(p)}),c[_h])}function ct(){ie.call(this),this.i=new Vu(this),this.M=this,this.F=null}y(ct,ie),ct.prototype[Ft]=!0,ct.prototype.removeEventListener=function(c,p,g,A){t_(this,c,p,g,A)};function Pt(c,p){var g,A=c.F;if(A)for(g=[];A;A=A.F)g.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new se(p,c);else if(p instanceof se)p.target=p.target||c;else{var V=p;p=new se(A,c),R(p,V)}if(V=!0,g)for(var M=g.length-1;0<=M;M--){var j=p.g=g[M];V=Nu(j,A,!0,p)&&V}if(j=p.g=c,V=Nu(j,A,!0,p)&&V,V=Nu(j,A,!1,p)&&V,g)for(M=0;M<g.length;M++)j=p.g=g[M],V=Nu(j,A,!1,p)&&V}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var g=c.g[p],A=0;A<g.length;A++)Ou(g[A]);delete c.g[p],c.h--}}this.F=null},ct.prototype.K=function(c,p,g,A){return this.i.add(String(c),p,!1,g,A)},ct.prototype.L=function(c,p,g,A){return this.i.add(String(c),p,!0,g,A)};function Nu(c,p,g,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,M=0;M<p.length;++M){var j=p[M];if(j&&!j.da&&j.capture==g){var ye=j.listener,nt=j.ha||j.src;j.fa&&hh(c.i,j),V=ye.call(nt,A)!==!1&&V}}return V&&!A.defaultPrevented}function r_(c,p,g){if(typeof c=="function")g&&(c=h(c,g));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function i_(c){c.g=r_(()=>{c.g=null,c.i&&(c.i=!1,i_(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Hk extends ie{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:i_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){ie.call(this),this.h=c,this.g={}}y(ua,ie);var s_=[];function o_(c){N(c.g,function(p,g){this.g.hasOwnProperty(g)&&yh(p)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),o_(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=a.JSON.stringify,Wk=a.JSON.parse,Kk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Th(){}Th.prototype.h=null;function a_(c){return c.h||(c.h=c.i())}function l_(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ih(){se.call(this,"d")}y(Ih,se);function Sh(){se.call(this,"c")}y(Sh,se);var Li={},u_=null;function Mu(){return u_=u_||new ct}Li.La="serverreachability";function c_(c){se.call(this,Li.La,c)}y(c_,se);function fa(c){const p=Mu();Pt(p,new c_(p))}Li.STAT_EVENT="statevent";function f_(c,p){se.call(this,Li.STAT_EVENT,c),this.stat=p}y(f_,se);function Ct(c){const p=Mu();Pt(p,new f_(p,c))}Li.Ma="timingevent";function d_(c,p){se.call(this,Li.Ma,c),this.size=p}y(d_,se);function da(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ha(){this.g=!0}ha.prototype.xa=function(){this.g=!1};function Gk(c,p,g,A,V,M){c.info(function(){if(c.g)if(M)for(var j="",ye=M.split("&"),nt=0;nt<ye.length;nt++){var de=ye[nt].split("=");if(1<de.length){var ft=de[0];de=de[1];var dt=ft.split("_");j=2<=dt.length&&dt[1]=="type"?j+(ft+"="+de+"&"):j+(ft+"=redacted&")}}else j=null;else j=M;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+p+`
`+g+`
`+j})}function qk(c,p,g,A,V,M,j){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+p+`
`+g+`
`+M+" "+j})}function Ds(c,p,g,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Yk(c,g)+(A?" "+A:"")})}function Qk(c,p){c.info(function(){return"TIMEOUT: "+p})}ha.prototype.info=function(){};function Yk(c,p){if(!c.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var A=g[c];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var M=V[0];if(M!="noop"&&M!="stop"&&M!="close")for(var j=1;j<V.length;j++)V[j]=""}}}}return Eh(g)}catch{return p}}var Lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},h_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ah;function Fu(){}y(Fu,Th),Fu.prototype.g=function(){return new XMLHttpRequest},Fu.prototype.i=function(){return{}},Ah=new Fu;function xr(c,p,g,A){this.j=c,this.i=p,this.l=g,this.R=A||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p_}function p_(){this.i=null,this.g="",this.h=!1}var m_={},Ph={};function Ch(c,p,g){c.L=1,c.v=ju(nr(p)),c.m=g,c.P=!0,g_(c,null)}function g_(c,p){c.F=Date.now(),$u(c),c.A=nr(c.v);var g=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),b_(g.i,"t",A),c.C=0,g=c.j.J,c.h=new p_,c.g=q_(c.j,g?p:null,!c.m),0<c.O&&(c.M=new Hk(h(c.Y,c,c.g),c.O)),p=c.U,g=c.g,A=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(s_[0]=V.toString()),V=s_);for(var M=0;M<V.length;M++){var j=J0(g,V[M],A||p.handleEvent,!1,p.h||p);if(!j)break;p.g[j.key]=j}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),fa(),Gk(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;const p=this.M;p&&rr(c)==3?p.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{const dt=rr(this.g);var p=this.g.Ba();const Ns=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||L_(this.g)))){this.J||dt!=4||p==7||(p==8||0>=Ns?fa(3):fa(2)),Rh(this);var g=this.g.Z();this.X=g;t:if(y_(this)){var A=L_(this.g);c="";var V=A.length,M=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),pa(this);var j="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(M&&p==V-1)});A.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=g==200,qk(this.i,this.u,this.A,this.l,this.R,dt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,nt=this.g;if((ye=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ye)){var de=ye;break t}}de=null}if(g=de)Ds(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xh(this,g);else{this.o=!1,this.s=3,Ct(12),Fi(this),pa(this);break e}}if(this.P){g=!0;let gn;for(;!this.J&&this.C<j.length;)if(gn=Xk(this,j),gn==Ph){dt==4&&(this.s=4,Ct(14),g=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==m_){this.s=4,Ct(15),Ds(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else Ds(this.i,this.l,gn,null),xh(this,gn);if(y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||j.length!=0||this.h.h||(this.s=1,Ct(16),g=!1),this.o=this.o&&g,!g)Ds(this.i,this.l,j,"[Invalid Chunked Response]"),Fi(this),pa(this);else if(0<j.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Nh(ft),ft.M=!0,Ct(11))}}else Ds(this.i,this.l,j,null),xh(this,j);dt==4&&Fi(this),this.o&&!this.J&&(dt==4?H_(this.j,this):(this.o=!1,$u(this)))}else pD(this.g),g==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Fi(this),pa(this)}}}catch{}finally{}};function y_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xk(c,p){var g=c.C,A=p.indexOf(`
`,g);return A==-1?Ph:(g=Number(p.substring(g,A)),isNaN(g)?m_:(A+=1,A+g>p.length?Ph:(p=p.slice(A,A+g),c.C=A+g,p)))}xr.prototype.cancel=function(){this.J=!0,Fi(this)};function $u(c){c.S=Date.now()+c.I,v_(c,c.I)}function v_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=da(h(c.ba,c),p)}function Rh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qk(this.i,this.A),this.L!=2&&(fa(),Ct(17)),Fi(this),this.s=2,pa(this)):v_(this,this.S-c)};function pa(c){c.j.G==0||c.J||H_(c.j,c)}function Fi(c){Rh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,o_(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function xh(c,p){try{var g=c.j;if(g.G!=0&&(g.g==c||bh(g.h,c))){if(!c.K&&bh(g.h,c)&&g.G==3){try{var A=g.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)qu(g),Ku(g);else break e;Vh(g),Ct(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=da(h(g.Za,g),6e3));if(1>=E_(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ui(g,11)}else if((c.K||g.g==c)&&qu(g),!w(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let de=V[p];if(g.T=de[0],de=de[1],g.G==2)if(de[0]=="c"){g.K=de[1],g.ia=de[2];const ft=de[3];ft!=null&&(g.la=ft,g.j.info("VER="+g.la));const dt=de[4];dt!=null&&(g.Aa=dt,g.j.info("SVER="+g.Aa));const Ns=de[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(A=1.5*Ns,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const gn=c.g;if(gn){const Yu=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var M=A.h;M.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(kh(M,M.h),M.h=null))}if(A.D){const Mh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(A.ya=Mh,Te(A.I,A.D,Mh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var j=c;if(A.qa=G_(A,A.J?A.ia:null,A.W),j.K){T_(A.h,j);var ye=j,nt=A.L;nt&&(ye.I=nt),ye.B&&(Rh(ye),$u(ye)),A.g=j}else j_(A);0<g.i.length&&Gu(g)}else de[0]!="stop"&&de[0]!="close"||Ui(g,7);else g.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Ui(g,7):Oh(g):de[0]!="noop"&&g.l&&g.l.ta(de),g.v=0)}}fa(4)}catch{}}var Jk=class{constructor(c,p){this.g=c,this.map=p}};function __(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function E_(c){return c.h?1:c.g?c.g.size:0}function bh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function kh(c,p){c.g?c.g.add(p):c.h=p}function T_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}__.prototype.cancel=function(){if(this.i=I_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function I_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.D);return p}return I(c.i)}function Zk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],g=c.length,A=0;A<g;A++)p.push(c[A]);return p}p=[],g=0;for(A in c)p[g++]=c[A];return p}function eD(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var g=0;g<c;g++)p.push(g);return p}p=[],g=0;for(const A in c)p[g++]=A;return p}}}function S_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var g=eD(c),A=Zk(c),V=A.length,M=0;M<V;M++)p.call(void 0,A[M],g&&g[M],c)}var A_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tD(c,p){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var A=c[g].indexOf("="),V=null;if(0<=A){var M=c[g].substring(0,A);V=c[g].substring(A+1)}else M=c[g];p(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,Uu(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var p=c.i,g=new ya;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),P_(this,g),this.m=c.m}else c&&(p=String(c).match(A_))?(this.h=!1,Uu(this,p[1]||"",!0),this.o=ma(p[2]||""),this.g=ma(p[3]||"",!0),Bu(this,p[4]),this.l=ma(p[5]||"",!0),P_(this,p[6]||"",!0),this.m=ma(p[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}$i.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ga(p,C_,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ga(p,C_,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ga(g,g.charAt(0)=="/"?iD:rD,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ga(g,oD)),c.join("")};function nr(c){return new $i(c)}function Uu(c,p,g){c.j=g?ma(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function P_(c,p,g){p instanceof ya?(c.i=p,aD(c.i,c.h)):(g||(p=ga(p,sD)),c.i=new ya(p,c.h))}function Te(c,p,g){c.i.set(p,g)}function ju(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ma(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,nD),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nD(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var C_=/[#\/\?@]/g,rD=/[#\?:]/g,iD=/[#\?]/g,sD=/[#\?@]/g,oD=/#/g;function ya(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&tD(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=ya.prototype,t.add=function(c,p){br(this),this.i=null,c=Os(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function R_(c,p){br(c),p=Os(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function x_(c,p){return br(c),p=Os(c,p),c.g.has(p)}t.forEach=function(c,p){br(this),this.g.forEach(function(g,A){g.forEach(function(V){c.call(p,V,A,this)},this)},this)},t.na=function(){br(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let A=0;A<p.length;A++){const V=c[A];for(let M=0;M<V.length;M++)g.push(p[A])}return g},t.V=function(c){br(this);let p=[];if(typeof c=="string")x_(this,c)&&(p=p.concat(this.g.get(Os(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)p=p.concat(c[g])}return p},t.set=function(c,p){return br(this),this.i=null,c=Os(this,c),x_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function b_(c,p,g){R_(c,p),0<g.length&&(c.i=null,c.g.set(Os(c,p),I(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var A=p[g];const M=encodeURIComponent(String(A)),j=this.V(A);for(A=0;A<j.length;A++){var V=M;j[A]!==""&&(V+="="+encodeURIComponent(String(j[A]))),c.push(V)}}return this.i=c.join("&")};function Os(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function aD(c,p){p&&!c.j&&(br(c),c.i=null,c.g.forEach(function(g,A){var V=A.toLowerCase();A!=V&&(R_(this,A),b_(this,V,g))},c)),c.j=p}function lD(c,p){const g=new ha;if(a.Image){const A=new Image;A.onload=m(kr,g,"TestLoadImage: loaded",!0,p,A),A.onerror=m(kr,g,"TestLoadImage: error",!1,p,A),A.onabort=m(kr,g,"TestLoadImage: abort",!1,p,A),A.ontimeout=m(kr,g,"TestLoadImage: timeout",!1,p,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function uD(c,p){const g=new ha,A=new AbortController,V=setTimeout(()=>{A.abort(),kr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(M=>{clearTimeout(V),M.ok?kr(g,"TestPingServer: ok",!0,p):kr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),kr(g,"TestPingServer: error",!1,p)})}function kr(c,p,g,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(g)}catch{}}function cD(){this.g=new Kk}function fD(c,p,g){const A=g||"";try{S_(c,function(V,M){let j=V;u(V)&&(j=Eh(V)),p.push(A+M+"="+encodeURIComponent(j))})}catch(V){throw p.push(A+"type="+encodeURIComponent("_badmap")),V}}function zu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(zu,Th),zu.prototype.g=function(){return new Hu(this.l,this.j)},zu.prototype.i=function(c){return function(){return c}}({});function Hu(c,p){ct.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Hu,ct),t=Hu.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,_a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;k_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function k_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?va(this):_a(this),this.readyState==3&&k_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,va(this))},t.Qa=function(c){this.g&&(this.response=c,va(this))},t.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,_a(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function _a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function D_(c){let p="";return N(c,function(g,A){p+=A,p+=":",p+=g,p+=`\r
`}),p}function Dh(c,p,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=D_(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Te(c,p,g))}function Oe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Oe,ct);var dD=/^https?$/i,hD=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ah.g(),this.v=this.o?a_(this.o):a_(Ah),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(M){O_(this,M);return}if(c=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)g.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const M of A.keys())g.set(M,A.get(M));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hD,p,void 0))||A||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,j]of g)this.g.setRequestHeader(M,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M_(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){O_(this,M)}};function O_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,V_(c),Wu(c)}function V_(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wu(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?N_(this):this.bb())},t.bb=function(){N_(this)};function N_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)r_(c.Ea,0,c);else if(Pt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var A;if(A=j===0){var V=String(c.D).match(A_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),A=!dD.test(V?V.toLowerCase():"")}g=A}if(g)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var M=2<rr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",V_(c)}}finally{Wu(c)}}}}function Wu(c,p){if(c.g){M_(c);const g=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Pt(c,"ready");try{g.onreadystatechange=A}catch{}}}function M_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Wk(p)}};function L_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pD(c){const p={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var g=b(c[A]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=p[V]||[];p[V]=M,M.push(g)}P(p,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function F_(c){this.Aa=0,this.i=[],this.j=new ha,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,c),this.cb=wa("retryDelaySeedMs",1e4,c),this.Wa=wa("forwardChannelMaxRetries",2,c),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new __(c&&c.concurrentRequestLimit),this.Da=new cD,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=F_.prototype,t.la=8,t.G=1,t.connect=function(c,p,g,A){Ct(0),this.W=c,this.H=p||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=G_(this,null,this.W),Gu(this)};function Oh(c){if($_(c),c.G==3){var p=c.U++,g=nr(c.I);if(Te(g,"SID",c.K),Te(g,"RID",p),Te(g,"TYPE","terminate"),Ea(c,g),p=new xr(c,c.j,p),p.L=2,p.v=ju(nr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=q_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$u(p)}K_(c)}function Ku(c){c.g&&(Nh(c),c.g.cancel(),c.g=null)}function $_(c){Ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),qu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!w_(c.h)&&!c.s){c.s=!0;var p=c.Ga;ee||z(),F||(ee(),F=!0),L.add(p,c),c.B=0}}function mD(c,p){return E_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=da(h(c.Ga,c,p),W_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new xr(this,this.j,c);let M=this.o;if(this.S&&(M?(M=T(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(V.H=M,M=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=B_(this,V,p),g=nr(this.I),Te(g,"RID",c),Te(g,"CVER",22),this.D&&Te(g,"X-HTTP-Session-Id",this.D),Ea(this,g),M&&(this.O?p="headers="+encodeURIComponent(String(D_(M)))+"&"+p:this.m&&Dh(g,this.m,M)),kh(this.h,V),this.Ua&&Te(g,"TYPE","init"),this.P?(Te(g,"$req",p),Te(g,"SID","null"),V.T=!0,Ch(V,g,null)):Ch(V,g,p),this.G=2}}else this.G==3&&(c?U_(this,c):this.i.length==0||w_(this.h)||U_(this))};function U_(c,p){var g;p?g=p.l:g=c.U++;const A=nr(c.I);Te(A,"SID",c.K),Te(A,"RID",g),Te(A,"AID",c.T),Ea(c,A),c.m&&c.o&&Dh(A,c.m,c.o),g=new xr(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),p&&(c.i=p.D.concat(c.i)),p=B_(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),kh(c.h,g),Ch(g,A,p)}function Ea(c,p){c.H&&N(c.H,function(g,A){Te(p,A,g)}),c.l&&S_({},function(g,A){Te(p,A,g)})}function B_(c,p,g){g=Math.min(c.i.length,g);var A=c.l?h(c.l.Na,c.l,c):null;e:{var V=c.i;let M=-1;for(;;){const j=["count="+g];M==-1?0<g?(M=V[0].g,j.push("ofs="+M)):M=0:j.push("ofs="+M);let ye=!0;for(let nt=0;nt<g;nt++){let de=V[nt].g;const ft=V[nt].map;if(de-=M,0>de)M=Math.max(0,V[nt].g-100),ye=!1;else try{fD(ft,j,"req"+de+"_")}catch{A&&A(ft)}}if(ye){A=j.join("&");break e}}}return c=c.i.splice(0,g),p.D=c,A}function j_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ee||z(),F||(ee(),F=!0),L.add(p,c),c.v=0}}function Vh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=da(h(c.Fa,c),W_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=da(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Ku(this),z_(this))};function Nh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function z_(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=nr(c.qa);Te(p,"RID","rpc"),Te(p,"SID",c.K),Te(p,"AID",c.T),Te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(p,"TO",c.ja),Te(p,"TYPE","xmlhttp"),Ea(c,p),c.m&&c.o&&Dh(p,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=ju(nr(p)),g.m=null,g.P=!0,g_(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),Vh(this),Ct(19))};function qu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function H_(c,p){var g=null;if(c.g==p){qu(c),Nh(c),c.g=null;var A=2}else if(bh(c.h,p))g=p.D,T_(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=c.B;A=Mu(),Pt(A,new d_(A,g)),Gu(c)}else j_(c);else if(V=p.s,V==3||V==0&&0<p.X||!(A==1&&mD(c,p)||A==2&&Vh(c)))switch(g&&0<g.length&&(p=c.h,p.i=p.i.concat(g)),V){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function W_(c,p){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*p}function Ui(c,p){if(c.j.info("Error code "+p),p==2){var g=h(c.fb,c),A=c.Xa;const V=!A;A=new $i(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uu(A,"https"),ju(A),V?lD(A.toString(),g):uD(A.toString(),g)}else Ct(2);c.G=0,c.l&&c.l.sa(p),K_(c),$_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function K_(c){if(c.G=0,c.ka=[],c.l){const p=I_(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function G_(c,p,g){var A=g instanceof $i?nr(g):new $i(g);if(A.g!="")p&&(A.g=p+"."+A.g),Bu(A,A.s);else{var V=a.location;A=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var M=new $i(null);A&&Uu(M,A),p&&(M.g=p),V&&Bu(M,V),g&&(M.l=g),A=M}return g=c.D,p=c.ya,g&&p&&Te(A,g,p),Te(A,"VER",c.la),Ea(c,A),A}function q_(c,p,g){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Oe(new zu({eb:g})):new Oe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q_(){}t=Q_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,p){return new Qt(c,p)};function Qt(c,p){ct.call(this),this.g=new F_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Vs(this)}y(Qt,ct),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Oh(this.g)},Qt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Eh(c),c=g);p.i.push(new Jk(p.Ya++,c)),p.G==3&&Gu(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Qt.aa.N.call(this)};function Y_(c){Ih.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(Y_,Ih);function X_(){Sh.call(this),this.status=1}y(X_,Sh);function Vs(c){this.g=c}y(Vs,Q_),Vs.prototype.ua=function(){Pt(this.g,"a")},Vs.prototype.ta=function(c){Pt(this.g,new Y_(c))},Vs.prototype.sa=function(c){Pt(this.g,new X_)},Vs.prototype.ra=function(){Pt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,zR=function(){return new Qu},jR=function(){return Mu()},BR=Li,wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Yc=Lu,h_.COMPLETE="complete",UR=h_,l_.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ba=l_,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,$R=Oe}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const u1="@firebase/firestore",c1="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Nv("@firebase/firestore");function Ls(){return gs.logLevel}function W(t,...e){if(gs.logLevel<=ae.DEBUG){const n=e.map(Gv);gs.debug(`Firestore (${Jo}): ${t}`,...n)}}function Ar(t,...e){if(gs.logLevel<=ae.ERROR){const n=e.map(Gv);gs.error(`Firestore (${Jo}): ${t}`,...n)}}function bo(t,...e){if(gs.logLevel<=ae.WARN){const n=e.map(Gv);gs.warn(`Firestore (${Jo}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,HR(t,r,n)}function HR(t,e,n){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||HR(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class OB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VB{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new WR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class NB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pe(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Eg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{const s=KR(),o=$B(s.encode(d1(t,n)),s.encode(d1(e,n)));return o!==0?o:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function d1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function $B(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=-62135596800,p1=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p1);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h1)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p1}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Qe(0,0))}static max(){return new te(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),i=Mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Eg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class Se extends Mn{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const UB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Mn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return UB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m1}static keyField(){return new ot([m1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new H($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function BB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new mi(i,G.empty(),e)}function jB(t){return new mi(t.readTime,t.key,Kl)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(te.min(),G.empty(),Kl)}static max(){return new mi(te.max(),G.empty(),Kl)}}function zB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==HB)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function KB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Nd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-1;function Md(t){return t==null}function Wf(t){return t===0&&1/t==-1/0}function GB(t){return typeof t=="number"&&Number.isInteger(t)&&!Wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="";function qB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g1(e)),e=QB(t.get(n),e);return g1(e)}function QB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case qR:n+="";break;default:n+=s}}return n}function g1(t){return t+qR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??it.RED,this.left=i??it.EMPTY,this.right=s??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new it(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return it.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new Ye(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YR("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const YB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(pe(!!t,39018),typeof t=="string"){let e=0;const n=YB.exec(t);if(pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="server_timestamp",JR="__type__",ZR="__previous_value__",ex="__local_write_time__";function Qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JR])===null||n===void 0?void 0:n.stringValue)===XR}function Ld(t){const e=t.mapValue.fields[ZR];return Qv(e)?Ld(e):e}function Gl(t){const e=gi(t.mapValue.fields[ex].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Kf="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="__type__",nx="__max__",Ec={mapValue:{fields:{__type__:{stringValue:nx}}}},rx="__vector__",Gf="value";function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:ZB(t)?9007199254740991:JB(t)?10:11:Y(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yi(i.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?Wf(o)===Wf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(y1(o)!==y1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Ql(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),l=Fe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _1(t.timestampValue,e.timestampValue);case 4:return _1(Gl(t),Gl(e));case 5:return Eg(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yi(s),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=oe(a[u],l[u]);if(f!==0)return f}return oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Fe(s.latitude),Fe(o.latitude));return a!==0?a:oe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,f;const d=s.fields||{},h=o.fields||{},m=(a=d[Gf])===null||a===void 0?void 0:a.arrayValue,y=(l=h[Gf])===null||l===void 0?void 0:l.arrayValue,I=oe(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:w1(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ec.mapValue&&o===Ec.mapValue)return 0;if(s===Ec.mapValue)return 1;if(o===Ec.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const h=Eg(l[d],f[d]);if(h!==0)return h;const m=Do(a[l[d]],u[f[d]]);if(m!==0)return m}return oe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function _1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=gi(t),r=gi(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function w1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Do(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Oo(t){return Tg(t)}function Tg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tg(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function Xc(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+Xc(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Di(r.fields,(s,o)=>{i+=s.length+Xc(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function E1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ig(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function T1(t){return!!t&&"nullValue"in t}function I1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function JB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tx])===null||n===void 0?void 0:n.stringValue)===rx}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(dl(this.value))}}function ix(t){const e=[];return Di(t.fields,(n,r)=>{const i=new ot([n]);if(Jc(r)){const s=ix(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,te.min(),te.min(),te.min(),jt.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,te.min(),te.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,te.min(),te.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function S1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Do(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function A1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function e6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class We extends sx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n6(e,n,r):n==="array-contains"?new s6(e,r):n==="in"?new o6(e,r):n==="not-in"?new a6(e,r):n==="array-contains-any"?new l6(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r6(e,r):new i6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends sx{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new kn(e,n)}matches(e){return ox(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ox(t){return t.op==="and"}function ax(t){return t6(t)&&ox(t)}function t6(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Sg(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(ax(t))return t.filters.map(e=>Sg(e)).join(",");{const e=t.filters.map(n=>Sg(n)).join(",");return`${t.op}(${e})`}}function lx(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lx(o,i.filters[a]),!0):!1}(t,e):void Y(19439)}function ux(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ux).join(" ,")+"}"}(t):"Filter"}class n6 extends We{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class r6 extends We{constructor(e,n){super(e,"in",n),this.keys=cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i6 extends We{constructor(e,n){super(e,"not-in",n),this.keys=cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class s6 extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&Ql(n.arrayValue,this.value)}}class o6 extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class a6 extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class l6 extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function P1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u6(t,e,n,r,i,s,o)}function Xv(t){const e=ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.Ie=n}return e.Ie}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A1(t.startAt,e.startAt)&&A1(t.endAt,e.endAt)}function Ag(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c6(t,e,n,r,i,s,o,a){return new ta(t,e,n,r,i,s,o,a)}function Fd(t){return new ta(t)}function C1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fx(t){return t.collectionGroup!==null}function hl(t){const e=ne(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Yl(s,r))}),n.has(ot.keyField().canonicalString())||e.Ee.push(new Yl(ot.keyField(),r))}return e.Ee}function Wn(t){const e=ne(t);return e.de||(e.de=f6(e,hl(t))),e.de}function f6(t,e){if(t.limitType==="F")return P1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yl(i.field,s)});const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return P1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cg(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Jv(Wn(t),Wn(e))&&t.limitType===e.limitType}function dx(t){return`${Xv(Wn(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ux(i)).join(", ")}]`),Md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of hl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=S1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,hl(r),i)||r.endAt&&!function(o,a,l){const u=S1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,hl(r),i))}(t,e)}function d6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hx(t){return(e,n)=>{let r=!1;for(const i of hl(t)){const s=h6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h6(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Do(l,u):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return QR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new De(G.comparator);function Pr(){return p6}const px=new De(G.comparator);function ja(...t){let e=px;for(const n of t)e=e.insert(n.key,n);return e}function mx(t){let e=px;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function es(){return pl()}function gx(){return pl()}function pl(){return new Ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const m6=new De(G.comparator),g6=new Ye(G.comparator);function le(...t){let e=g6;for(const n of t)e=e.add(n);return e}const y6=new Ye(oe);function v6(){return y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wf(e)?"-0":e}}function yx(t){return{integerValue:""+t}}function _6(t,e){return GB(e)?yx(e):Zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function w6(t,e,n){return t instanceof Xl?function(i,s){const o={fields:{[JR]:{stringValue:XR},[ex]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qv(s)&&(s=Ld(s)),s&&(o.fields[ZR]=s),{mapValue:o}}(n,e):t instanceof Vo?_x(t,e):t instanceof No?wx(t,e):function(i,s){const o=vx(i,s),a=R1(o)+R1(i.Re);return Ig(o)&&Ig(i.Re)?yx(a):Zv(i.serializer,a)}(t,e)}function E6(t,e,n){return t instanceof Vo?_x(t,e):t instanceof No?wx(t,e):n}function vx(t,e){return t instanceof Qf?function(r){return Ig(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xl extends Bd{}class Vo extends Bd{constructor(e){super(),this.elements=e}}function _x(t,e){const n=Ex(e);for(const r of t.elements)n.some(i=>Xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class No extends Bd{constructor(e){super(),this.elements=e}}function wx(t,e){let n=Ex(e);for(const r of t.elements)n=n.filter(i=>!Xn(i,r));return{arrayValue:{values:n}}}class Qf extends Bd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function R1(t){return Fe(t.integerValue||t.doubleValue)}function Ex(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.field=e,this.transform=n}}function T6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vo&&i instanceof Vo||r instanceof No&&i instanceof No?ko(r.elements,i.elements,Xn):r instanceof Qf&&i instanceof Qf?Xn(r.Re,i.Re):r instanceof Xl&&i instanceof Xl}(t.transform,e.transform)}class I6{constructor(e,n){this.version=e,this.transformResults=n}}class Ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ot}static exists(e){return new Ot(void 0,e)}static updateTime(e){return new Ot(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jd{}function Tx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zd(t.key,Ot.none()):new vu(t.key,t.data,Ot.none());{const n=t.data,r=jt.empty();let i=new Ye(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oi(t.key,r,new Jt(i.toArray()),Ot.none())}}function S6(t,e,n){t instanceof vu?function(i,s,o){const a=i.value.clone(),l=b1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(i,s,o){if(!Zc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=b1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ix(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,r){return t instanceof vu?function(s,o,a,l){if(!Zc(s.precondition,o))return a;const u=s.value.clone(),f=k1(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(s,o,a,l){if(!Zc(s.precondition,o))return a;const u=k1(s.fieldTransforms,l,o),f=o.data;return f.setAll(Ix(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Zc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function A6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=vx(r.transform,i||null);s!=null&&(n===null&&(n=jt.empty()),n.set(r.field,s))}return n||null}function x1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,o)=>T6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vu extends jd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oi extends jd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function b1(t,e,n){const r=new Map;pe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,E6(o,a,n[i]))}return r}function k1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,w6(s,o,e))}return r}class zd extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P6 extends jd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&S6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Tx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>x1(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>x1(n,r))}}class t0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return m6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ce;function b6(t){switch(t){case $.OK:return Y(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function Sx(t){if(t===void 0)return Ar("GRPC error has no .code"),$.UNKNOWN;switch(t){case ze.OK:return $.OK;case ze.CANCELLED:return $.CANCELLED;case ze.UNKNOWN:return $.UNKNOWN;case ze.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ze.INTERNAL:return $.INTERNAL;case ze.UNAVAILABLE:return $.UNAVAILABLE;case ze.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ze.NOT_FOUND:return $.NOT_FOUND;case ze.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ze.ABORTED:return $.ABORTED;case ze.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ze.DATA_LOSS:return $.DATA_LOSS;default:return Y(39323,{code:t})}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new ci([4294967295,4294967295],0);function D1(t){const e=KR().encode(t),n=new FR;return n.update(e),new Uint8Array(n.digest())}function O1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ci([n,r],0),new ci([i,s],0)]}class n0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ci.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ci.fromNumber(r)));return i.compare(k6)===1&&(i=new ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=D1(e),[r,i]=O1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=D1(e),[r,i]=O1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(te.min(),i,new De(oe),Pr(),le())}}class _u{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _u(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class Ax{constructor(e,n){this.targetId=e,this.Ce=n}}class Px{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V1{constructor(){this.Fe=0,this.Me=N1(),this.xe=ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=le(),n=le(),r=le();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new _u(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=N1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class D6{constructor(e){this.ze=e,this.je=new Map,this.He=Pr(),this.Je=Tc(),this.Ye=Tc(),this.Ze=new De(oe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Ag(s))if(r===0){const o=new G(s.path);this.tt(n,o,_t.newNoDocument(o,te.min()))}else pe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof YR)return bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n0(o,i,s)}catch(l){return bo(l instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Ag(a.target)){const l=new G(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,_t.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=le();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Hd(e,n,this.Ze,this.He,r);return this.He=Pr(),this.Je=Tc(),this.Ye=Tc(),this.Ze=new De(oe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new V1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ye(oe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ye(oe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new V1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Tc(){return new De(G.comparator)}function N1(){return new De(G.comparator)}const O6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),V6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),N6=(()=>({and:"AND",or:"OR"}))();class M6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rg(t,e){return t.useProto3Json||Md(e)?e:{value:e}}function Yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L6(t,e){return Yf(t,e.toTimestamp())}function Kn(t){return pe(!!t,49232),te.fromTimestamp(function(n){const r=gi(n);return new Qe(r.seconds,r.nanos)}(t))}function r0(t,e){return xg(t,e).canonicalString()}function xg(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rx(t){const e=Se.fromString(t);return pe(Ox(e),10190,{key:e.toString()}),e}function bg(t,e){return r0(t.databaseId,e.path)}function kp(t,e){const n=Rx(e);if(n.get(1)!==t.databaseId.projectId)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(bx(n))}function xx(t,e){return r0(t.databaseId,e)}function F6(t){const e=Rx(t);return e.length===4?Se.emptyPath():bx(e)}function kg(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bx(t){return pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function M1(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function $6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(pe(f===void 0||typeof f=="string",58123),ut.fromBase64String(f||"")):(pe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ut.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?$.UNKNOWN:Sx(u.code);return new H(f,u.message||"")}(o);n=new Px(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kp(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):te.min(),a=new jt({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new ef(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kp(t,r.document),s=r.readTime?Kn(r.readTime):te.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ef([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kp(t,r.document),s=r.removedTargetIds||[];n=new ef([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new x6(i,s),a=r.targetId;n=new Ax(a,o)}}return n}function U6(t,e){let n;if(e instanceof vu)n={update:M1(t,e.key,e.value)};else if(e instanceof zd)n={delete:bg(t,e.key)};else if(e instanceof Oi)n={update:M1(t,e.key,e.data),updateMask:Q6(e.fieldMask)};else{if(!(e instanceof P6))return Y(16599,{ft:e.type});n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qf)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:L6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function B6(t,e){return t&&t.length>0?(pe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(te.min())&&(o=Kn(s)),new I6(o,i.transformResults||[])}(n,e))):[]}function j6(t,e){return{documents:[xx(t,e.path)]}}function z6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xx(t,i);const s=function(u){if(u.length!==0)return Dx(kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(h){return{field:$s(h.field),direction:K6(h.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Rg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function H6(t){let e=F6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(d){const h=kx(d);return h instanceof kn&&ax(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Yl(Us(y.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Md(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new qf(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new qf(m,h)}(n.endAt)),c6(e,i,o,s,a,"F",l,u)}function W6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>kx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function K6(t){return O6[t]}function G6(t){return V6[t]}function q6(t){return N6[t]}function $s(t){return{fieldPath:t.canonicalString()}}function Us(t){return ot.fromServerFormat(t.fieldPath)}function Dx(t){return t instanceof We?function(n){if(n.op==="=="){if(I1(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NAN"}};if(T1(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I1(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NAN"}};if(T1(n.value))return{unaryFilter:{field:$s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(n.field),op:G6(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>Dx(i));return r.length===1?r[0]:{compositeFilter:{op:q6(n.op),filters:r}}}(t):Y(54877,{filter:t})}function Q6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ox(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.wt=e}}function X6(t){const e=H6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.yn=new Z6}addToCollectionParentIndex(e,n){return this.yn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(mi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Z6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vx=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(Vx,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Mo(0)}static ir(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="LruGarbageCollector",ej=1048576;function $1([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class tj{constructor(e){this.cr=e,this.buffer=new Ye($1),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){W(F1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?W(F1,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Ir(3e5)})}}class rj{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Nd.le);const r=new tj(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(L1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L1):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ls()<=ae.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function ij(t,e){return new rj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.changes=new Ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ml(r.mutation,i,Jt.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ja();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pr();const o=pl(),a=function(){return pl()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Oi)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),ml(f.mutation,u,f.mutation.getFieldMask(),Qe.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var d;return a.set(u,new oj(f,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pl();let i=new De((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Jt.empty();f=a.applyToLocalView(u,f),r.set(l,f);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,d=gx();f.forEach(h=>{if(!s.has(h)){const m=Tx(n.get(h),r.get(h));m!==null&&d.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(es());let a=Kl,l=s;return o.next(u=>U.forEach(u,(f,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(h=>{l=l.insert(f,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,le())).next(f=>({batchId:a,changes:mx(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=ja();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ja();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,h){return new ta(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,_t.newInvalidDocument(f)))});let a=ja();return o.forEach((l,u)=>{const f=s.get(l);f!==void 0&&ml(f.mutation,u,Jt.empty(),Qe.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return U.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:X6(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.overlays=new De(G.comparator),this.Or=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=es();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=es(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=es(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=es(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return U.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R6(n,r));let s=this.Or.get(n);s===void 0&&(s=le(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Nr=new Ye(Ze.Br),this.Lr=new Ye(Ze.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ze(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new G(new Se([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new G(new Se([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=le();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return G.comparator(e.key,n.key)||oe(e.Gr,n.Gr)}static kr(e,n){return oe(e.Gr,n.Gr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ye(Ze.Br)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?qv:this.Jn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(oe);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),U.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new G(s),0);let a=new Ye(oe);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},o),U.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return U.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Ze(n,0),i=this.zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Zr=e,this.docs=function(){return new De(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pr();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zB(jB(f),r)<=0||(i.has(f.key)||Ud(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}Xr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hj(this)}getSize(e){return U.resolve(this.size)}}class hj extends sj{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.persistence=e,this.ei=new Ps(n=>Xv(n),Jv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ti=0,this.ni=new i0,this.targetCount=0,this.ri=Mo.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),U.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.ar(n),U.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.ii={},this.overlays={},this.si=new Nd(0),this.oi=!1,this.oi=!0,this._i=new cj,this.referenceDelegate=e(this),this.ai=new pj(this),this.indexManager=new J6,this.remoteDocumentCache=function(i){return new dj(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Y6(n),this.ci=new lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new fj(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new mj(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return U.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class mj extends WB{constructor(e){super(),this.currentSequenceNumber=e}}class s0{constructor(e){this.persistence=e,this.Ti=new i0,this.Ii=null}static Ei(e){return new s0(e)}get di(){if(this.Ii)return this.Ii;throw Y(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,r=>{const i=G.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return U.or([()=>U.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Xf{constructor(e,n){this.persistence=e,this.Ri=new Ps(r=>qB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ij(this,n)}static Ei(e,n){return new Xf(e,n)}li(){}hi(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return U.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),U.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}gr(e,n,r){return U.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new o0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return eU()?8:KB(St())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gj;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Ls()<=ae.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),U.resolve()):(Ls()<=ae.DEBUG&&W("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ls()<=ae.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):U.resolve())}Rs(e,n){if(C1(n))return U.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cg(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,Cg(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return C1(n)||i.isEqual(te.min())?U.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?U.resolve(null):(Ls()<=ae.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.ws(e,o,n,BB(i,Kl)).next(a=>a))})}ps(e,n){let r=new Ye(hx(e));return n.forEach((i,s)=>{Ud(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return Ls()<=ae.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.As.getDocumentsMatchingQuery(e,n,mi.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="LocalStore",vj=3e8;class _j{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new De(oe),this.Ds=new Ps(s=>Xv(s),Jv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function wj(t,e,n,r){return new _j(t,e,n,r)}async function Mx(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function Ej(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const d=u.batch,h=d.keys();let m=U.resolve();return h.forEach(y=>{m=m.next(()=>f.getEntry(l,y)).next(I=>{const S=u.docVersions.get(y);pe(S!==null,48541),I.version.compareTo(S)<0&&(d.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),f.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Lx(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Tj(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((f,d)=>{const h=i.get(d);if(!h)return;a.push(n.ai.removeMatchingKeys(s,f.removedDocuments,d).next(()=>n.ai.addMatchingKeys(s,f.addedDocuments,d)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(ut.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(d,m),function(I,S,_){return I.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=vj?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,f)&&a.push(n.ai.updateTargetData(s,m))});let l=Pr(),u=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(Ij(s,o,e.documentUpdates).next(f=>{l=f.xs,u=f.Os})),!r.isEqual(te.min())){const f=n.ai.getLastRemoteSnapshotVersion(s).next(d=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function Ij(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(a0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Sj(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Aj(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Dg(t,e,n){const r=ne(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ea(o))throw o;W(a0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function U1(t,e,n){const r=ne(t);let i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const d=ne(l),h=d.Ds.get(f);return h!==void 0?U.resolve(d.Ss.get(h)):d.ai.getTargetData(u,f)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(Pj(r,d6(e),a),{documents:a,Ns:s})))}function Pj(t,e,n){let r=t.vs.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class B1{constructor(){this.activeTargetIds=v6()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cj{constructor(){this.So=new B1,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new B1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="ConnectivityMonitor";class z1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){W(j1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){W(j1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Og(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Kf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=Og(),a=this.$o(e,n.toUriEncodedString());W(Dp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,s),this.Ko(e,a,l,r).then(u=>(W(Dp,`Received RPC '${e}' ${o}: `,u),u),u=>{throw bo(Dp,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=xj[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class Dj extends bj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const s=Og();return new Promise((o,a)=>{const l=new $R;l.setWithCredentials(!0),l.listenOnce(UR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yc.NO_ERROR:const f=l.getResponseJson();W(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Yc.TIMEOUT:W(mt,`RPC '${e}' ${s} timed out`),a(new H($.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const d=l.getStatus();if(W(mt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(S){const _=S.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(m.status);a(new H(y,m.message))}else a(new H($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H($.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{W(mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);W(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}a_(e,n,r){const i=Og(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zR(),a=jR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");W(mt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=o.createWebChannel(f,l);let h=!1,m=!1;const y=new kj({Go:S=>{m?W(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(h||(W(mt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),W(mt,`RPC '${e}' stream ${i} sending:`,S),d.send(S))},zo:()=>d.close()}),I=(S,_,w)=>{S.listen(_,E=>{try{w(E)}catch(k){setTimeout(()=>{throw k},0)}})};return I(d,Ba.EventType.OPEN,()=>{m||(W(mt,`RPC '${e}' stream ${i} transport opened.`),y.t_())}),I(d,Ba.EventType.CLOSE,()=>{m||(m=!0,W(mt,`RPC '${e}' stream ${i} transport closed`),y.r_())}),I(d,Ba.EventType.ERROR,S=>{m||(m=!0,bo(mt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),y.r_(new H($.UNAVAILABLE,"The operation could not be completed")))}),I(d,Ba.EventType.MESSAGE,S=>{var _;if(!m){const w=S.data[0];pe(!!w,16349);const E=w,k=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(k){W(mt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let N=function(C){const R=ze[C];if(R!==void 0)return Sx(R)}(O),P=k.message;N===void 0&&(N=$.INTERNAL,P="Unknown error status: "+O+" with message "+k.message),m=!0,y.r_(new H(N,P)),d.close()}else W(mt,`RPC '${e}' stream ${i} received:`,w),y.i_(w)}}),I(a,BR.STAT_EVENT,S=>{S.stat===wg.PROXY?W(mt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===wg.NOPROXY&&W(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.n_()},0),y}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new M6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="PersistentStream";class $x{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Fx(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new H($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return W(H1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(W(H1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oj extends $x{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=$6(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Kn(o.readTime):te.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=kg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ag(l)?{documents:j6(s,l)}:{query:z6(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Cx(s,o.resumeToken);const u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Yf(s,o.snapshotVersion.toTimestamp());const u=Rg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=W6(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=kg(this.serializer),n.removeTarget=e,this.F_(n)}}class Vj extends $x{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=B6(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=kg(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U6(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{}class Mj extends Nj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,xg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H($.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,xg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H($.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Lj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ar(n),this.ea=!1):W("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class Fj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Cs(this)&&(W(ys,"Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.aa.add(4),await wu(u),u.la.set("Unknown"),u.aa.delete(4),await Kd(u)}(this))})}),this.la=new Lj(r,i)}}async function Kd(t){if(Cs(t))for(const e of t.ua)await e(!0)}async function wu(t){for(const e of t.ua)await e(!1)}function Ux(t,e){const n=ne(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),f0(n)?c0(n):na(n).b_()&&u0(n,e))}function l0(t,e){const n=ne(t),r=na(n);n._a.delete(e),r.b_()&&Bx(n,e),n._a.size===0&&(r.b_()?r.v_():Cs(n)&&n.la.set("Unknown"))}function u0(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).U_(e)}function Bx(t,e){t.ha.Ke(e),na(t).K_(e)}function c0(t){t.ha=new D6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.la.ta()}function f0(t){return Cs(t)&&!na(t).w_()&&t._a.size>0}function Cs(t){return ne(t).aa.size===0}function jx(t){t.ha=void 0}async function $j(t){t.la.set("Online")}async function Uj(t){t._a.forEach((e,n)=>{u0(t,e)})}async function Bj(t,e){jx(t),f0(t)?(t.la.ia(e),c0(t)):t.la.set("Unknown")}async function jj(t,e,n){if(t.la.set("Online"),e instanceof Px&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){W(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jf(t,r)}else if(e instanceof ef?t.ha.Xe(e):e instanceof Ax?t.ha.ot(e):t.ha.nt(e),!n.isEqual(te.min()))try{const r=await Lx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s._a.get(u);f&&s._a.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=s._a.get(l);if(!f)return;s._a.set(l,f.withResumeToken(ut.EMPTY_BYTE_STRING,f.snapshotVersion)),Bx(s,l);const d=new Qr(f.target,l,u,f.sequenceNumber);u0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(ys,"Failed to raise snapshot:",r),await Jf(t,r)}}async function Jf(t,e,n){if(!ea(e))throw e;t.aa.add(1),await wu(t),t.la.set("Offline"),n||(n=()=>Lx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(ys,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Kd(t)})}function zx(t,e){return e().catch(n=>Jf(t,n,e))}async function Gd(t){const e=ne(t),n=_i(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:qv;for(;zj(e);)try{const i=await Sj(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,Hj(e,i)}catch(i){await Jf(e,i)}Hx(e)&&Wx(e)}function zj(t){return Cs(t)&&t.oa.length<10}function Hj(t,e){t.oa.push(e);const n=_i(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Hx(t){return Cs(t)&&!_i(t).w_()&&t.oa.length>0}function Wx(t){_i(t).start()}async function Wj(t){_i(t).H_()}async function Kj(t){const e=_i(t);for(const n of t.oa)e.G_(n.mutations)}async function Gj(t,e,n){const r=t.oa.shift(),i=t0.from(r,e,n);await zx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gd(t)}async function qj(t,e){e&&_i(t).W_&&await async function(r,i){if(function(o){return b6(o)&&o!==$.ABORTED}(i.code)){const s=r.oa.shift();_i(r).D_(),await zx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gd(r)}}(t,e),Hx(t)&&Wx(t)}async function W1(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W(ys,"RemoteStore received new credentials");const r=Cs(n);n.aa.add(3),await wu(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Kd(n)}async function Qj(t,e){const n=ne(t);e?(n.aa.delete(2),await Kd(n)):e||(n.aa.add(2),await wu(n),n.la.set("Unknown"))}function na(t){return t.Pa||(t.Pa=function(n,r,i){const s=ne(n);return s.Y_(),new Oj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:$j.bind(null,t),Jo:Uj.bind(null,t),Zo:Bj.bind(null,t),Q_:jj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),f0(t)?c0(t):t.la.set("Unknown")):(await t.Pa.stop(),jx(t))})),t.Pa}function _i(t){return t.Ta||(t.Ta=function(n,r,i){const s=ne(n);return s.Y_(),new Vj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Wj.bind(null,t),Zo:qj.bind(null,t),z_:Kj.bind(null,t),j_:Gj.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Gd(t)):(await t.Ta.stop(),t.oa.length>0&&(W(ys,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new d0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),ea(t))return new H($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=ja(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.Ia=new De(G.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Xj{constructor(){this.queries=G1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=G1(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new H($.ABORTED,"Firestore shutting down"))}}function G1(){return new Ps(t=>dx(t),$d)}async function p0(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new Yj,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=h0(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&g0(n)}async function m0(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jj(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&g0(n)}function Zj(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function g0(t){t.fa.forEach(e=>{e.next()})}var Vg,q1;(q1=Vg||(Vg={})).ya="default",q1.Cache="cache";class y0{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.key=e}}class Gx{constructor(e){this.key=e}}class e9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=le(),this.mutatedKeys=le(),this.Ua=hx(e),this.Ka=new go(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new K1,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{const h=i.get(f),m=Ud(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;h&&m?h.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),S=!0):this.ja(h,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Ua(m,l)>0||u&&this.Ua(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),S=!0):h&&!m&&(r.track({type:1,doc:h}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=I?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((f,d)=>function(m,y){const I=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:S})}};return I(m)-I(y)}(f.type,d.type)||this.Ua(f.doc,d.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new Lo(this.query,e.Ka,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new K1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=le(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Gx(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Kx(r))}),n}Xa(e){this.qa=e.Ns,this.$a=le();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Lo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const v0="SyncEngine";class t9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n9{constructor(e){this.key=e,this.tu=!1}}class r9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Ps(a=>dx(a),$d),this.iu=new Map,this.su=new Set,this.ou=new De(G.comparator),this._u=new Map,this.au=new i0,this.uu={},this.cu=new Map,this.lu=Mo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function i9(t,e,n=!0){const r=Zx(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await qx(r,e,n,!0),i}async function s9(t,e){const n=Zx(t);await qx(n,e,!0,!1)}async function qx(t,e,n,r){const i=await Aj(t.localStore,Wn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await o9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ux(t.remoteStore,i),a}async function o9(t,e,n,r,i){t.Pu=(d,h,m)=>async function(I,S,_,w){let E=S.view.Ga(_);E.ys&&(E=await U1(I.localStore,S.query,!1).then(({documents:P})=>S.view.Ga(P,E)));const k=w&&w.targetChanges.get(S.targetId),O=w&&w.targetMismatches.get(S.targetId)!=null,N=S.view.applyChanges(E,I.isPrimaryClient,k,O);return Y1(I,S.targetId,N.Ya),N.snapshot}(t,d,h,m);const s=await U1(t.localStore,e,!0),o=new e9(e,s.Ns),a=o.Ga(s.documents),l=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Y1(t,n,u.Ya);const f=new t9(e,n,o);return t.ru.set(e,f),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function a9(t,e,n){const r=ne(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!$d(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l0(r.remoteStore,i.targetId),Ng(r,i.targetId)}).catch(Zo)):(Ng(r,i.targetId),await Dg(r.localStore,i.targetId,!0))}async function l9(t,e){const n=ne(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l0(n.remoteStore,r.targetId))}async function u9(t,e,n){const r=g9(t);try{const i=await function(o,a){const l=ne(o),u=Qe.now(),f=a.reduce((m,y)=>m.add(y.key),le());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Pr(),I=le();return l.Cs.getEntries(m,f).next(S=>{y=S,y.forEach((_,w)=>{w.isValidDocument()||(I=I.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(S=>{d=S;const _=[];for(const w of a){const E=A6(w,d.get(w.key).overlayedDocument);E!=null&&_.push(new Oi(w.key,E,ix(E.value.mapValue),Ot.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(S=>{h=S;const _=S.applyToLocalDocumentSet(d,I);return l.documentOverlayCache.saveOverlays(m,S.batchId,_)})}).then(()=>({batchId:h.batchId,changes:mx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new De(oe)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Eu(r,i.changes),await Gd(r.remoteStore)}catch(i){const s=h0(i,"Failed to persist write");n.reject(s)}}async function Qx(t,e){const n=ne(t);try{const r=await Tj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?pe(o.tu,14607):i.removedDocuments.size>0&&(pe(o.tu,42227),o.tu=!1))}),await Eu(n,r,e)}catch(r){await Zo(r)}}function Q1(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((f,d)=>{for(const h of d.Ra)h.ga(a)&&(u=!0)}),u&&g0(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c9(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new De(G.comparator);o=o.insert(s,_t.newNoDocument(s,te.min()));const a=le().add(s),l=new Hd(te.min(),new Map,new De(oe),o,a);await Qx(r,l),r.ou=r.ou.remove(s),r._u.delete(e),_0(r)}else await Dg(r.localStore,e,!1).then(()=>Ng(r,e,n)).catch(Zo)}async function f9(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await Ej(n.localStore,e);Xx(n,r,null),Yx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(n,i)}catch(i){await Zo(i)}}async function d9(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(pe(d!==null,37113),f=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);Xx(r,e,n),Yx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eu(r,i)}catch(i){await Zo(i)}}function Yx(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Xx(t,e,n){const r=ne(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Jx(t,r)})}function Jx(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(l0(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),_0(t))}function Y1(t,e,n){for(const r of n)r instanceof Kx?(t.au.addReference(r.key,e),h9(t,r)):r instanceof Gx?(W(v0,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Jx(t,r.key)):Y(19791,{Iu:r})}function h9(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(W(v0,"New document in limbo: "+n),t.su.add(r),_0(t))}function _0(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new G(Se.fromString(e)),r=t.lu.next();t._u.set(r,new n9(n)),t.ou=t.ou.insert(n,r),Ux(t.remoteStore,new Qr(Wn(Fd(n.path)),r,"TargetPurposeLimboResolution",Nd.le))}}async function Eu(t,e,n){const r=ne(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=o0.Ps(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,u){const f=ne(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,h=>U.forEach(h.ls,m=>f.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>U.forEach(h.hs,m=>f.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!ea(d))throw d;W(a0,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=f.Ss.get(h),y=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(y);f.Ss=f.Ss.insert(h,I)}}}(r.localStore,s))}async function p9(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W(v0,"User change. New user:",e.toKey());const r=await Mx(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new H($.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(n,r.Ms)}}function m9(t,e){const n=ne(t),r=n._u.get(e);if(r&&r.tu)return le().add(r.key);{let i=le();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function Zx(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c9.bind(null,e),e.nu.Q_=Jj.bind(null,e.eventManager),e.nu.Tu=Zj.bind(null,e.eventManager),e}function g9(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d9.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return wj(this.persistence,new yj,e.initialUser,this.serializer)}Ru(e){return new Nx(s0.Ei,this.serializer)}Au(e){return new Cj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class y9 extends Zf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){pe(this.persistence.referenceDelegate instanceof Xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nj(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new Nx(r=>Xf.Ei(r,n),this.serializer)}}class Mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p9.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xj}()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),r=function(s){return new Dj(s)}(e.databaseInfo);return function(s,o,a,l){return new Mj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Fj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Q1(this.syncEngine,n,0),function(){return z1.C()?new z1:new Rj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,f){const d=new r9(i,s,o,a,l,u);return f&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);W(ys,"RemoteStore shutting down."),s.aa.add(5),await wu(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mg.provider={build:()=>new Mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="FirestoreClient";class v9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=GR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(wi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(wi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vp(t,e){t.asyncQueue.verifyOperationInProgress(),W(wi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Mx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _9(t);W(wi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>W1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>W1(e.remoteStore,i)),t._onlineComponents=e}async function _9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(wi,"Using user provided OfflineComponentProvider");try{await Vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Vp(t,new Zf)}}else W(wi,"Using default OfflineComponentProvider"),await Vp(t,new y9(void 0));return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(wi,"Using user provided OnlineComponentProvider"),await X1(t,t._uninitializedComponentsProvider._online)):(W(wi,"Using default OnlineComponentProvider"),await X1(t,new Mg))),t._onlineComponents}function w9(t){return eb(t).then(e=>e.syncEngine)}async function ed(t){const e=await eb(t),n=e.eventManager;return n.onListen=i9.bind(null,e.syncEngine),n.onUnlisten=a9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l9.bind(null,e.syncEngine),n}function E9(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new w0({next:h=>{f.yu(),o.enqueueAndForget(()=>m0(s,d));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new H($.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new H($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new y0(Fd(a.path),f,{includeMetadataChanges:!0,Fa:!0});return p0(s,d)}(await ed(t),t.asyncQueue,e,n,r)),r.promise}function T9(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const f=new w0({next:h=>{f.yu(),o.enqueueAndForget(()=>m0(s,d)),h.fromCache&&l.source==="server"?u.reject(new H($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new y0(a,f,{includeMetadataChanges:!0,Fa:!0});return p0(s,d)}(await ed(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e,n){if(!n)throw new H($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I9(t,e,n,r){if(e===!0&&r===!0)throw new H($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z1(t){if(!G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eI(t){if(G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Vt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new H($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firestore.googleapis.com",tI=!0;class nI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rb,this.ssl=tI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ej)throw new H($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DB;switch(r.type){case"firstParty":return new MB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J1.get(n);r&&(W("ComponentProvider","Removing Datastore"),J1.delete(n),r.terminate())}(this),Promise.resolve()}}function S9(t,e,n,r={}){var i;const s=(t=Vt(t,Qd))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==rb&&s.host!==a&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Tr(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=yt.MOCK_USER;else{u=G4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yt(d)}t._authCredentials=new OB(new WR(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class fi extends Vi{constructor(e,n,r){super(e,n,Fd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new G(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function P8(t,e,...n){if(t=je(t),nb("collection","path",e),t instanceof Qd){const r=Se.fromString(e,...n);return eI(r),new fi(t,null,r)}{if(!(t instanceof Tt||t instanceof fi))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return eI(r),new fi(t.firestore,null,r)}}function A9(t,e,...n){if(t=je(t),arguments.length===1&&(e=GR.newId()),nb("doc","path",e),t instanceof Qd){const r=Se.fromString(e,...n);return Z1(r),new Tt(t,null,new G(r))}{if(!(t instanceof Tt||t instanceof fi))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Z1(r),new Tt(t.firestore,t instanceof fi?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="AsyncQueue";class iI{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Fx(this,"async_queue_retry"),this.ju=()=>{const r=Op();r&&W(rI,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new pr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ea(e))throw e;W(rI,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ar("INTERNAL UNHANDLED ERROR: ",sI(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=d0.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Y(47125,{ec:sI(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function sI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Jn extends Qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iI(e),this._firestoreClient=void 0,await e}}}function C8(t,e){const n=typeof t=="object"?t:tR(),r=typeof t=="string"?t:e||Kf,i=Lv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=W4("firestore");s&&S9(i,...s)}return i}function Tu(t){if(t._terminated)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P9(t),t._firestoreClient}function P9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,f){return new XB(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new v9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(ut.fromBase64String(e))}catch(n){throw new H($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^__.*__$/;class R9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{oc:t})}}class Yd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return td(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(sb(this.oc)&&C9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class x9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wd(e)}dc(e,n,r,i=!1){return new Yd({oc:e,methodName:n,Ec:r,path:ot.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new x9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function I0(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);C0("Data must be an object, but it was:",o,r);const a=ub(r,o);let l,u;if(s.merge)l=new Jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const d of s.mergeFields){const h=Lg(e,d,n);if(!o.contains(h))throw new H($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fb(f,h)||f.push(h)}l=new Jt(f),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new R9(new jt(a),l,u)}class Xd extends ra{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function ob(t,e,n){return new Yd({oc:3,Ec:e.settings.Ec,methodName:t._methodName,cc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class S0 extends ra{_toFieldTransform(e){return new e0(e.path,new Xl)}isEqual(e){return e instanceof S0}}class A0 extends ra{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=ob(this,e,!0),r=this.Ac.map(s=>Rs(s,n)),i=new Vo(r);return new e0(e.path,i)}isEqual(e){return e instanceof A0&&Tr(this.Ac,e.Ac)}}class P0 extends ra{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=ob(this,e,!0),r=this.Ac.map(s=>Rs(s,n)),i=new No(r);return new e0(e.path,i)}isEqual(e){return e instanceof P0&&Tr(this.Ac,e.Ac)}}function ab(t,e,n,r){const i=t.dc(1,e,n);C0("Data must be an object, but it was:",i,r);const s=[],o=jt.empty();Di(r,(l,u)=>{const f=R0(e,l,n);u=je(u);const d=i.hc(f);if(u instanceof Xd)s.push(f);else{const h=Rs(u,d);h!=null&&(s.push(f),o.set(f,h))}});const a=new Jt(s);return new ib(o,a,i.fieldTransforms)}function lb(t,e,n,r,i,s){const o=t.dc(1,e,n),a=[Lg(e,r,n)],l=[i];if(s.length%2!=0)throw new H($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Lg(e,s[h])),l.push(s[h+1]);const u=[],f=jt.empty();for(let h=a.length-1;h>=0;--h)if(!fb(u,a[h])){const m=a[h];let y=l[h];y=je(y);const I=o.hc(m);if(y instanceof Xd)u.push(m);else{const S=Rs(y,I);S!=null&&(u.push(m),f.set(m,S))}}const d=new Jt(u);return new ib(f,d,o.fieldTransforms)}function b9(t,e,n,r=!1){return Rs(n,t.dc(r?4:3,e))}function Rs(t,e){if(cb(t=je(t)))return C0("Unsupported field value:",e,t),ub(t,e);if(t instanceof ra)return function(r,i){if(!sb(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Rs(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:Yf(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yf(i.serializer,s)}}if(r instanceof E0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:Cx(i.serializer,r._byteString)};if(r instanceof Tt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:r0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof T0)return function(o,a){return{mapValue:{fields:{[tx]:{stringValue:rx},[Gf]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return Zv(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${qd(r)}`)}(t,e)}function ub(t,e){const n={};return QR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const s=Rs(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function cb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof E0||t instanceof Fo||t instanceof Tt||t instanceof ra||t instanceof T0)}function C0(t,e,n){if(!cb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Lg(t,e,n){if((e=je(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return R0(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const k9=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(k9)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H($.INVALID_ARGUMENT,a+t+l)}function fb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D9 extends db{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?R0(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class pb extends x0{}function R8(t,e,...n){let r=[];e instanceof x0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof b0).length,a=s.filter(l=>l instanceof Zd).length;if(o>1||o>0&&a>0)throw new H($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zd extends pb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zd(e,n,r)}_apply(e){const n=this._parse(e);return mb(e._query,n),new Vi(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=Su(e.firestore);return function(s,o,a,l,u,f,d){let h;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){lI(d,f);const y=[];for(const I of d)y.push(aI(l,s,I));h={arrayValue:{values:y}}}else h=aI(l,s,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||lI(d,f),h=b9(a,o,d,f==="in"||f==="not-in");return We.create(u,f,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x8(t,e,n){const r=e,i=Jd("where",t);return Zd._create(i,r,n)}class b0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)mb(o,l),o=Pg(o,l)}(e._query,n),new Vi(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends pb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new H($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(s,o)}(e._query,this._field,this._direction);return new Vi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ta(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function b8(t,e="asc"){const n=e,r=Jd("orderBy",t);return k0._create(r,n)}function aI(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new H($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fx(e)&&n.indexOf("/")!==-1)throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!G.isDocumentKey(r))throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return E1(t,new G(r))}if(n instanceof Tt)return E1(t,n._key);throw new H($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function lI(t,e){if(!Array.isArray(t)||t.length===0)throw new H($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O9{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Gf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new T0(s)}convertGeoPoint(e){return new E0(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);pe(Ox(r),9688,{name:e});const i=new ql(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gb extends db{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tf extends gb{data(e={}){return super.data(e)}}class yb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tf(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:V9(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){t=Vt(t,Tt);const e=Vt(t.firestore,Jn);return E9(Tu(e),t._key).then(n=>vb(e,t,n))}class O0 extends O9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function D8(t){t=Vt(t,Vi);const e=Vt(t.firestore,Jn),n=Tu(e),r=new O0(e);return hb(t._query),T9(n,t._query).then(i=>new yb(e,r,t,i))}function O8(t,e,n){t=Vt(t,Tt);const r=Vt(t.firestore,Jn),i=D0(t.converter,e,n);return Au(r,[I0(Su(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ot.none())])}function V8(t,e,n,...r){t=Vt(t,Tt);const i=Vt(t.firestore,Jn),s=Su(i);let o;return o=typeof(e=je(e))=="string"||e instanceof Iu?lb(s,"updateDoc",t._key,e,n,r):ab(s,"updateDoc",t._key,e),Au(i,[o.toMutation(t._key,Ot.exists(!0))])}function N8(t){return Au(Vt(t.firestore,Jn),[new zd(t._key,Ot.none())])}function M8(t,e){const n=Vt(t.firestore,Jn),r=A9(t),i=D0(t.converter,e);return Au(n,[I0(Su(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ot.exists(!1))]).then(()=>r)}function L8(t,...e){var n,r,i;t=je(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||oI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,f;if(t instanceof Tt)u=Vt(t.firestore,Jn),f=Fd(t._key.path),l={next:d=>{e[o]&&e[o](vb(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Vt(t,Vi);u=Vt(d.firestore,Jn),f=d._query;const h=new O0(u);l={next:m=>{e[o]&&e[o](new yb(u,h,d,m))},error:e[o+1],complete:e[o+2]},hb(t._query)}return function(h,m,y,I){const S=new w0(I),_=new y0(m,S,y);return h.asyncQueue.enqueueAndForget(async()=>p0(await ed(h),_)),()=>{S.yu(),h.asyncQueue.enqueueAndForget(async()=>m0(await ed(h),_))}}(Tu(u),f,a,l)}function Au(t,e){return function(r,i){const s=new pr;return r.asyncQueue.enqueueAndForget(async()=>u9(await w9(r),i,s)),s.promise}(Tu(t),e)}function vb(t,e,n){const r=n.docs.get(e._key),i=new O0(t);return new gb(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,r){this._verifyNotCommitted();const i=Np(e,this._firestore),s=D0(i.converter,n,r),o=I0(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ot.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Np(e,this._firestore);let o;return o=typeof(n=je(n))=="string"||n instanceof Iu?lb(this._dataReader,"WriteBatch.update",s._key,n,r,i):ab(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ot.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Np(e,this._firestore);return this._mutations=this._mutations.concat(new zd(n._key,Ot.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Np(t,e){if((t=je(t)).firestore!==e)throw new H($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function F8(){return new S0("serverTimestamp")}function $8(...t){return new A0("arrayUnion",t)}function U8(...t){return new P0("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){return Tu(t=Vt(t,Jn)),new N9(t,e=>Au(t,e))}(function(e,n=!0){(function(i){Jo=i})(Yo),xo(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Jn(new VB(r.getProvider("auth-internal")),new LB(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ui(u1,c1,e),ui(u1,c1,"esm2017")})();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function M9(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(d){o(d)}}function l(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function L9(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var so=function(){return so=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},so.apply(this,arguments)},_b=function(t){return{loading:t==null,value:t}},F9=function(){return function(t,e){switch(e.type){case"error":return so(so({},t),{error:e.error,loading:!1,value:void 0});case"reset":return _b(e.defaultValue);case"value":return so(so({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},$9=function(t){var e=t?t():void 0,n=v.useReducer(F9(),_b(e)),r=n[0],i=n[1],s=v.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=v.useCallback(function(l){i({type:"error",error:l})},[]),a=v.useCallback(function(l){i({type:"value",value:l})},[]);return v.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},j8=function(t,e){var n=$9(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return v.useEffect(function(){var l=v5(t,function(u){return M9(void 0,void 0,void 0,function(){var f;return L9(this,function(d){switch(d.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return d.sent(),[3,4];case 3:return f=d.sent(),s(f),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]};const wb=typeof document<"u"?q.useLayoutEffect:()=>{};function U9(t){const e=v.useRef(null);return wb(()=>{e.current=t},[t]),v.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const Ni=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},ts=t=>t&&"window"in t&&t.window===t?t:Ni(t).defaultView||window;function B9(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function j9(t){return B9(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let z9=!1;function V0(){return z9}function Eb(t,e){if(!V0())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:j9(n)?n=n.host:n=n.parentNode}return!1}const Fg=(t=document)=>{var e;if(!V0())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function Tb(t){return V0()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function H9(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function W9(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ib(t){let e=null;return()=>(e==null&&(e=t()),e)}const K9=Ib(function(){return W9(/^Mac/i)}),G9=Ib(function(){return H9(/Android/i)});function Sb(){let t=v.useRef(new Map),e=v.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...u)=>{t.current.delete(o),o(...u)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=v.useCallback((i,s,o,a)=>{var l;let u=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,u,a),t.current.delete(o)},[]),r=v.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return v.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function q9(t){return t.mozInputSource===0&&t.isTrusted?!0:G9()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Ab(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Q9(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Pb(t){let e=v.useRef({isFocused:!1,observer:null});wb(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=U9(r=>{t==null||t(r)});return v.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=Ab(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Y9=!1,Pu=null,$g=new Set,gl=new Map,vs=!1,Ug=!1;const X9={Tab:!0,Escape:!0};function N0(t,e){for(let n of $g)n(t,e)}function J9(t){return!(t.metaKey||!K9()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function nd(t){vs=!0,J9(t)&&(Pu="keyboard",N0("keyboard",t))}function yo(t){Pu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(vs=!0,N0("pointer",t))}function Cb(t){q9(t)&&(vs=!0,Pu="virtual")}function Rb(t){t.target===window||t.target===document||Y9||!t.isTrusted||(!vs&&!Ug&&(Pu="virtual",N0("virtual",t)),vs=!1,Ug=!1)}function xb(){vs=!1,Ug=!0}function Bg(t){if(typeof window>"u"||gl.get(ts(t)))return;const e=ts(t),n=Ni(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){vs=!0,r.apply(this,arguments)},n.addEventListener("keydown",nd,!0),n.addEventListener("keyup",nd,!0),n.addEventListener("click",Cb,!0),e.addEventListener("focus",Rb,!0),e.addEventListener("blur",xb,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",yo,!0),n.addEventListener("pointermove",yo,!0),n.addEventListener("pointerup",yo,!0)),e.addEventListener("beforeunload",()=>{bb(t)},{once:!0}),gl.set(e,{focus:r})}const bb=(t,e)=>{const n=ts(t),r=Ni(t);e&&r.removeEventListener("DOMContentLoaded",e),gl.has(n)&&(n.HTMLElement.prototype.focus=gl.get(n).focus,r.removeEventListener("keydown",nd,!0),r.removeEventListener("keyup",nd,!0),r.removeEventListener("click",Cb,!0),n.removeEventListener("focus",Rb,!0),n.removeEventListener("blur",xb,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",yo,!0),r.removeEventListener("pointermove",yo,!0),r.removeEventListener("pointerup",yo,!0)),gl.delete(n))};function Z9(t){const e=Ni(t);let n;return e.readyState!=="loading"?Bg(t):(n=()=>{Bg(t)},e.addEventListener("DOMContentLoaded",n)),()=>bb(t,n)}typeof document<"u"&&Z9();function kb(){return Pu!=="pointer"}const ez=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tz(t,e,n){let r=Ni(n==null?void 0:n.target);const i=typeof window<"u"?ts(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?ts(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ts(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?ts(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!ez.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!X9[n.key])}function nz(t,e,n){Bg(),v.useEffect(()=>{let r=(i,s)=>{tz(!!(n!=null&&n.isTextInput),i,s)&&t(kb())};return $g.add(r),()=>{$g.delete(r)}},e)}function rz(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=v.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=Pb(s),a=v.useCallback(l=>{const u=Ni(l.target),f=u?Fg(u):Fg();l.target===l.currentTarget&&f===Tb(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function iz(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=v.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=Sb(),l=v.useCallback(d=>{d.currentTarget.contains(d.target)&&s.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(d),i&&i(!1))},[n,i,s,a]),u=Pb(l),f=v.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const h=Ni(d.target),m=Fg(h);if(!s.current.isFocusWithin&&m===Tb(d.nativeEvent)){r&&r(d),i&&i(!0),s.current.isFocusWithin=!0,u(d);let y=d.currentTarget;o(h,"focus",I=>{if(s.current.isFocusWithin&&!Eb(y,I.target)){let S=new h.defaultView.FocusEvent("blur",{relatedTarget:I.target});Q9(S,y);let _=Ab(S);l(_)}},{capture:!0})}},[r,i,u,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:l}}}let jg=!1,Mp=0;function sz(){jg=!0,setTimeout(()=>{jg=!1},50)}function uI(t){t.pointerType==="touch"&&sz()}function oz(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",uI),Mp++,()=>{Mp--,!(Mp>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",uI)}}function az(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=v.useState(!1),a=v.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;v.useEffect(oz,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=Sb(),{hoverProps:f,triggerHoverEnd:d}=v.useMemo(()=>{let h=(I,S)=>{if(a.pointerType=S,i||S==="touch"||a.isHovered||!I.currentTarget.contains(I.target))return;a.isHovered=!0;let _=I.currentTarget;a.target=_,l(Ni(I.target),"pointerover",w=>{a.isHovered&&a.target&&!Eb(a.target,w.target)&&m(w,w.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:_,pointerType:S}),n&&n(!0),o(!0)},m=(I,S)=>{let _=a.target;a.pointerType="",a.target=null,!(S==="touch"||!a.isHovered||!_)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:_,pointerType:S}),n&&n(!1),o(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=I=>{jg&&I.pointerType==="mouse"||h(I,I.pointerType)},y.onPointerLeave=I=>{!i&&I.currentTarget.contains(I.target)&&m(I,I.pointerType)}),{hoverProps:y,triggerHoverEnd:m}},[e,n,r,i,a,l,u]);return v.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:f,isHovered:s}}function lz(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=v.useRef({isFocused:!1,isFocusVisible:e||kb()}),[s,o]=v.useState(!1),[a,l]=v.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=v.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),f=v.useCallback(m=>{i.current.isFocused=m,o(m),u()},[u]);nz(m=>{i.current.isFocusVisible=m,u()},[],{isTextInput:n});let{focusProps:d}=rz({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=iz({isDisabled:!r,onFocusWithinChange:f});return{isFocused:s,isFocusVisible:a,focusProps:r?h:d}}var uz=Object.defineProperty,cz=(t,e,n)=>e in t?uz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lp=(t,e,n)=>(cz(t,typeof e!="symbol"?e+"":e,n),n);let fz=class{constructor(){Lp(this,"current",this.detect()),Lp(this,"handoffState","pending"),Lp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},as=new fz;function xs(t){var e,n;return as.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function eh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function On(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return eh(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=On();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function ia(){let[t]=v.useState(On);return v.useEffect(()=>()=>t.dispose(),[t]),t}let _e=(t,e)=>{as.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function bs(t){let e=v.useRef(t);return _e(()=>{e.current=t},[t]),e}let Z=function(t){let e=bs(t);return q.useCallback((...n)=>e.current(...n),[e])};function dz(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function hz(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function pz({disabled:t=!1}={}){let e=v.useRef(null),[n,r]=v.useState(!1),i=ia(),s=Z(()=>{e.current=null,r(!1),i.dispose()}),o=Z(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=xs(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let f=dz(u);r(hz(f,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let mz=v.createContext(void 0);function Db(){return v.useContext(mz)}function zg(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Zn(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zn),r}var $o=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))($o||{}),Yr=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Yr||{});function Ke(){let t=yz();return v.useCallback(e=>gz({mergeRefs:t,...e}),[t])}function gz({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??vz;let l=Ob(e,t);if(s)return Sc(l,n,r,o,a);let u=i??0;if(u&2){let{static:f=!1,...d}=l;if(f)return Sc(d,n,r,o,a)}if(u&1){let{unmount:f=!0,...d}=l;return Zn(f?0:1,{[0](){return null},[1](){return Sc({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Sc(l,n,r,o,a)}function Sc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Fp(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},f=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let h=!1,m=[];for(let[y,I]of Object.entries(e))typeof I=="boolean"&&(h=!0),I===!0&&m.push(y.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(h){d["data-headlessui-state"]=m.join(" ");for(let y of m)d[`data-${y}`]=""}}if(s===v.Fragment&&(Object.keys(Ki(l)).length>0||Object.keys(Ki(d)).length>0))if(!v.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ki(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ki(l)).concat(Object.keys(Ki(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,m=h==null?void 0:h.className,y=typeof m=="function"?(..._)=>zg(m(..._),l.className):zg(m,l.className),I=y?{className:y}:{},S=Ob(f.props,Ki(Fp(l,["ref"])));for(let _ in d)_ in S&&delete d[_];return v.cloneElement(f,Object.assign({},S,d,u,{ref:i(_z(f),u.ref)},I))}return v.createElement(s,Object.assign({},Fp(l,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&d),f)}function yz(){let t=v.useRef([]),e=v.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function vz(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Ob(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Vb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function Me(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ki(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Fp(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function _z(t){return q.version.split(".")[0]>="19"?t.props.ref:t.ref}let wz="span";var rd=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(rd||{});function Ez(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ke()({ourProps:s,theirProps:i,slot:{},defaultTag:wz,name:"Hidden"})}let Hg=Me(Ez),Tz=v.createContext(void 0);function Iz(){return v.useContext(Tz)}function Sz(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Az(n)?!1:r}function Az(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let Nb=Symbol();function Pz(t,e=!0){return Object.assign(t,{[Nb]:e})}function Lt(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let n=Z(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Nb]))?void 0:n}let M0=v.createContext(null);M0.displayName="DescriptionContext";function Mb(){let t=v.useContext(M0);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Mb),e}return t}function Lb(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(n){let r=Z(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=v.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return q.createElement(M0.Provider,{value:i},n.children)},[e])]}let Cz="p";function Rz(t,e){let n=v.useId(),r=Db(),{id:i=`headlessui-description-${n}`,...s}=t,o=Mb(),a=Lt(e);_e(()=>o.register(i),[i,o.register]);let l=r||!1,u=v.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),f={ref:a,...o.props,id:i};return Ke()({ourProps:f,theirProps:s,slot:u,defaultTag:Cz,name:o.name||"Description"})}let xz=Me(Rz),bz=Object.assign(xz,{});var Je=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Je||{});let th=v.createContext(null);th.displayName="LabelContext";function L0(){let t=v.useContext(th);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,L0),e}return t}function kz(t){var e,n,r;let i=(n=(e=v.useContext(th))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function Fb({inherit:t=!1}={}){let e=kz(),[n,r]=v.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,v.useMemo(()=>function(s){let o=Z(l=>(r(u=>[...u,l]),()=>r(u=>{let f=u.slice(),d=f.indexOf(l);return d!==-1&&f.splice(d,1),f}))),a=v.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return q.createElement(th.Provider,{value:a},s.children)},[r])]}let Dz="label";function Oz(t,e){var n;let r=v.useId(),i=L0(),s=Iz(),o=Db(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=t,d=Lt(e);_e(()=>i.register(a),[a,i.register]);let h=Z(S=>{let _=S.currentTarget;if(_ instanceof HTMLLabelElement&&S.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(S),_ instanceof HTMLLabelElement){let w=document.getElementById(_.htmlFor);if(w){let E=w.getAttribute("disabled");if(E==="true"||E==="")return;let k=w.getAttribute("aria-disabled");if(k==="true"||k==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),m=o||!1,y=v.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),I={ref:d,...i.props,id:a,htmlFor:l,onClick:h};return u&&("onClick"in I&&(delete I.htmlFor,delete I.onClick),"onClick"in f&&delete f.onClick),Ke()({ourProps:I,theirProps:f,slot:y,defaultTag:l?Dz:"div",name:i.name||"Label"})}let Vz=Me(Oz);Object.assign(Vz,{});let Nz=v.createContext(()=>{});function Mz({value:t,children:e}){return q.createElement(Nz.Provider,{value:t},e)}function Lz(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function Fz(t,e=!1){let[n,r]=v.useReducer(()=>({}),{}),i=v.useMemo(()=>Lz(t),[t,n]);return _e(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let $b=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function Ub(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function Bb(t){return v.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let $z=new $b(()=>Ub(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function sa(t,e){let n=$z.get(e),r=v.useId(),i=Bb(n);if(_e(()=>{if(t)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,t]),!t)return!1;let s=i.indexOf(r),o=i.length;return s===-1&&(s=o,o+=1),s===o-1}let Wg=new Map,yl=new Map;function cI(t){var e;let n=(e=yl.get(t))!=null?e:0;return yl.set(t,n+1),n!==0?()=>fI(t):(Wg.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>fI(t))}function fI(t){var e;let n=(e=yl.get(t))!=null?e:1;if(n===1?yl.delete(t):yl.set(t,n-1),n!==1)return;let r=Wg.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Wg.delete(t))}function jb(t,{allowed:e,disallowed:n}={}){let r=sa(t,"inert-others");_e(()=>{var i,s;if(!r)return;let o=On();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(cI(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=xs(l);if(!u)continue;let f=l.parentElement;for(;f&&f!==u.body;){for(let d of f.children)a.some(h=>d.contains(h))||o.add(cI(d));f=f.parentElement}}return o.dispose},[r,e,n])}function zb(t,e,n){let r=bs(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});v.useEffect(()=>{if(!t)return;let i=e===null?null:e instanceof HTMLElement?e:e.current;if(!i)return;let s=On();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let id=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Uz=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var In=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(In||{}),Kg=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Kg||{}),Bz=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Bz||{});function Hb(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(id)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function jz(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Uz)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var F0=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(F0||{});function $0(t,e=0){var n;return t===((n=xs(t))==null?void 0:n.body)?!1:Zn(e,{[0](){return t.matches(id)},[1](){let r=t;for(;r!==null;){if(r.matches(id))return!0;r=r.parentElement}return!1}})}function Wb(t){let e=xs(t);On().nextFrame(()=>{e&&!$0(e.activeElement,0)&&Gn(t)})}var zz=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zz||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Gn(t){t==null||t.focus({preventScroll:!0})}let Hz=["textarea","input"].join(",");function Wz(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Hz))!=null?n:!1}function Kb(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Kz(t,e){return vo(Hb(),e,{relativeTo:t})}function vo(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Kb(t):t:e&64?jz(t):Hb(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===m:y===m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},f=0,d=o.length,h;do{if(f>=d||f+d<=0)return 0;let m=l+f;if(e&16)m=(m+d)%d;else{if(m<0)return 3;if(m>=d)return 1}h=o[m],h==null||h.focus(u),f+=a}while(h!==s.activeElement);return e&6&&Wz(h)&&h.select(),2}function Gb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Gz(){return/Android/gi.test(window.navigator.userAgent)}function qz(){return Gb()||Gz()}function Oa(t,e,n,r){let i=bs(n);v.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function qb(t,e,n,r){let i=bs(n);v.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const dI=30;function Qb(t,e,n){let r=sa(t,"outside-click"),i=bs(n),s=v.useCallback(function(l,u){if(l.defaultPrevented)return;let f=u(l);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let d=function h(m){return typeof m=="function"?h(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let h of d)if(h!==null&&(h.contains(f)||l.composed&&l.composedPath().includes(h)))return;return!$0(f,F0.Loose)&&f.tabIndex!==-1&&l.preventDefault(),i.current(l,f)},[i,e]),o=v.useRef(null);Oa(r,"pointerdown",l=>{var u,f;o.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),Oa(r,"mousedown",l=>{var u,f;o.current=((f=(u=l.composedPath)==null?void 0:u.call(l))==null?void 0:f[0])||l.target},!0),Oa(r,"click",l=>{qz()||o.current&&(s(l,()=>o.current),o.current=null)},!0);let a=v.useRef({x:0,y:0});Oa(r,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Oa(r,"touchend",l=>{let u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=dI||Math.abs(u.y-a.current.y)>=dI))return s(l,()=>l.target instanceof HTMLElement?l.target:null)},!0),qb(r,"blur",l=>s(l,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Uo(...t){return v.useMemo(()=>xs(...t),[...t])}function Yb(t,e,n,r){let i=bs(n);v.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Qz(t,e){return v.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Yz(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Xz(){return Gb()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=On();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),f=t.querySelector(u);f&&!r(f)&&(o=f)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Jz(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Zz(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ns=Ub(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:On(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:Zz(n)},i=[Xz(),Yz(),Jz()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ns.subscribe(()=>{let t=ns.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ns.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ns.dispatch("TEARDOWN",n)}});function eH(t,e,n=()=>({containers:[]})){let r=Bb(ns),i=e?r.get(e):void 0,s=i?i.count>0:!1;return _e(()=>{if(!(!e||!t))return ns.dispatch("PUSH",e,n),()=>ns.dispatch("POP",e,n)},[t,e]),s}function Xb(t,e,n=()=>[document.body]){let r=sa(t,"scroll-lock");eH(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function hI(t){return[t.screenX,t.screenY]}function tH(){let t=v.useRef([-1,-1]);return{wasMoved(e){let n=hI(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=hI(e)}}}function nH(t=0){let[e,n]=v.useState(t),r=v.useCallback(l=>n(l),[e]),i=v.useCallback(l=>n(u=>u|l),[e]),s=v.useCallback(l=>(e&l)===l,[e]),o=v.useCallback(l=>n(u=>u&~l),[n]),a=v.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var pI,mI;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((pI=process==null?void 0:process.env)==null?void 0:pI.NODE_ENV)==="test"&&typeof((mI=Element==null?void 0:Element.prototype)==null?void 0:mI.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var rH=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(rH||{});function Jb(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Zb(t,e,n,r){let[i,s]=v.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=nH(t&&i?3:0),u=v.useRef(!1),f=v.useRef(!1),d=ia();return _e(()=>{var h;if(t){if(n&&s(!0),!e){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),iH(e,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){f.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var m;f.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(m=r==null?void 0:r.end)==null||m.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function iH(t,{prepare:e,run:n,done:r,inFlight:i}){let s=On();return oH(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(sH(t,r))})}),s.dispose}function sH(t,e){var n,r;let i=On();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function oH(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function aH(t,{container:e,accept:n,walk:r}){let i=v.useRef(n),s=v.useRef(r);v.useEffect(()=>{i.current=n,s.current=r},[n,r]),_e(()=>{if(!e||!t)return;let o=xs(e);if(!o)return;let a=i.current,l=s.current,u=Object.assign(d=>a(d),{acceptNode:a}),f=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)l(f.currentNode)},[e,t,i,s])}function U0(t,e){let n=v.useRef([]),r=Z(t);v.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function nh(){return typeof window<"u"}function oa(t){return ek(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tr(t){var e;return(e=(ek(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ek(t){return nh()?t instanceof Node||t instanceof en(t).Node:!1}function bt(t){return nh()?t instanceof Element||t instanceof en(t).Element:!1}function er(t){return nh()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function gI(t){return!nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}function Cu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Dn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function lH(t){return["table","td","th"].includes(oa(t))}function rh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function B0(t){const e=j0(),n=bt(t)?Dn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uH(t){let e=Ei(t);for(;er(e)&&!Bo(e);){if(B0(e))return e;if(rh(e))return null;e=Ei(e)}return null}function j0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(t){return["html","body","#document"].includes(oa(t))}function Dn(t){return en(t).getComputedStyle(t)}function ih(t){return bt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ei(t){if(oa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gI(t)&&t.host||tr(t);return gI(e)?e.host:e}function tk(t){const e=Ei(t);return Bo(e)?t.ownerDocument?t.ownerDocument.body:t.body:er(e)&&Cu(e)?e:tk(e)}function Jl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=tk(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=en(i);if(s){const a=Gg(o);return e.concat(o,o.visualViewport||[],Cu(i)?i:[],a&&n?Jl(a):[])}return e.concat(i,Jl(i,[],n))}function Gg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cH(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const _s=Math.min,wt=Math.max,Zl=Math.round,Ac=Math.floor,qn=t=>({x:t,y:t}),fH={left:"right",right:"left",bottom:"top",top:"bottom"},dH={start:"end",end:"start"};function yI(t,e,n){return wt(t,_s(e,n))}function aa(t,e){return typeof t=="function"?t(e):t}function Ti(t){return t.split("-")[0]}function Ru(t){return t.split("-")[1]}function nk(t){return t==="x"?"y":"x"}function rk(t){return t==="y"?"height":"width"}function ws(t){return["top","bottom"].includes(Ti(t))?"y":"x"}function ik(t){return nk(ws(t))}function hH(t,e,n){n===void 0&&(n=!1);const r=Ru(t),i=ik(t),s=rk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=sd(o)),[o,sd(o)]}function pH(t){const e=sd(t);return[qg(t),e,qg(e)]}function qg(t){return t.replace(/start|end/g,e=>dH[e])}function mH(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function gH(t,e,n,r){const i=Ru(t);let s=mH(Ti(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(qg)))),s}function sd(t){return t.replace(/left|right|bottom|top/g,e=>fH[e])}function yH(t){return{top:0,right:0,bottom:0,left:0,...t}}function vH(t){return typeof t!="number"?yH(t):{top:t,right:t,bottom:t,left:t}}function od(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function vI(t,e,n){let{reference:r,floating:i}=t;const s=ws(e),o=ik(e),a=rk(o),l=Ti(e),u=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ru(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const _H=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=vI(u,r,l),h=r,m={},y=0;for(let I=0;I<a.length;I++){const{name:S,fn:_}=a[I],{x:w,y:E,data:k,reset:O}=await _({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});f=w??f,d=E??d,m={...m,[S]:{...m[S],...k}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:f,y:d}=vI(u,h,l)),I=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:m}};async function sh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=aa(e,t),y=vH(m),S=a[h?d==="floating"?"reference":"floating":d],_=od(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),w=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},O=od(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:E,strategy:l}):w);return{top:(_.top-O.top+y.top)/k.y,bottom:(O.bottom-_.bottom+y.bottom)/k.y,left:(_.left-O.left+y.left)/k.x,right:(O.right-_.right+y.right)/k.x}}const wH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:I=!0,...S}=aa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Ti(i),w=ws(a),E=Ti(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=h||(E||!I?[sd(a)]:pH(a)),N=y!=="none";!h&&N&&O.push(...gH(a,I,y,k));const P=[a,...O],T=await sh(e,S),C=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&C.push(T[_]),d){const re=hH(i,o,k);C.push(T[re[0]],T[re[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every(re=>re<=0)){var b,D;const re=(((b=s.flip)==null?void 0:b.index)||0)+1,Ee=P[re];if(Ee)return{data:{index:re,overflows:R},reset:{placement:Ee}};let he=(D=R.filter(ee=>ee.overflows[0]<=0).sort((ee,F)=>ee.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!he)switch(m){case"bestFit":{var x;const ee=(x=R.filter(F=>{if(N){const L=ws(F.placement);return L===w||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:x[0];ee&&(he=ee);break}case"initialPlacement":he=a;break}if(i!==he)return{reset:{placement:he}}}return{}}}};async function EH(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ti(n),a=Ru(n),l=ws(n)==="y",u=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,d=aa(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const TH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await EH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},IH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:_,y:w}=S;return{x:_,y:w}}},...l}=aa(t,e),u={x:n,y:r},f=await sh(e,l),d=ws(Ti(i)),h=nk(d);let m=u[h],y=u[d];if(s){const S=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=m+f[S],E=m-f[_];m=yI(w,m,E)}if(o){const S=d==="y"?"top":"left",_=d==="y"?"bottom":"right",w=y+f[S],E=y-f[_];y=yI(w,y,E)}const I=a.fn({...e,[h]:m,[d]:y});return{...I,data:{x:I.x-n,y:I.y-r,enabled:{[h]:s,[d]:o}}}}}},SH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=aa(t,e),f=await sh(e,u),d=Ti(i),h=Ru(i),m=ws(i)==="y",{width:y,height:I}=s.floating;let S,_;d==="top"||d==="bottom"?(S=d,_=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=d,S=h==="end"?"top":"bottom");const w=I-f.top-f.bottom,E=y-f.left-f.right,k=_s(I-f[S],w),O=_s(y-f[_],E),N=!e.middlewareData.shift;let P=k,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=w),N&&!h){const R=wt(f.left,0),b=wt(f.right,0),D=wt(f.top,0),x=wt(f.bottom,0);m?T=y-2*(R!==0||b!==0?R+b:wt(f.left,f.right)):P=I-2*(D!==0||x!==0?D+x:wt(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:P});const C=await o.getDimensions(a.floating);return y!==C.width||I!==C.height?{reset:{rects:!0}}:{}}}};function sk(t){const e=Dn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=er(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Zl(n)!==s||Zl(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function z0(t){return bt(t)?t:t.contextElement}function _o(t){const e=z0(t);if(!er(e))return qn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=sk(e);let o=(s?Zl(n.width):n.width)/r,a=(s?Zl(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AH=qn(0);function ok(t){const e=en(t);return!j0()||!e.visualViewport?AH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function Es(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=z0(t);let o=qn(1);e&&(r?bt(r)&&(o=_o(r)):o=_o(t));const a=PH(s,n,r)?ok(s):qn(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const h=en(s),m=r&&bt(r)?en(r):r;let y=h,I=Gg(y);for(;I&&r&&m!==y;){const S=_o(I),_=I.getBoundingClientRect(),w=Dn(I),E=_.left+(I.clientLeft+parseFloat(w.paddingLeft))*S.x,k=_.top+(I.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,u*=S.y,f*=S.x,d*=S.y,l+=E,u+=k,y=en(I),I=Gg(y)}}return od({width:f,height:d,x:l,y:u})}function H0(t,e){const n=ih(t).scrollLeft;return e?e.left+n:Es(tr(t)).left+n}function ak(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:H0(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function CH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=tr(r),a=e?rh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=qn(1);const f=qn(0),d=er(r);if((d||!d&&!s)&&((oa(r)!=="body"||Cu(o))&&(l=ih(r)),er(r))){const m=Es(r);u=_o(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const h=o&&!d&&!s?ak(o,l,!0):qn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-l.scrollTop*u.y+f.y+h.y}}function RH(t){return Array.from(t.getClientRects())}function xH(t){const e=tr(t),n=ih(t),r=t.ownerDocument.body,i=wt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=wt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+H0(t);const a=-n.scrollTop;return Dn(r).direction==="rtl"&&(o+=wt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function bH(t,e){const n=en(t),r=tr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=j0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function kH(t,e){const n=Es(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=er(t)?_o(t):qn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function _I(t,e,n){let r;if(e==="viewport")r=bH(t,n);else if(e==="document")r=xH(tr(t));else if(bt(e))r=kH(e,n);else{const i=ok(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return od(r)}function lk(t,e){const n=Ei(t);return n===e||!bt(n)||Bo(n)?!1:Dn(n).position==="fixed"||lk(n,e)}function DH(t,e){const n=e.get(t);if(n)return n;let r=Jl(t,[],!1).filter(a=>bt(a)&&oa(a)!=="body"),i=null;const s=Dn(t).position==="fixed";let o=s?Ei(t):t;for(;bt(o)&&!Bo(o);){const a=Dn(o),l=B0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cu(o)&&!l&&lk(t,o))?r=r.filter(f=>f!==o):i=a,o=Ei(o)}return e.set(t,r),r}function OH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?rh(e)?[]:DH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,f)=>{const d=_I(e,f,i);return u.top=wt(d.top,u.top),u.right=_s(d.right,u.right),u.bottom=_s(d.bottom,u.bottom),u.left=wt(d.left,u.left),u},_I(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VH(t){const{width:e,height:n}=sk(t);return{width:e,height:n}}function NH(t,e,n){const r=er(e),i=tr(e),s=n==="fixed",o=Es(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=qn(0);if(r||!r&&!s)if((oa(e)!=="body"||Cu(i))&&(a=ih(e)),r){const h=Es(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=H0(i));const u=i&&!r&&!s?ak(i,a):qn(0),f=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:f,y:d,width:o.width,height:o.height}}function $p(t){return Dn(t).position==="static"}function wI(t,e){if(!er(t)||Dn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tr(t)===n&&(n=n.ownerDocument.body),n}function uk(t,e){const n=en(t);if(rh(t))return n;if(!er(t)){let i=Ei(t);for(;i&&!Bo(i);){if(bt(i)&&!$p(i))return i;i=Ei(i)}return n}let r=wI(t,e);for(;r&&lH(r)&&$p(r);)r=wI(r,e);return r&&Bo(r)&&$p(r)&&!B0(r)?n:r||uH(t)||n}const MH=async function(t){const e=this.getOffsetParent||uk,n=this.getDimensions,r=await n(t.floating);return{reference:NH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LH(t){return Dn(t).direction==="rtl"}const FH={convertOffsetParentRelativeRectToViewportRelativeRect:CH,getDocumentElement:tr,getClippingRect:OH,getOffsetParent:uk,getElementRects:MH,getClientRects:RH,getDimensions:VH,getScale:_o,isElement:bt,isRTL:LH};function ck(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $H(t,e){let n=null,r;const i=tr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(a||e(),!h||!m)return;const y=Ac(d),I=Ac(i.clientWidth-(f+h)),S=Ac(i.clientHeight-(d+m)),_=Ac(f),E={rootMargin:-y+"px "+-I+"px "+-S+"px "+-_+"px",threshold:wt(0,_s(1,l))||1};let k=!0;function O(N){const P=N[0].intersectionRatio;if(P!==l){if(!k)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!ck(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,E)}n.observe(t)}return o(!0),s}function UH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=z0(t),f=i||s?[...u?Jl(u):[],...Jl(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const d=u&&a?$H(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,I=l?Es(t):null;l&&S();function S(){const _=Es(t);I&&!ck(I,_)&&n(),I=_,y=requestAnimationFrame(S)}return n(),()=>{var _;f.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),d==null||d(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Up=sh,BH=TH,jH=IH,zH=wH,HH=SH,WH=(t,e,n)=>{const r=new Map,i={platform:FH,...n},s={...i.platform,_c:r};return _H(t,e,{...i,platform:s})};var nf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function ad(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ad(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ad(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function fk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EI(t,e){const n=fk(t);return Math.round(e*n)/n}function Bp(t){const e=v.useRef(t);return nf(()=>{e.current=t}),e}function KH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);ad(h,r)||m(r);const[y,I]=v.useState(null),[S,_]=v.useState(null),w=v.useCallback(F=>{F!==N.current&&(N.current=F,I(F))},[]),E=v.useCallback(F=>{F!==P.current&&(P.current=F,_(F))},[]),k=s||y,O=o||S,N=v.useRef(null),P=v.useRef(null),T=v.useRef(f),C=l!=null,R=Bp(l),b=Bp(i),D=Bp(u),x=v.useCallback(()=>{if(!N.current||!P.current)return;const F={placement:e,strategy:n,middleware:h};b.current&&(F.platform=b.current),WH(N.current,P.current,F).then(L=>{const z={...L,isPositioned:D.current!==!1};re.current&&!ad(T.current,z)&&(T.current=z,_r.flushSync(()=>{d(z)}))})},[h,e,n,b,D]);nf(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(F=>({...F,isPositioned:!1})))},[u]);const re=v.useRef(!1);nf(()=>(re.current=!0,()=>{re.current=!1}),[]),nf(()=>{if(k&&(N.current=k),O&&(P.current=O),k&&O){if(R.current)return R.current(k,O,x);x()}},[k,O,x,R,C]);const Ee=v.useMemo(()=>({reference:N,floating:P,setReference:w,setFloating:E}),[w,E]),he=v.useMemo(()=>({reference:k,floating:O}),[k,O]),ee=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!he.floating)return F;const L=EI(he.floating,f.x),z=EI(he.floating,f.y);return a?{...F,transform:"translate("+L+"px, "+z+"px)",...fk(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,a,he.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:x,refs:Ee,elements:he,floatingStyles:ee}),[f,x,Ee,he,ee])}const dk=(t,e)=>({...BH(t),options:[t,e]}),GH=(t,e)=>({...jH(t),options:[t,e]}),qH=(t,e)=>({...zH(t),options:[t,e]}),QH=(t,e)=>({...HH(t),options:[t,e]}),hk={...rf},YH=hk.useInsertionEffect,XH=YH||(t=>t());function pk(t){const e=v.useRef(()=>{});return XH(()=>{e.current=t}),v.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Qg=typeof document<"u"?v.useLayoutEffect:v.useEffect;let TI=!1,JH=0;const II=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JH++;function ZH(){const[t,e]=v.useState(()=>TI?II():void 0);return Qg(()=>{t==null&&e(II())},[]),v.useEffect(()=>{TI=!0},[]),t}const eW=hk.useId,tW=eW||ZH;function nW(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const rW=v.createContext(null),iW=v.createContext(null),sW=()=>{var t;return((t=v.useContext(rW))==null?void 0:t.id)||null},oW=()=>v.useContext(iW),aW="data-floating-ui-focusable";function lW(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=tW(),s=v.useRef({}),[o]=v.useState(()=>nW()),a=sW()!=null,[l,u]=v.useState(r.reference),f=pk((m,y,I)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:I,nested:a}),n==null||n(m,y,I)}),d=v.useMemo(()=>({setPositionReference:u}),[]),h=v.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return v.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:h,events:o,floatingId:i,refs:d}),[e,f,h,o,i,d])}function uW(t){t===void 0&&(t={});const{nodeId:e}=t,n=lW({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=v.useState(null),[a,l]=v.useState(null),f=(i==null?void 0:i.domReference)||s,d=v.useRef(null),h=oW();Qg(()=>{f&&(d.current=f)},[f]);const m=KH({...t,elements:{...i,...a&&{reference:a}}}),y=v.useCallback(E=>{const k=bt(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l(k),m.refs.setReference(k)},[m.refs]),I=v.useCallback(E=>{(bt(E)||E===null)&&(d.current=E,o(E)),(bt(m.refs.reference.current)||m.refs.reference.current===null||E!==null&&!bt(E))&&m.refs.setReference(E)},[m.refs]),S=v.useMemo(()=>({...m.refs,setReference:I,setPositionReference:y,domReference:d}),[m.refs,I,y]),_=v.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),w=v.useMemo(()=>({...m,...r,refs:S,elements:_,nodeId:e}),[m,S,_,e,r]);return Qg(()=>{r.dataRef.current.floatingContext=w;const E=h==null?void 0:h.nodesRef.current.find(k=>k.id===e);E&&(E.context=w)}),v.useMemo(()=>({...m,context:w,refs:S,elements:_}),[m,S,_,w])}const SI="active",AI="selected";function jp(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[SI]:o,[AI]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[aW]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,f]=l;if(!(i&&[SI,AI].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var d;(d=r.get(u))==null||d.push(f),o[u]=function(){for(var h,m=arguments.length,y=new Array(m),I=0;I<m;I++)y[I]=arguments[I];return(h=r.get(u))==null?void 0:h.map(S=>S(...y)).find(S=>S!==void 0)}}}else o[u]=f}),o),{})}}function cW(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=v.useCallback(a=>jp(a,t,"reference"),e),s=v.useCallback(a=>jp(a,t,"floating"),n),o=v.useCallback(a=>jp(a,t,"item"),r);return v.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function PI(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const fW=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...f}=aa(t,e),{rects:d,elements:{floating:h}}=e,m=n.current[o],y=(u==null?void 0:u.current)||h,I=h.clientTop||y.clientTop,S=h.clientTop!==0,_=y.clientTop!==0,w=h===y;if(!m)return{};const E={...e,...await dk(-m.offsetTop-h.clientTop-d.reference.height/2-m.offsetHeight/2-s).fn(e)},k=await Up(PI(E,y.scrollHeight+I+h.clientTop),f),O=await Up(E,{...f,elementContext:"reference"}),N=wt(0,k.top),P=E.y+N,R=(y.scrollHeight>y.clientHeight?b=>b:Zl)(wt(0,y.scrollHeight+(S&&w||_?I*2:0)-N-wt(0,k.bottom)));if(y.style.maxHeight=R+"px",y.scrollTop=N,i){const b=y.offsetHeight<m.offsetHeight*_s(a,n.current.length)-1||O.top>=-l||O.bottom>=-l;_r.flushSync(()=>i(b))}return r&&(r.current=await Up(PI({...E,y:P},y.offsetHeight+I+h.clientTop),f)),{y:P}}});function dW(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=pk(a),u=v.useRef(!1),f=v.useRef(null),d=v.useRef(null);v.useEffect(()=>{if(!i)return;function m(I){if(I.ctrlKey||!y||s.current==null)return;const S=I.deltaY,_=s.current.top>=-.5,w=s.current.bottom>=-.5,E=y.scrollHeight-y.clientHeight,k=S<0?-1:1,O=S<0?"max":"min";y.scrollHeight<=y.clientHeight||(!_&&S>0||!w&&S<0?(I.preventDefault(),_r.flushSync(()=>{l(N=>N+Math[O](S,E*k))})):/firefox/i.test(cH())&&(y.scrollTop+=S))}const y=(o==null?void 0:o.current)||r.floating;if(n&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{f.current=y.scrollTop,s.current!=null&&(d.current={...s.current})}),()=>{f.current=null,d.current=null,y.removeEventListener("wheel",m)}},[i,n,r.floating,s,o,l]);const h=v.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const m=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!m||!u.current)){if(f.current!==null){const y=m.scrollTop-f.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&_r.flushSync(()=>l(I=>I+y))}requestAnimationFrame(()=>{f.current=m.scrollTop})}}}),[r.floating,l,s,o]);return v.useMemo(()=>i?{floating:h}:{},[i,h])}let la=v.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});la.displayName="FloatingContext";let W0=v.createContext(null);W0.displayName="PlacementContext";function hW(t){return v.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function pW(){return v.useContext(la).setReference}function mW(){return v.useContext(la).getReferenceProps}function gW(){let{getFloatingProps:t,slot:e}=v.useContext(la);return v.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function yW(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=v.useContext(W0),n=v.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);_e(()=>{e==null||e(n??null)},[e,n]);let r=v.useContext(la);return v.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let CI=4;function vW({children:t,enabled:e=!0}){let[n,r]=v.useState(null),[i,s]=v.useState(0),o=v.useRef(null),[a,l]=v.useState(null);_W(a);let u=e&&n!==null&&a!==null,{to:f="bottom",gap:d=0,offset:h=0,padding:m=0,inner:y}=wW(n,a),[I,S="center"]=f.split(" ");_e(()=>{u&&s(0)},[u]);let{refs:_,floatingStyles:w,context:E}=uW({open:u,placement:I==="selection"?S==="center"?"bottom":`bottom-${S}`:S==="center"?`${I}`:`${I}-${S}`,strategy:"absolute",transform:!1,middleware:[dk({mainAxis:I==="selection"?0:d,crossAxis:h}),GH({padding:m}),I!=="selection"&&qH({padding:m}),I==="selection"&&y?fW({...y,padding:m,overflowRef:o,offset:i,minItemsVisible:CI,referenceOverflowThreshold:m,onFallbackChange(b){var D,x;if(!b)return;let re=E.elements.floating;if(!re)return;let Ee=parseFloat(getComputedStyle(re).scrollPaddingBottom)||0,he=Math.min(CI,re.childElementCount),ee=0,F=0;for(let L of(x=(D=E.elements.floating)==null?void 0:D.childNodes)!=null?x:[])if(L instanceof HTMLElement){let z=L.offsetTop,X=z+L.clientHeight+Ee,ie=re.scrollTop,se=ie+re.clientHeight;if(z>=ie&&X<=se)he--;else{F=Math.max(0,Math.min(X,se)-Math.max(z,ie)),ee=L.clientHeight;break}}he>=1&&s(L=>{let z=ee*he-F+Ee;return L>=z?L:z})}}):null,QH({padding:m,apply({availableWidth:b,availableHeight:D,elements:x}){Object.assign(x.floating.style,{overflow:"auto",maxWidth:`${b}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${D}px)`})}})].filter(Boolean),whileElementsMounted:UH}),[k=I,O=S]=E.placement.split("-");I==="selection"&&(k="selection");let N=v.useMemo(()=>({anchor:[k,O].filter(Boolean).join(" ")}),[k,O]),P=dW(E,{overflowRef:o,onChange:s}),{getReferenceProps:T,getFloatingProps:C}=cW([P]),R=Z(b=>{l(b),_.setFloating(b)});return v.createElement(W0.Provider,{value:r},v.createElement(la.Provider,{value:{setFloating:R,setReference:_.setReference,styles:w,getReferenceProps:T,getFloatingProps:C,slot:N}},t))}function _W(t){_e(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function wW(t,e){var n,r,i;let s=zp((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=zp((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=zp((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function zp(t,e,n=void 0){let r=ia(),i=Z((l,u)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[n,null];let f=RI(l,u);return[f,d=>{let h=mk(l);{let m=h.map(y=>window.getComputedStyle(u).getPropertyValue(y));r.requestAnimationFrame(function y(){r.nextFrame(y);let I=!1;for(let[_,w]of h.entries()){let E=window.getComputedStyle(u).getPropertyValue(w);if(m[_]!==E){m[_]=E,I=!0;break}}if(!I)return;let S=RI(l,u);f!==S&&(d(S),f=S)})}return r.dispose}]}return[n,null]}),s=v.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=v.useState();return _e(()=>{let[l,u]=i(t,e);if(a(l),!!u)return u(a)},[t,e]),o}function mk(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...mk(i)]:[r]}return[]}function RI(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let oh=v.createContext(null);oh.displayName="OpenClosedContext";var kt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(kt||{});function xu(){return v.useContext(oh)}function gk({value:t,children:e}){return q.createElement(oh.Provider,{value:t},e)}function EW({children:t}){return q.createElement(oh.Provider,{value:null},t)}var yk={exports:{}},vk={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=v;function TW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IW=typeof Object.is=="function"?Object.is:TW,SW=bu.useSyncExternalStore,AW=bu.useRef,PW=bu.useEffect,CW=bu.useMemo,RW=bu.useDebugValue;vk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AW(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=CW(function(){function l(m){if(!u){if(u=!0,f=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return d=y}return d=m}if(y=d,IW(f,m))return y;var I=r(m);return i!==void 0&&i(y,I)?(f=m,y):(f=m,d=I)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=SW(t,s[0],s[1]);return PW(function(){o.hasValue=!0,o.value=a},[a]),RW(a),a};yk.exports=vk;var xW=yk.exports,_k=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},vn=(t,e,n)=>(_k(t,e,"read from private field"),n?n.call(t):e.get(t)),Hp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},xI=(t,e,n,r)=>(_k(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),sr,Wa,Ka;class bW{constructor(e){Hp(this,sr,{}),Hp(this,Wa,new $b(()=>new Set)),Hp(this,Ka,new Set),xI(this,sr,e)}get state(){return vn(this,sr)}subscribe(e,n){let r={selector:e,callback:n,current:e(vn(this,sr))};return vn(this,Ka).add(r),()=>{vn(this,Ka).delete(r)}}on(e,n){return vn(this,Wa).get(e).add(n),()=>{vn(this,Wa).get(e).delete(n)}}send(e){xI(this,sr,this.reduce(vn(this,sr),e));for(let n of vn(this,Ka)){let r=n.selector(vn(this,sr));wk(n.current,r)||(n.current=r,n.callback(r))}for(let n of vn(this,Wa).get(e.type))n(vn(this,sr),e)}}sr=new WeakMap,Wa=new WeakMap,Ka=new WeakMap;function wk(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Wp(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Wp(t.entries(),e.entries()):bI(t)&&bI(e)?Wp(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Wp(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function bI(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function kI(t){let[e,n]=t(),r=On();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}function Xr(t,e,n=wk){return xW.useSyncExternalStoreWithSelector(Z(r=>t.subscribe(kW,r)),Z(()=>t.state),Z(()=>t.state),Z(e),n)}function kW(t){return t}function DW(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Wr=[];DW(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Wr[0]===e.target)return;let n=e.target;n=n.closest(id),Wr.unshift(n??e.target),Wr=Wr.filter(r=>r!=null&&r.isConnected),Wr.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function OW(t){throw new Error("Unexpected object: "+t)}var $e=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))($e||{});function Pc(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:OW(t)}}function Ek(t){let e=Z(t),n=v.useRef(!1);v.useEffect(()=>(n.current=!1,()=>{n.current=!0,eh(()=>{n.current&&e()})}),[e])}function VW(){let t=typeof document>"u";return"useSyncExternalStore"in rf?(e=>e.useSyncExternalStore)(rf)(()=>()=>{},()=>!1,()=>!t):!1}function ku(){let t=VW(),[e,n]=v.useState(as.isHandoffComplete);return e&&as.isHandoffComplete===!1&&n(!1),v.useEffect(()=>{e!==!0&&n(!0)},[e]),v.useEffect(()=>as.handoff(),[]),t?!1:e}let Tk=v.createContext(!1);function NW(){return v.useContext(Tk)}function DI(t){return q.createElement(Tk.Provider,{value:t.force},t.children)}function MW(t){let e=NW(),n=v.useContext(Sk),[r,i]=v.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(as.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return v.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),v.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let Ik=v.Fragment,LW=Me(function(t,e){let{ownerDocument:n=null,...r}=t,i=v.useRef(null),s=Lt(Pz(m=>{i.current=m}),e),o=Uo(i),a=n??o,l=MW(a),[u]=v.useState(()=>{var m;return as.isServer?null:(m=a==null?void 0:a.createElement("div"))!=null?m:null}),f=v.useContext(Yg),d=ku();_e(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),_e(()=>{if(u&&f)return f.register(u)},[f,u]),Ek(()=>{var m;!l||!u||(u instanceof Node&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let h=Ke();return d?!l||!u?null:_r.createPortal(h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:Ik,name:"Portal"}),u):null});function FW(t,e){let n=Lt(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Ke();return r?q.createElement(LW,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:Ik,name:"Portal"})}let $W=v.Fragment,Sk=v.createContext(null);function UW(t,e){let{target:n,...r}=t,i={ref:Lt(e)},s=Ke();return q.createElement(Sk.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:$W,name:"Popover.Group"}))}let Yg=v.createContext(null);function BW(){let t=v.useContext(Yg),e=v.useRef([]),n=Z(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Z(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=v.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,v.useMemo(()=>function({children:s}){return q.createElement(Yg.Provider,{value:i},s)},[i])]}let jW=Me(FW),Ak=Me(UW),Pk=Object.assign(jW,{Group:Ak});function zW(t,e=typeof document<"u"?document.defaultView:null,n){let r=sa(t,"escape");Yb(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Je.Escape&&n(i))})}function HW(){var t;let[e]=v.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=v.useState((t=e==null?void 0:e.matches)!=null?t:!1);return _e(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function WW({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Uo(n),i=Z(()=>{var s,o;let a=[];for(let l of t)l!==null&&(l instanceof HTMLElement?a.push(l):"current"in l&&l.current instanceof HTMLElement&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:Z(s=>i().some(o=>o.contains(s)))}}let Ck=v.createContext(null);function OI({children:t,node:e}){let[n,r]=v.useState(null),i=Rk(e??n);return q.createElement(Ck.Provider,{value:i},t,i===null&&q.createElement(Hg,{features:rd.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=xs(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l!=null&&l.contains(s)){r(l);break}}}}))}function Rk(t=null){var e;return(e=v.useContext(Ck))!=null?e:t}function K0(){let t=v.useRef(!1);return _e(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Ga=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ga||{});function KW(){let t=v.useRef(0);return qb(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function xk(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let GW="div";var Gi=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Gi||{});function qW(t,e){let n=v.useRef(null),r=Lt(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;ku()||(a=0);let u=Uo(n);JW(a,{ownerDocument:u});let f=ZW(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});e7(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:f});let d=KW(),h=Z(w=>{let E=n.current;E&&(k=>k())(()=>{Zn(d.current,{[Ga.Forwards]:()=>{vo(E,In.First,{skipElements:[w.relatedTarget,s]})},[Ga.Backwards]:()=>{vo(E,In.Last,{skipElements:[w.relatedTarget,s]})}})})}),m=sa(!!(a&2),"focus-trap#tab-lock"),y=ia(),I=v.useRef(!1),S={ref:r,onKeyDown(w){w.key=="Tab"&&(I.current=!0,y.requestAnimationFrame(()=>{I.current=!1}))},onBlur(w){if(!(a&4))return;let E=xk(o);n.current instanceof HTMLElement&&E.add(n.current);let k=w.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(bk(E,k)||(I.current?vo(n.current,Zn(d.current,{[Ga.Forwards]:()=>In.Next,[Ga.Backwards]:()=>In.Previous})|In.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Gn(w.target)))}},_=Ke();return q.createElement(q.Fragment,null,m&&q.createElement(Hg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:rd.Focusable}),_({ourProps:S,theirProps:l,defaultTag:GW,name:"FocusTrap"}),m&&q.createElement(Hg,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:rd.Focusable}))}let QW=Me(qW),YW=Object.assign(QW,{features:Gi});function XW(t=!0){let e=v.useRef(Wr.slice());return U0(([n],[r])=>{r===!0&&n===!1&&eh(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Wr.slice())},[t,Wr,e]),Z(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function JW(t,{ownerDocument:e}){let n=!!(t&8),r=XW(n);U0(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Gn(r())},[n]),Ek(()=>{n&&Gn(r())})}function ZW(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=v.useRef(null),o=sa(!!(t&1),"focus-trap#initial-focus"),a=K0();return U0(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Gn(i.current);return}let l=n.current;l&&eh(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)Gn(r.current);else{if(t&16){if(vo(l,In.First|In.AutoFocus)!==Kg.Error)return}else if(vo(l,In.First)!==Kg.Error)return;if(i!=null&&i.current&&(Gn(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function e7(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=K0(),o=!!(t&4);Yb(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=xk(r);n.current instanceof HTMLElement&&l.add(n.current);let u=i.current;if(!u)return;let f=a.target;f&&f instanceof HTMLElement?bk(l,f)?(i.current=f,Gn(f)):(a.preventDefault(),a.stopPropagation(),Gn(u)):Gn(i.current)},!0)}function bk(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function kk(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Ok)!==v.Fragment||q.Children.count(t.children)===1}let ah=v.createContext(null);ah.displayName="TransitionContext";var t7=(t=>(t.Visible="visible",t.Hidden="hidden",t))(t7||{});function n7(){let t=v.useContext(ah);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function r7(){let t=v.useContext(lh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let lh=v.createContext(null);lh.displayName="NestingContext";function uh(t){return"children"in t?uh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Dk(t,e){let n=bs(t),r=v.useRef([]),i=K0(),s=ia(),o=Z((m,y=Yr.Hidden)=>{let I=r.current.findIndex(({el:S})=>S===m);I!==-1&&(Zn(y,{[Yr.Unmount](){r.current.splice(I,1)},[Yr.Hidden](){r.current[I].state="hidden"}}),s.microTask(()=>{var S;!uh(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),a=Z(m=>{let y=r.current.find(({el:I})=>I===m);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,Yr.Unmount)}),l=v.useRef([]),u=v.useRef(Promise.resolve()),f=v.useRef({enter:[],leave:[]}),d=Z((m,y,I)=>{l.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([S])=>S!==m)),e==null||e.chains.current[y].push([m,new Promise(S=>{l.current.push(S)})]),e==null||e.chains.current[y].push([m,new Promise(S=>{Promise.all(f.current[y].map(([_,w])=>w)).then(()=>S())})]),y==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>I(y)):I(y)}),h=Z((m,y,I)=>{Promise.all(f.current[y].splice(0).map(([S,_])=>_)).then(()=>{var S;(S=l.current.shift())==null||S()}).then(()=>I(y))});return v.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:h,wait:u,chains:f}),[a,o,r,d,h,f,u])}let Ok=v.Fragment,Vk=$o.RenderStrategy;function i7(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:f,enterTo:d,entered:h,leave:m,leaveFrom:y,leaveTo:I,...S}=t,[_,w]=v.useState(null),E=v.useRef(null),k=kk(t),O=Lt(...k?[E,e,w]:e===null?[]:[e]),N=(n=S.unmount)==null||n?Yr.Unmount:Yr.Hidden,{show:P,appear:T,initial:C}=n7(),[R,b]=v.useState(P?"visible":"hidden"),D=r7(),{register:x,unregister:re}=D;_e(()=>x(E),[x,E]),_e(()=>{if(N===Yr.Hidden&&E.current){if(P&&R!=="visible"){b("visible");return}return Zn(R,{hidden:()=>re(E),visible:()=>x(E)})}},[R,E,x,re,P,N]);let Ee=ku();_e(()=>{if(k&&Ee&&R==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,R,Ee,k]);let he=C&&!T,ee=T&&P&&C,F=v.useRef(!1),L=Dk(()=>{F.current||(b("hidden"),re(E))},D),z=Z(Ft=>{F.current=!0;let ks=Ft?"enter":"leave";L.onStart(E,ks,Mi=>{Mi==="enter"?s==null||s():Mi==="leave"&&(a==null||a())})}),X=Z(Ft=>{let ks=Ft?"enter":"leave";F.current=!1,L.onStop(E,ks,Mi=>{Mi==="enter"?o==null||o():Mi==="leave"&&(l==null||l())}),ks==="leave"&&!uh(L)&&(b("hidden"),re(E))});v.useEffect(()=>{k&&i||(z(P),X(P))},[P,k,i]);let ie=(()=>!(!i||!k||!Ee||he))(),[,se]=Zb(ie,_,P,{start:z,end:X}),pn=Ki({ref:O,className:((r=zg(S.className,ee&&u,ee&&f,se.enter&&u,se.enter&&se.closed&&f,se.enter&&!se.closed&&d,se.leave&&m,se.leave&&!se.closed&&y,se.leave&&se.closed&&I,!se.transition&&P&&h))==null?void 0:r.trim())||void 0,...Jb(se)}),At=0;R==="visible"&&(At|=kt.Open),R==="hidden"&&(At|=kt.Closed),P&&R==="hidden"&&(At|=kt.Opening),!P&&R==="visible"&&(At|=kt.Closing);let mn=Ke();return q.createElement(lh.Provider,{value:L},q.createElement(gk,{value:At},mn({ourProps:pn,theirProps:S,defaultTag:Ok,features:Vk,visible:R==="visible",name:"Transition.Child"})))}function s7(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=v.useRef(null),a=kk(t),l=Lt(...a?[o,e]:e===null?[]:[e]);ku();let u=xu();if(n===void 0&&u!==null&&(n=(u&kt.Open)===kt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=v.useState(n?"visible":"hidden"),h=Dk(()=>{n||d("hidden")}),[m,y]=v.useState(!0),I=v.useRef([n]);_e(()=>{m!==!1&&I.current[I.current.length-1]!==n&&(I.current.push(n),y(!1))},[I,n]);let S=v.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);_e(()=>{n?d("visible"):!uh(h)&&o.current!==null&&d("hidden")},[n,h]);let _={unmount:i},w=Z(()=>{var O;m&&y(!1),(O=t.beforeEnter)==null||O.call(t)}),E=Z(()=>{var O;m&&y(!1),(O=t.beforeLeave)==null||O.call(t)}),k=Ke();return q.createElement(lh.Provider,{value:h},q.createElement(ah.Provider,{value:S},k({ourProps:{..._,as:v.Fragment,children:q.createElement(Nk,{ref:l,..._,...s,beforeEnter:w,beforeLeave:E})},theirProps:{},defaultTag:v.Fragment,features:Vk,visible:f==="visible",name:"Transition"})))}function o7(t,e){let n=v.useContext(ah)!==null,r=xu()!==null;return q.createElement(q.Fragment,null,!n&&r?q.createElement(Xg,{ref:e,...t}):q.createElement(Nk,{ref:e,...t}))}let Xg=Me(s7),Nk=Me(i7),G0=Me(o7),a7=Object.assign(Xg,{Child:G0,Root:Xg});var l7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(l7||{}),u7=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(u7||{});let c7={[0](t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},q0=v.createContext(null);q0.displayName="DialogContext";function ch(t){let e=v.useContext(q0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ch),n}return e}function f7(t,e){return Zn(e.type,c7,t,e)}let VI=Me(function(t,e){let n=v.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:f=!1,...d}=t,h=v.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=xu();i===void 0&&m!==null&&(i=(m&kt.Open)===kt.Open);let y=v.useRef(null),I=Lt(y,e),S=Uo(y),_=i?0:1,[w,E]=v.useReducer(f7,{titleId:null,descriptionId:null,panelRef:v.createRef()}),k=Z(()=>s(!1)),O=Z(X=>E({type:0,id:X})),N=ku()?_===0:!1,[P,T]=BW(),C={get current(){var X;return(X=w.panelRef.current)!=null?X:y.current}},R=Rk(),{resolveContainers:b}=WW({mainTreeNode:R,portals:P,defaultContainers:[C]}),D=m!==null?(m&kt.Closing)===kt.Closing:!1;jb(u||D?!1:N,{allowed:Z(()=>{var X,ie;return[(ie=(X=y.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Z(()=>{var X;return[(X=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})}),Qb(N,b,X=>{X.preventDefault(),k()}),zW(N,S==null?void 0:S.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),Xb(u||D?!1:N,S,b),zb(N,y,k);let[x,re]=Lb(),Ee=v.useMemo(()=>[{dialogState:_,close:k,setTitleId:O,unmount:f},w],[_,w,k,O,f]),he=v.useMemo(()=>({open:_===0}),[_]),ee={ref:I,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:_===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":x,unmount:f},F=!HW(),L=Gi.None;N&&!u&&(L|=Gi.RestoreFocus,L|=Gi.TabLock,l&&(L|=Gi.AutoFocus),F&&(L|=Gi.InitialFocus));let z=Ke();return q.createElement(EW,null,q.createElement(DI,{force:!0},q.createElement(Pk,null,q.createElement(q0.Provider,{value:Ee},q.createElement(Ak,{target:y},q.createElement(DI,{force:!1},q.createElement(re,{slot:he},q.createElement(T,null,q.createElement(YW,{initialFocus:o,initialFocusFallback:y,containers:b,features:L},q.createElement(Mz,{value:k},z({ourProps:ee,theirProps:d,slot:he,defaultTag:d7,features:h7,visible:_===0,name:"Dialog"})))))))))))}),d7="div",h7=$o.RenderStrategy|$o.Static;function p7(t,e){let{transition:n=!1,open:r,...i}=t,s=xu(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?q.createElement(OI,null,q.createElement(a7,{show:r,transition:n,unmount:i.unmount},q.createElement(VI,{ref:e,...i}))):q.createElement(OI,null,q.createElement(VI,{ref:e,open:r,...i}))}let m7="div";function g7(t,e){let n=v.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=ch("Dialog.Panel"),u=Lt(e,l.panelRef),f=v.useMemo(()=>({open:o===0}),[o]),d=Z(S=>{S.stopPropagation()}),h={ref:u,id:r,onClick:d},m=i?G0:v.Fragment,y=i?{unmount:a}:{},I=Ke();return q.createElement(m,{...y},I({ourProps:h,theirProps:s,slot:f,defaultTag:m7,name:"Dialog.Panel"}))}let y7="div";function v7(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=ch("Dialog.Backdrop"),o=v.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?G0:v.Fragment,u=n?{unmount:s}:{},f=Ke();return q.createElement(l,{...u},f({ourProps:a,theirProps:r,slot:o,defaultTag:y7,name:"Dialog.Backdrop"}))}let _7="h2";function w7(t,e){let n=v.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=ch("Dialog.Title"),a=Lt(e);v.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=v.useMemo(()=>({open:s===0}),[s]),u={ref:a,id:r};return Ke()({ourProps:u,theirProps:i,slot:l,defaultTag:_7,name:"Dialog.Title"})}let E7=Me(p7),T7=Me(g7);Me(v7);let I7=Me(w7),W8=Object.assign(E7,{Panel:T7,Title:I7,Description:bz});function S7(t,e){let n=v.useRef({left:0,top:0});if(_e(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let NI=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function MI(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return NI.test(o)&&(o=o.replace(NI,"")),o}function A7(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():MI(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return MI(t).trim()}function P7(t){let e=v.useRef(""),n=v.useRef("");return Z(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=A7(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var C7=Object.defineProperty,R7=(t,e,n)=>e in t?C7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LI=(t,e,n)=>(R7(t,typeof e!="symbol"?e+"":e,n),n),st=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(st||{}),ld=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(ld||{}),ve=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t))(ve||{});function FI(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=Kb(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let x7={[1](t){return t.menuState===1?t:{...t,activeItemIndex:null,pendingFocus:{focus:$e.Nothing},menuState:1}},[0](t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0}},[2]:(t,e)=>{var n,r,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===$e.Nothing)return{...a,activeItemIndex:null};if(e.focus===$e.Specific)return{...a,activeItemIndex:t.items.findIndex(f=>f.id===e.id)};if(e.focus===$e.Previous){let f=t.activeItemIndex;if(f!==null){let d=t.items[f].dataRef.current.domRef,h=Pc(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(h!==null){let m=t.items[h].dataRef.current.domRef;if(((r=d.current)==null?void 0:r.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:h}}}}else if(e.focus===$e.Next){let f=t.activeItemIndex;if(f!==null){let d=t.items[f].dataRef.current.domRef,h=Pc(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(h!==null){let m=t.items[h].dataRef.current.domRef;if(((s=d.current)==null?void 0:s.nextElementSibling)===m.current||((o=m.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:h}}}}let l=FI(t),u=Pc(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...a,...l,activeItemIndex:u}},[3]:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},[4](t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},[5]:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==$e.Nothing&&(r=Pc(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:$e.Nothing},pendingShouldSort:!0}},[6]:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},[7]:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},[8]:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},[9]:t=>t.pendingShouldSort?{...t,...FI(t),pendingShouldSort:!1}:t};class Q0 extends bW{constructor(e){super(e),LI(this,"actions",{registerItem:kI(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:kI(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),LI(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,o=n.items;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})})}static new({__demoMode:e=!1}={}){return new Q0({__demoMode:e,menuState:e?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:$e.Nothing}})}reduce(e,n){return Zn(n.type,x7,e,n)}}const Mk=v.createContext(null);function Y0(t){let e=v.useContext(Mk);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lk),n}return e}function Lk({__demoMode:t=!1}={}){return v.useMemo(()=>Q0.new({__demoMode:t}),[])}let b7=v.Fragment;function k7(t,e){let{__demoMode:n=!1,...r}=t,i=Lk({__demoMode:n}),[s,o,a]=Xr(i,y=>[y.menuState,y.itemsElement,y.buttonElement]),l=Lt(e),u=s===st.Open;Qb(u,[a,o],(y,I)=>{var S;i.send({type:ve.CloseMenu}),$0(I,F0.Loose)||(y.preventDefault(),(S=i.state.buttonElement)==null||S.focus())});let f=Z(()=>{i.send({type:ve.CloseMenu})}),d=v.useMemo(()=>({open:s===st.Open,close:f}),[s,f]),h={ref:l},m=Ke();return q.createElement(vW,null,q.createElement(Mk.Provider,{value:i},q.createElement(gk,{value:Zn(s,{[st.Open]:kt.Open,[st.Closed]:kt.Closed})},m({ourProps:h,theirProps:r,slot:d,defaultTag:b7,name:"Menu"}))))}let D7="button";function O7(t,e){let n=Y0("Menu.Button"),r=v.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=v.useRef(null),u=mW(),f=Lt(e,l,pW(),Z(T=>n.send({type:ve.SetButtonElement,element:T}))),d=Z(T=>{switch(T.key){case Je.Space:case Je.Enter:case Je.ArrowDown:T.preventDefault(),T.stopPropagation(),n.send({type:ve.OpenMenu,focus:{focus:$e.First}});break;case Je.ArrowUp:T.preventDefault(),T.stopPropagation(),n.send({type:ve.OpenMenu,focus:{focus:$e.Last}});break}}),h=Z(T=>{switch(T.key){case Je.Space:T.preventDefault();break}}),[m,y]=Xr(n,T=>[T.menuState,T.itemsElement]),I=Z(T=>{var C;if(T.button===0){if(Sz(T.currentTarget))return T.preventDefault();s||(m===st.Open?(_r.flushSync(()=>n.send({type:ve.CloseMenu})),(C=l.current)==null||C.focus({preventScroll:!0})):(T.preventDefault(),n.send({type:ve.OpenMenu,focus:{focus:$e.Nothing},trigger:ld.Pointer})))}}),{isFocusVisible:S,focusProps:_}=lz({autoFocus:o}),{isHovered:w,hoverProps:E}=az({isDisabled:s}),{pressed:k,pressProps:O}=pz({disabled:s}),N=v.useMemo(()=>({open:m===st.Open,active:k||m===st.Open,disabled:s,hover:w,focus:S,autofocus:o}),[m,w,S,k,s,o]),P=Vb(u(),{ref:f,id:i,type:Qz(t,l.current),"aria-haspopup":"menu","aria-controls":y==null?void 0:y.id,"aria-expanded":m===st.Open,disabled:s||void 0,autoFocus:o,onKeyDown:d,onKeyUp:h,onMouseDown:I},_,E,O);return Ke()({ourProps:P,theirProps:a,slot:N,defaultTag:D7,name:"Menu.Button"})}let V7="div",N7=$o.RenderStrategy|$o.Static;function M7(t,e){let n=v.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,u=hW(i),f=Y0("Menu.Items"),[d,h]=yW(u),m=gW(),[y,I]=v.useState(null),S=Lt(e,u?d:null,Z(L=>f.send({type:ve.SetItemsElement,element:L})),I),[_,w]=Xr(f,L=>[L.menuState,L.buttonElement]),E=Uo(w),k=Uo(y);u&&(s=!0);let O=xu(),[N,P]=Zb(a,y,O!==null?(O&kt.Open)===kt.Open:_===st.Open);zb(N,w,()=>{f.send({type:ve.CloseMenu})});let T=Xr(f,L=>L.__demoMode),C=T?!1:o&&_===st.Open;Xb(C,k);let R=T?!1:o&&_===st.Open;jb(R,{allowed:v.useCallback(()=>[w,y],[w,y])});let b=_!==st.Open,D=S7(b,w)?!1:N;v.useEffect(()=>{let L=y;L&&_===st.Open&&L!==(k==null?void 0:k.activeElement)&&L.focus({preventScroll:!0})},[_,y,k]),aH(_===st.Open,{container:y,accept(L){return L.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:L.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(L){L.setAttribute("role","none")}});let x=ia(),re=Z(L=>{var z,X,ie;switch(x.dispose(),L.key){case Je.Space:if(f.state.searchQuery!=="")return L.preventDefault(),L.stopPropagation(),f.send({type:ve.Search,value:L.key});case Je.Enter:if(L.preventDefault(),L.stopPropagation(),f.state.activeItemIndex!==null){let{dataRef:se}=f.state.items[f.state.activeItemIndex];(X=(z=se.current)==null?void 0:z.domRef.current)==null||X.click()}f.send({type:ve.CloseMenu}),Wb(f.state.buttonElement);break;case Je.ArrowDown:return L.preventDefault(),L.stopPropagation(),f.send({type:ve.GoToItem,focus:$e.Next});case Je.ArrowUp:return L.preventDefault(),L.stopPropagation(),f.send({type:ve.GoToItem,focus:$e.Previous});case Je.Home:case Je.PageUp:return L.preventDefault(),L.stopPropagation(),f.send({type:ve.GoToItem,focus:$e.First});case Je.End:case Je.PageDown:return L.preventDefault(),L.stopPropagation(),f.send({type:ve.GoToItem,focus:$e.Last});case Je.Escape:L.preventDefault(),L.stopPropagation(),_r.flushSync(()=>f.send({type:ve.CloseMenu})),(ie=f.state.buttonElement)==null||ie.focus({preventScroll:!0});break;case Je.Tab:L.preventDefault(),L.stopPropagation(),_r.flushSync(()=>f.send({type:ve.CloseMenu})),Kz(f.state.buttonElement,L.shiftKey?In.Previous:In.Next);break;default:L.key.length===1&&(f.send({type:ve.Search,value:L.key}),x.setTimeout(()=>f.send({type:ve.ClearSearch}),350));break}}),Ee=Z(L=>{switch(L.key){case Je.Space:L.preventDefault();break}}),he=v.useMemo(()=>({open:_===st.Open}),[_]),ee=Vb(u?m():{},{"aria-activedescendant":Xr(f,f.selectors.activeDescendantId),"aria-labelledby":Xr(f,L=>{var z;return(z=L.buttonElement)==null?void 0:z.id}),id:r,onKeyDown:re,onKeyUp:Ee,role:"menu",tabIndex:_===st.Open?0:void 0,ref:S,style:{...l.style,...h,"--button-width":Fz(w,!0).width},...Jb(P)}),F=Ke();return q.createElement(Pk,{enabled:s?t.static||N:!1,ownerDocument:E},F({ourProps:ee,theirProps:l,slot:he,defaultTag:V7,features:N7,visible:D,name:"Menu.Items"}))}let L7=v.Fragment;function F7(t,e){let n=v.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,o=Y0("Menu.Item"),a=Xr(o,b=>o.selectors.isActive(b,r)),l=v.useRef(null),u=Lt(e,l),f=Xr(o,b=>o.selectors.shouldScrollIntoView(b,r));_e(()=>{if(f)return On().requestAnimationFrame(()=>{var b,D;(D=(b=l.current)==null?void 0:b.scrollIntoView)==null||D.call(b,{block:"nearest"})})},[f,l]);let d=P7(l),h=v.useRef({disabled:i,domRef:l,get textValue(){return d()}});_e(()=>{h.current.disabled=i},[h,i]),_e(()=>(o.actions.registerItem(r,h),()=>o.actions.unregisterItem(r)),[h,r]);let m=Z(()=>{o.send({type:ve.CloseMenu})}),y=Z(b=>{if(i)return b.preventDefault();o.send({type:ve.CloseMenu}),Wb(o.state.buttonElement)}),I=Z(()=>{if(i)return o.send({type:ve.GoToItem,focus:$e.Nothing});o.send({type:ve.GoToItem,focus:$e.Specific,id:r})}),S=tH(),_=Z(b=>{S.update(b),!i&&(a||o.send({type:ve.GoToItem,focus:$e.Specific,id:r,trigger:ld.Pointer}))}),w=Z(b=>{S.wasMoved(b)&&(i||a||o.send({type:ve.GoToItem,focus:$e.Specific,id:r,trigger:ld.Pointer}))}),E=Z(b=>{S.wasMoved(b)&&(i||a&&o.send({type:ve.GoToItem,focus:$e.Nothing}))}),[k,O]=Fb(),[N,P]=Lb(),T=v.useMemo(()=>({active:a,focus:a,disabled:i,close:m}),[a,i,m]),C={id:r,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":k,"aria-describedby":N,disabled:void 0,onClick:y,onFocus:I,onPointerEnter:_,onMouseEnter:_,onPointerMove:w,onMouseMove:w,onPointerLeave:E,onMouseLeave:E},R=Ke();return q.createElement(O,null,q.createElement(P,null,R({ourProps:C,theirProps:s,slot:T,defaultTag:L7,name:"Menu.Item"})))}let $7="div";function U7(t,e){let[n,r]=Fb(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},o=Ke();return q.createElement(r,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:$7,name:"Menu.Section"}))}let B7="header";function j7(t,e){let n=v.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=L0();_e(()=>s.register(r),[r,s.register]);let o={id:r,ref:e,role:"presentation",...s.props};return Ke()({ourProps:o,theirProps:i,slot:{},defaultTag:B7,name:"Menu.Heading"})}let z7="div";function H7(t,e){let n=t,r={ref:e,role:"separator"};return Ke()({ourProps:r,theirProps:n,slot:{},defaultTag:z7,name:"Menu.Separator"})}let W7=Me(k7),K7=Me(O7),G7=Me(M7),q7=Me(F7),Q7=Me(U7),Y7=Me(j7),X7=Me(H7),K8=Object.assign(W7,{Button:K7,Items:G7,Item:q7,Section:Q7,Heading:Y7,Separator:X7});function J7(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}J7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var X0=t=>typeof t=="number"&&!isNaN(t),eu=t=>typeof t=="string",Fk=t=>typeof t=="function",Z7=t=>eu(t)||X0(t),e8=t=>v.isValidElement(t)||eu(t)||Fk(t)||X0(t),t8=1,$k=()=>`${t8++}`,Qn=new Map,Jg=[],$I=new Set,Uk=()=>Qn.size>0,n8=(t,{containerId:e})=>{var n;return(n=Qn.get(e||1))==null?void 0:n.toasts.get(t)};function r8(t,e){var n;if(e)return!!((n=Qn.get(e))!=null&&n.isToastActive(t));let r=!1;return Qn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function i8(t){if(!Uk()){Jg=Jg.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Z7(t))Qn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Qn.get(t.containerId);e?e.removeToast(t.id):Qn.forEach(n=>{n.removeToast(t.id)})}}var s8=(t={})=>{Qn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function o8(t,e){e8(t)&&(Uk()||Jg.push({content:t,options:e}),Qn.forEach(n=>{n.buildToast(t,e)}))}function Bk(t,e){Qn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function a8(t){return $I.add(t),()=>{$I.delete(t)}}function l8(t){return t&&(eu(t.toastId)||X0(t.toastId))?t.toastId:$k()}function Du(t,e){return o8(t,e),e.toastId}function fh(t,e){return{...e,type:e&&e.type||t,toastId:l8(e)}}function dh(t){return(e,n)=>Du(e,fh(t,n))}function xe(t,e){return Du(t,fh("default",e))}xe.loading=(t,e)=>Du(t,fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function u8(t,{pending:e,error:n,success:r},i){let s;e&&(s=eu(e)?xe.loading(e,i):xe.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,f,d)=>{if(f==null){xe.dismiss(s);return}let h={type:u,...o,...i,data:d},m=eu(f)?{render:f}:f;return s?xe.update(s,{...h,...m}):xe(m.render,{...h,...m}),d},l=Fk(t)?t():t;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}xe.promise=u8;xe.success=dh("success");xe.info=dh("info");xe.error=dh("error");xe.warning=dh("warning");xe.warn=xe.warning;xe.dark=(t,e)=>Du(t,fh("default",{theme:"dark",...e}));function c8(t){i8(t)}xe.dismiss=c8;xe.clearWaitingQueue=s8;xe.isActive=r8;xe.update=(t,e={})=>{let n=n8(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:$k()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Du(o,s)}};xe.done=t=>{xe.update(t,{progress:1})};xe.onChange=a8;xe.play=t=>Bk(!0,t);xe.pause=t=>Bk(!1,t);export{D8 as A,j8 as B,M8 as C,B8 as D,$8 as E,U8 as F,K8 as G,xe as H,I8 as I,L8 as J,h8 as K,p8 as L,bN as M,f8 as N,m8 as O,jV as P,d8 as R,w8 as a,C8 as b,Bt as c,ou as d,A9 as e,k8 as f,S8 as g,V8 as h,l3 as i,Kp as j,sP as k,E8 as l,v8 as m,T8 as n,v5 as o,q as p,b8 as q,v as r,O8 as s,F8 as t,_8 as u,N8 as v,x8 as w,P8 as x,W8 as y,R8 as z};
